/*
THIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT ("AGREEMENT") LOCATED HERE:
https://www.infragistics.com/legal/license/igultimate-la
https://www.infragistics.com/legal/license/igultimate-eula
GOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.
*/
import { __extends, __values } from "tslib";
import { FinancialIndicator } from "./FinancialIndicator";
import { String_$type, Number_$type, typeCast, fromEnum, markType } from "igniteui-react-core";
import { DependencyProperty } from "igniteui-react-core";
import { PropertyMetadata } from "igniteui-react-core";
import { List$1 } from "igniteui-react-core";
import { AxisRange } from "./AxisRange";
import { isNaN_ } from "igniteui-react-core";
/**
 * @hidden
 */
var StrategyBasedIndicator = /** @class */ /*@__PURE__*/ (function (_super) {
    __extends(StrategyBasedIndicator, _super);
    function StrategyBasedIndicator() {
        var _this = _super.call(this) || this;
        _this.t9();
        return _this;
    }
    StrategyBasedIndicator.prototype.t9 = function () {
        this.tu = this.tv;
        this.ab = this.t8;
    };
    StrategyBasedIndicator.prototype.t1 = function () {
        return -2147483648;
    };
    StrategyBasedIndicator.prototype.ua = function (a) {
    };
    StrategyBasedIndicator.prototype.t3 = function () {
        return -2147483648;
    };
    StrategyBasedIndicator.prototype.t0 = function () {
        return -2147483648;
    };
    StrategyBasedIndicator.ue = function (a, b, c) {
        var d = DependencyProperty.i(c, Number_$type, b, new PropertyMetadata(2, a, function (e, f) { return (typeCast(StrategyBasedIndicator.$, e)).raisePropertyChanged(c, f.oldValue, f.newValue); }));
        StrategyBasedIndicator.ty.add(c);
        return d;
    };
    StrategyBasedIndicator.ud = function (a, b) {
        return StrategyBasedIndicator.ue(a, b, "Period");
    };
    StrategyBasedIndicator.ub = function (a, b) {
        return StrategyBasedIndicator.ue(a, b, "LongPeriod");
    };
    StrategyBasedIndicator.uf = function (a, b) {
        return StrategyBasedIndicator.ue(a, b, "ShortPeriod");
    };
    StrategyBasedIndicator.prototype.s7 = function (a, b) {
        var c = this.p3(a, b);
        var d = this.p4(c);
        return this.tu.b(c, d);
    };
    StrategyBasedIndicator.prototype.s4 = function (a, b) {
        var c = this.p3(a, b);
        if (b == 0) {
            return false;
        }
        if (!this.qz(this.s7(a, b))) {
            return false;
        }
        var d = this.p4(c);
        if (this.s0 != null) {
            c.minimumValue = this.s0.c;
            c.maximumValue = this.s0.b;
        }
        var e = this.tu.a(c, d);
        for (var f = 0; f < this.s9 && f < c.indicatorColumn.count; f++) {
            c.indicatorColumn.item(f, NaN);
        }
        if (this.qc != null && this.tx(c)) {
            this.qc.cv();
        }
        return e;
    };
    StrategyBasedIndicator.prototype.tx = function (a) {
        var e_1, _a;
        if (!isNaN_(a.minimumValue) && !isNaN_(a.maximumValue) && a.specifiesRange) {
            var b = this.s0;
            this.s0 = new AxisRange(a.minimumValue, a.maximumValue);
            return this.tw(b, this.s0);
        }
        var c = 1.7976931348623157E+308;
        var d = -1.7976931348623157E+308;
        try {
            for (var _b = __values(fromEnum(a.indicatorColumn)), _c = _b.next(); !_c.done; _c = _b.next()) {
                var e = _c.value;
                if (!isNaN_(e)) {
                    c = Math.min(c, e);
                    d = Math.max(d, e);
                }
            }
        }
        catch (e_1_1) {
            e_1 = { error: e_1_1 };
        }
        finally {
            try {
                if (_c && !_c.done && (_a = _b.return))
                    _a.call(_b);
            }
            finally {
                if (e_1)
                    throw e_1.error;
            }
        }
        var f = this.s0;
        this.s0 = new AxisRange(c, d);
        return this.tw(f, this.s0);
    };
    StrategyBasedIndicator.prototype.tw = function (a, b) {
        if (a == null || b == null) {
            return true;
        }
        if (a.c != b.c) {
            return true;
        }
        if (a.b != b.b) {
            return true;
        }
        return false;
    };
    StrategyBasedIndicator.prototype.t2 = function (a) {
        if (a == -2147483648) {
            return 0;
        }
        if (a > this.indicatorColumn.count && this.indicatorColumn.count > 0) {
            a = this.indicatorColumn.count - 1;
        }
        if (a < 1) {
            return 1;
        }
        return a;
    };
    StrategyBasedIndicator.prototype.p3 = function (a, b) {
        var c = _super.prototype.p3.call(this, a, b);
        c.indicatorColumn = this.indicatorColumn;
        c.period = this.t2(this.t1());
        c.shortPeriod = this.t2(this.t3());
        c.longPeriod = this.t2(this.t0());
        c.multiplier = this.tz();
        return c;
    };
    StrategyBasedIndicator.prototype.tz = function () {
        return 1;
    };
    StrategyBasedIndicator.uc = function (a, b) {
        var c = DependencyProperty.i("Multiplier", Number_$type, b, new PropertyMetadata(2, a, function (d, e) { return (typeCast(StrategyBasedIndicator.$, d)).raisePropertyChanged("Multiplier", e.oldValue, e.newValue); }));
        StrategyBasedIndicator.ty.add("Multiplier");
        return c;
    };
    StrategyBasedIndicator.prototype.lm = function (a, b, c, d) {
        _super.prototype.lm.call(this, a, b, c, d);
        if (StrategyBasedIndicator.ty.contains(b)) {
            if (this.qc != null && !this.qc.cv()) {
                this.p7.bx.e(this.gh);
                this.s4(0, this.indicatorColumn.count);
                if (this.s1.b7) {
                    this.s1.b5.g$i();
                }
                this.l0(false);
            }
        }
    };
    StrategyBasedIndicator.$t = markType(StrategyBasedIndicator, 'StrategyBasedIndicator', FinancialIndicator.$);
    StrategyBasedIndicator.ty = new List$1(String_$type, 0);
    return StrategyBasedIndicator;
}(FinancialIndicator));
export { StrategyBasedIndicator };
//# sourceMappingURL=StrategyBasedIndicator.js.map
