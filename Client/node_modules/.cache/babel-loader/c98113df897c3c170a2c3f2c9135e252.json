{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends, __read, __spreadArray, __values } from \"tslib\";\nimport { Base, String_$type, Number_$type, typeCast, fromEnum, markType } from \"./type\";\nimport { List$1 } from \"./List$1\";\nimport { Dictionary$2 } from \"./Dictionary$2\";\nimport { JsonDictionaryObject } from \"./JsonDictionaryObject\";\nimport { JsonDictionaryParser } from \"./JsonDictionaryParser\";\nimport { HashSet$1 } from \"./HashSet$1\";\nimport { Tuple$2 } from \"./Tuple$2\";\nimport { JsonDictionaryItem } from \"./JsonDictionaryItem\";\nimport { JsonDictionaryArray } from \"./JsonDictionaryArray\";\nimport { JsonDictionaryValue } from \"./JsonDictionaryValue\";\nimport { stringJoin, stringContains } from \"./string\";\n/**\n * @hidden\n */\n\nvar DescriptionJsonValidator =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(DescriptionJsonValidator, _super);\n\n  function DescriptionJsonValidator() {\n    var _this = _super.call(this) || this;\n\n    _this.i = new List$1(String_$type, 0);\n    _this.h = new Dictionary$2(String_$type, List$1.$.specialize(String_$type), 0);\n    _this.e = null;\n    _this.g = null;\n    return _this;\n  }\n\n  DescriptionJsonValidator.prototype.getContainingModules = function (a) {\n    if (this.h.containsKey(a)) {\n      return this.h.item(a).toArray();\n    }\n\n    return null;\n  };\n\n  DescriptionJsonValidator.prototype.validate = function (a) {\n    var b = new JsonDictionaryParser();\n    var c = b.parse(a);\n    var d = this.b(c);\n    var e = this.a(c);\n    var f = new HashSet$1(String_$type, 0);\n\n    for (var h = 0; h < e.length; h++) {\n      var g = e[h];\n      f.add_1(g);\n    }\n\n    var i = null;\n\n    for (var k = 0; k < d.length; k++) {\n      var j = d[k];\n      var l = this.getContainingModules(j);\n      var m = false;\n\n      for (var o = 0; o < l.length; o++) {\n        var n = l[o];\n\n        if (f.contains(n)) {\n          m = true;\n        }\n      }\n\n      if (!m) {\n        var p = a.indexOf(\"\\\"\" + j + \"\\\"\");\n        var q = this.l(a, p);\n        var r = q.c;\n        var s = q.d;\n        var t = s + (\"\\\"\" + j + \"\\\"\").length;\n        i = this.f(i, r, s, r, t, \"Type \" + j + \" appears not to have a containing module, consider adding one of: \" + stringJoin.apply(void 0, __spreadArray([\", \"], __read(l), false)));\n      }\n    }\n\n    for (var v = 0; v < d.length; v++) {\n      var u = d[v];\n\n      if (u == \"PropertyEditor\") {\n        var w = a.indexOf(\"\\\"\" + u + \"\\\"\");\n        var x = this.l(a, w);\n        var y = x.c;\n        var z = x.d;\n        var aa = z + (\"\\\"\" + u + \"\\\"\").length;\n\n        if (!f.contains(\"withDescriptions\")) {\n          i = this.f(i, y, z, y, aa, \"Property editor is included, but withDescriptions is not in modules, did you forget it?\");\n        }\n      }\n    }\n\n    return i == null ? null : i.b();\n  };\n\n  DescriptionJsonValidator.prototype.l = function (a, b) {\n    var c = a.split('\\n');\n    var d = 0;\n    var e = 0;\n\n    while (e <= b && d < c.length) {\n      var f = c[d];\n\n      if (f.length + 1 >= b - e) {\n        return new Tuple$2(Number_$type, Number_$type, d + 1, b - e + 1);\n      }\n\n      e += f.length + 1;\n      d++;\n    }\n\n    return new Tuple$2(Number_$type, Number_$type, d + 1, b - e + 1);\n  };\n\n  DescriptionJsonValidator.prototype.f = function (a, b, c, d, e, f) {\n    if (a == null) {\n      a = new JsonDictionaryObject();\n      a.item(\"warnings\", new JsonDictionaryArray());\n    }\n\n    var g = a.item(\"warnings\");\n    var h = g.items;\n    var i = new List$1(JsonDictionaryItem.$, 0);\n\n    if (h != null) {\n      for (var j = 0; j < h.length; j++) {\n        i.add(h[j]);\n      }\n    }\n\n    var k = new JsonDictionaryObject();\n    k.item(\"line\", function () {\n      var $ret = new JsonDictionaryValue();\n      $ret.e = 0;\n      $ret.value = b;\n      return $ret;\n    }());\n    k.item(\"column\", function () {\n      var $ret = new JsonDictionaryValue();\n      $ret.e = 0;\n      $ret.value = c;\n      return $ret;\n    }());\n    k.item(\"endLine\", function () {\n      var $ret = new JsonDictionaryValue();\n      $ret.e = 0;\n      $ret.value = d;\n      return $ret;\n    }());\n    k.item(\"endColumn\", function () {\n      var $ret = new JsonDictionaryValue();\n      $ret.e = 0;\n      $ret.value = e;\n      return $ret;\n    }());\n    k.item(\"message\", function () {\n      var $ret = new JsonDictionaryValue();\n      $ret.e = 2;\n      $ret.value = f;\n      return $ret;\n    }());\n    i.add(k);\n    g.items = i.toArray();\n    return a;\n  };\n\n  DescriptionJsonValidator.prototype.a = function (a) {\n    var b = new List$1(String_$type, 0);\n\n    if (a != null && a.g(\"modules\")) {\n      if (typeCast(JsonDictionaryArray.$, a.item(\"modules\")) !== null) {\n        var c = a.item(\"modules\");\n\n        if (c.items != null) {\n          for (var d = 0; d < c.items.length; d++) {\n            var e = c.items[d];\n            var f = e.value.toString();\n\n            if (stringContains(f, \"/\")) {\n              var g = f.split('/');\n              b.add(g[1]);\n            } else {\n              b.add(f);\n            }\n          }\n        }\n      }\n    }\n\n    return b.toArray();\n  };\n\n  DescriptionJsonValidator.prototype.b = function (a) {\n    var e_1, _a;\n\n    var b = new HashSet$1(String_$type, 0);\n    this.m(b, null, a);\n    var c = new List$1(String_$type, 0);\n\n    try {\n      for (var _b = __values(fromEnum(b)), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var d = _c.value;\n        c.add(d);\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n\n    return c.toArray();\n  };\n\n  DescriptionJsonValidator.prototype.m = function (a, b, c) {\n    if (typeCast(JsonDictionaryObject.$, c) !== null) {\n      var d = c;\n      var e = d.e();\n\n      for (var g = 0; g < e.length; g++) {\n        var f = e[g];\n        this.m(a, f, d.item(f));\n      }\n    }\n\n    if (typeCast(JsonDictionaryArray.$, c) !== null) {\n      var h = c;\n\n      if (h.items != null) {\n        for (var i = 0; i < h.items.length; i++) {\n          this.m(a, b + \"[\" + i + \"]\", h.items[i]);\n        }\n      }\n    }\n\n    if (typeCast(JsonDictionaryValue.$, c) !== null) {\n      if (b != null && b == \"type\") {\n        a.add_1(c.value.toString());\n      }\n    }\n  };\n\n  DescriptionJsonValidator.fromJson = function (a) {\n    var b = new DescriptionJsonValidator();\n    var c = new JsonDictionaryParser();\n    var d = c.parse(a);\n    var e = typeCast(JsonDictionaryObject.$, d);\n\n    if (e != null) {\n      if (e.g(\"types\")) {\n        var f = e.item(\"types\");\n\n        if (f.items != null) {\n          for (var g = 0; g < f.items.length; g++) {\n            b.i.add(f.items[g].value.toString());\n          }\n        }\n      }\n\n      if (e.g(\"containingModules\")) {\n        var h = e.item(\"containingModules\");\n        var i = h.e();\n\n        for (var j = 0; j < i.length; j++) {\n          var k = i[j];\n          var l = h.item(k);\n          b.h.item(k, new List$1(String_$type, 0));\n\n          for (var m = 0; m < l.items.length; m++) {\n            var n = l.items[m];\n            b.h.item(k).add(n.value.toString());\n          }\n        }\n      }\n    }\n\n    return b;\n  };\n\n  DescriptionJsonValidator.prototype.toJson = function () {\n    var e_2, _a, e_3, _b;\n\n    var a = new JsonDictionaryObject();\n    var b = new JsonDictionaryArray();\n    var c = new List$1(JsonDictionaryItem.$, 0);\n\n    var _loop_1 = function (d) {\n      c.add(function () {\n        var $ret = new JsonDictionaryValue();\n        $ret.value = d;\n        $ret.e = 2;\n        return $ret;\n      }());\n    };\n\n    try {\n      for (var _c = __values(fromEnum(this.i)), _d = _c.next(); !_d.done; _d = _c.next()) {\n        var d = _d.value;\n\n        _loop_1(d);\n      }\n    } catch (e_2_1) {\n      e_2 = {\n        error: e_2_1\n      };\n    } finally {\n      try {\n        if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n      } finally {\n        if (e_2) throw e_2.error;\n      }\n    }\n\n    b.items = c.toArray();\n    a.item(\"types\", b);\n    var e = new JsonDictionaryObject();\n\n    var _loop_2 = function (f) {\n      var e_4, _g;\n\n      var g = new List$1(JsonDictionaryItem.$, 0);\n\n      var _loop_3 = function (h) {\n        g.add(function () {\n          var $ret = new JsonDictionaryValue();\n          $ret.value = h;\n          $ret.e = 2;\n          return $ret;\n        }());\n      };\n\n      try {\n        for (var _h = (e_4 = void 0, __values(fromEnum(this_1.h.item(f)))), _j = _h.next(); !_j.done; _j = _h.next()) {\n          var h = _j.value;\n\n          _loop_3(h);\n        }\n      } catch (e_4_1) {\n        e_4 = {\n          error: e_4_1\n        };\n      } finally {\n        try {\n          if (_j && !_j.done && (_g = _h.return)) _g.call(_h);\n        } finally {\n          if (e_4) throw e_4.error;\n        }\n      }\n\n      e.item(f, function () {\n        var $ret = new JsonDictionaryArray();\n        $ret.items = g.toArray();\n        return $ret;\n      }());\n    };\n\n    var this_1 = this;\n\n    try {\n      for (var _e = __values(fromEnum(this.h.keys)), _f = _e.next(); !_f.done; _f = _e.next()) {\n        var f = _f.value;\n\n        _loop_2(f);\n      }\n    } catch (e_3_1) {\n      e_3 = {\n        error: e_3_1\n      };\n    } finally {\n      try {\n        if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n      } finally {\n        if (e_3) throw e_3.error;\n      }\n    }\n\n    a.item(\"containingModules\", e);\n    return a.b();\n  };\n\n  DescriptionJsonValidator.$t = markType(DescriptionJsonValidator, 'DescriptionJsonValidator');\n  return DescriptionJsonValidator;\n}(Base);\n\nexport { DescriptionJsonValidator };","map":{"version":3,"sources":["../../../../src/igniteui-core/lib/DescriptionJsonValidator.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends, __read, __spreadArray, __values } from \"tslib\";\nimport { Base, String_$type, Number_$type, typeCast, fromEnum, markType } from \"./type\";\nimport { List$1 } from \"./List$1\";\nimport { Dictionary$2 } from \"./Dictionary$2\";\nimport { JsonDictionaryObject } from \"./JsonDictionaryObject\";\nimport { JsonDictionaryParser } from \"./JsonDictionaryParser\";\nimport { HashSet$1 } from \"./HashSet$1\";\nimport { Tuple$2 } from \"./Tuple$2\";\nimport { JsonDictionaryItem } from \"./JsonDictionaryItem\";\nimport { JsonDictionaryArray } from \"./JsonDictionaryArray\";\nimport { JsonDictionaryValue } from \"./JsonDictionaryValue\";\nimport { stringJoin, stringContains } from \"./string\";\n/**\n * @hidden\n */\nvar DescriptionJsonValidator = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(DescriptionJsonValidator, _super);\n    function DescriptionJsonValidator() {\n        var _this = _super.call(this) || this;\n        _this.i = new List$1(String_$type, 0);\n        _this.h = new Dictionary$2(String_$type, List$1.$.specialize(String_$type), 0);\n        _this.e = null;\n        _this.g = null;\n        return _this;\n    }\n    DescriptionJsonValidator.prototype.getContainingModules = function (a) {\n        if (this.h.containsKey(a)) {\n            return this.h.item(a).toArray();\n        }\n        return null;\n    };\n    DescriptionJsonValidator.prototype.validate = function (a) {\n        var b = new JsonDictionaryParser();\n        var c = b.parse(a);\n        var d = this.b(c);\n        var e = this.a(c);\n        var f = new HashSet$1(String_$type, 0);\n        for (var h = 0; h < e.length; h++) {\n            var g = e[h];\n            f.add_1(g);\n        }\n        var i = null;\n        for (var k = 0; k < d.length; k++) {\n            var j = d[k];\n            var l = this.getContainingModules(j);\n            var m = false;\n            for (var o = 0; o < l.length; o++) {\n                var n = l[o];\n                if (f.contains(n)) {\n                    m = true;\n                }\n            }\n            if (!m) {\n                var p = a.indexOf(\"\\\"\" + j + \"\\\"\");\n                var q = this.l(a, p);\n                var r = q.c;\n                var s = q.d;\n                var t = s + (\"\\\"\" + j + \"\\\"\").length;\n                i = this.f(i, r, s, r, t, \"Type \" + j + \" appears not to have a containing module, consider adding one of: \" + stringJoin.apply(void 0, __spreadArray([\", \"], __read(l), false)));\n            }\n        }\n        for (var v = 0; v < d.length; v++) {\n            var u = d[v];\n            if (u == \"PropertyEditor\") {\n                var w = a.indexOf(\"\\\"\" + u + \"\\\"\");\n                var x = this.l(a, w);\n                var y = x.c;\n                var z = x.d;\n                var aa = z + (\"\\\"\" + u + \"\\\"\").length;\n                if (!f.contains(\"withDescriptions\")) {\n                    i = this.f(i, y, z, y, aa, \"Property editor is included, but withDescriptions is not in modules, did you forget it?\");\n                }\n            }\n        }\n        return i == null ? null : i.b();\n    };\n    DescriptionJsonValidator.prototype.l = function (a, b) {\n        var c = a.split('\\n');\n        var d = 0;\n        var e = 0;\n        while (e <= b && d < c.length) {\n            var f = c[d];\n            if ((f.length + 1) >= (b - e)) {\n                return new Tuple$2(Number_$type, Number_$type, d + 1, (b - e) + 1);\n            }\n            e += (f.length + 1);\n            d++;\n        }\n        return new Tuple$2(Number_$type, Number_$type, d + 1, (b - e) + 1);\n    };\n    DescriptionJsonValidator.prototype.f = function (a, b, c, d, e, f) {\n        if (a == null) {\n            a = new JsonDictionaryObject();\n            a.item(\"warnings\", new JsonDictionaryArray());\n        }\n        var g = a.item(\"warnings\");\n        var h = g.items;\n        var i = new List$1(JsonDictionaryItem.$, 0);\n        if (h != null) {\n            for (var j = 0; j < h.length; j++) {\n                i.add(h[j]);\n            }\n        }\n        var k = new JsonDictionaryObject();\n        k.item(\"line\", ((function () {\n            var $ret = new JsonDictionaryValue();\n            $ret.e = 0;\n            $ret.value = b;\n            return $ret;\n        })()));\n        k.item(\"column\", ((function () {\n            var $ret = new JsonDictionaryValue();\n            $ret.e = 0;\n            $ret.value = c;\n            return $ret;\n        })()));\n        k.item(\"endLine\", ((function () {\n            var $ret = new JsonDictionaryValue();\n            $ret.e = 0;\n            $ret.value = d;\n            return $ret;\n        })()));\n        k.item(\"endColumn\", ((function () {\n            var $ret = new JsonDictionaryValue();\n            $ret.e = 0;\n            $ret.value = e;\n            return $ret;\n        })()));\n        k.item(\"message\", ((function () {\n            var $ret = new JsonDictionaryValue();\n            $ret.e = 2;\n            $ret.value = f;\n            return $ret;\n        })()));\n        i.add(k);\n        g.items = i.toArray();\n        return a;\n    };\n    DescriptionJsonValidator.prototype.a = function (a) {\n        var b = new List$1(String_$type, 0);\n        if (a != null && a.g(\"modules\")) {\n            if (typeCast(JsonDictionaryArray.$, a.item(\"modules\")) !== null) {\n                var c = a.item(\"modules\");\n                if (c.items != null) {\n                    for (var d = 0; d < c.items.length; d++) {\n                        var e = c.items[d];\n                        var f = e.value.toString();\n                        if (stringContains(f, \"/\")) {\n                            var g = f.split('/');\n                            b.add(g[1]);\n                        }\n                        else {\n                            b.add(f);\n                        }\n                    }\n                }\n            }\n        }\n        return b.toArray();\n    };\n    DescriptionJsonValidator.prototype.b = function (a) {\n        var e_1, _a;\n        var b = new HashSet$1(String_$type, 0);\n        this.m(b, null, a);\n        var c = new List$1(String_$type, 0);\n        try {\n            for (var _b = __values(fromEnum(b)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var d = _c.value;\n                c.add(d);\n            }\n        }\n        catch (e_1_1) {\n            e_1 = { error: e_1_1 };\n        }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return))\n                    _a.call(_b);\n            }\n            finally {\n                if (e_1)\n                    throw e_1.error;\n            }\n        }\n        return c.toArray();\n    };\n    DescriptionJsonValidator.prototype.m = function (a, b, c) {\n        if (typeCast(JsonDictionaryObject.$, c) !== null) {\n            var d = c;\n            var e = d.e();\n            for (var g = 0; g < e.length; g++) {\n                var f = e[g];\n                this.m(a, f, d.item(f));\n            }\n        }\n        if (typeCast(JsonDictionaryArray.$, c) !== null) {\n            var h = c;\n            if (h.items != null) {\n                for (var i = 0; i < h.items.length; i++) {\n                    this.m(a, b + \"[\" + i + \"]\", h.items[i]);\n                }\n            }\n        }\n        if (typeCast(JsonDictionaryValue.$, c) !== null) {\n            if (b != null && b == \"type\") {\n                a.add_1(c.value.toString());\n            }\n        }\n    };\n    DescriptionJsonValidator.fromJson = function (a) {\n        var b = new DescriptionJsonValidator();\n        var c = new JsonDictionaryParser();\n        var d = c.parse(a);\n        var e = typeCast(JsonDictionaryObject.$, d);\n        if (e != null) {\n            if (e.g(\"types\")) {\n                var f = e.item(\"types\");\n                if (f.items != null) {\n                    for (var g = 0; g < f.items.length; g++) {\n                        b.i.add(f.items[g].value.toString());\n                    }\n                }\n            }\n            if (e.g(\"containingModules\")) {\n                var h = e.item(\"containingModules\");\n                var i = h.e();\n                for (var j = 0; j < i.length; j++) {\n                    var k = i[j];\n                    var l = h.item(k);\n                    b.h.item(k, new List$1(String_$type, 0));\n                    for (var m = 0; m < l.items.length; m++) {\n                        var n = l.items[m];\n                        b.h.item(k).add(n.value.toString());\n                    }\n                }\n            }\n        }\n        return b;\n    };\n    DescriptionJsonValidator.prototype.toJson = function () {\n        var e_2, _a, e_3, _b;\n        var a = new JsonDictionaryObject();\n        var b = new JsonDictionaryArray();\n        var c = new List$1(JsonDictionaryItem.$, 0);\n        var _loop_1 = function (d) {\n            c.add(((function () {\n                var $ret = new JsonDictionaryValue();\n                $ret.value = d;\n                $ret.e = 2;\n                return $ret;\n            })()));\n        };\n        try {\n            for (var _c = __values(fromEnum(this.i)), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var d = _d.value;\n                _loop_1(d);\n            }\n        }\n        catch (e_2_1) {\n            e_2 = { error: e_2_1 };\n        }\n        finally {\n            try {\n                if (_d && !_d.done && (_a = _c.return))\n                    _a.call(_c);\n            }\n            finally {\n                if (e_2)\n                    throw e_2.error;\n            }\n        }\n        b.items = c.toArray();\n        a.item(\"types\", b);\n        var e = new JsonDictionaryObject();\n        var _loop_2 = function (f) {\n            var e_4, _g;\n            var g = new List$1(JsonDictionaryItem.$, 0);\n            var _loop_3 = function (h) {\n                g.add(((function () {\n                    var $ret = new JsonDictionaryValue();\n                    $ret.value = h;\n                    $ret.e = 2;\n                    return $ret;\n                })()));\n            };\n            try {\n                for (var _h = (e_4 = void 0, __values(fromEnum(this_1.h.item(f)))), _j = _h.next(); !_j.done; _j = _h.next()) {\n                    var h = _j.value;\n                    _loop_3(h);\n                }\n            }\n            catch (e_4_1) {\n                e_4 = { error: e_4_1 };\n            }\n            finally {\n                try {\n                    if (_j && !_j.done && (_g = _h.return))\n                        _g.call(_h);\n                }\n                finally {\n                    if (e_4)\n                        throw e_4.error;\n                }\n            }\n            e.item(f, ((function () {\n                var $ret = new JsonDictionaryArray();\n                $ret.items = g.toArray();\n                return $ret;\n            })()));\n        };\n        var this_1 = this;\n        try {\n            for (var _e = __values(fromEnum(this.h.keys)), _f = _e.next(); !_f.done; _f = _e.next()) {\n                var f = _f.value;\n                _loop_2(f);\n            }\n        }\n        catch (e_3_1) {\n            e_3 = { error: e_3_1 };\n        }\n        finally {\n            try {\n                if (_f && !_f.done && (_b = _e.return))\n                    _b.call(_e);\n            }\n            finally {\n                if (e_3)\n                    throw e_3.error;\n            }\n        }\n        a.item(\"containingModules\", e);\n        return a.b();\n    };\n    DescriptionJsonValidator.$t = markType(DescriptionJsonValidator, 'DescriptionJsonValidator');\n    return DescriptionJsonValidator;\n}(Base));\nexport { DescriptionJsonValidator };\n//# sourceMappingURL=DescriptionJsonValidator.js.map\n"]},"metadata":{},"sourceType":"module"}