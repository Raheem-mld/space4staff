{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends, __values } from \"tslib\";\nimport { Base, String_$type, typeCast, fromEnum, Number_$type, markType } from \"./type\";\nimport { ICodeGenerationRendererTemplate_$type } from \"./ICodeGenerationRendererTemplate\";\nimport { List$1 } from \"./List$1\";\nimport { StringBuilder } from \"./StringBuilder\";\nimport { JsonDictionaryParser } from \"./JsonDictionaryParser\";\nimport { JsonDictionaryObject } from \"./JsonDictionaryObject\";\nimport { JsonDictionaryArray } from \"./JsonDictionaryArray\";\nimport { HashSet$1 } from \"./HashSet$1\";\nimport { CodeGeneratingImportManager } from \"./CodeGeneratingImportManager\";\nimport { CodeGeneratingRegexHelper } from \"./CodeGeneratingRegexHelper\";\nimport { Tuple$3 } from \"./Tuple$3\";\nimport { stringReplace, stringStartsWith } from \"./string\";\n/**\n * @hidden\n */\n\nvar CodeGenerationFolderTemplate =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(CodeGenerationFolderTemplate, _super);\n\n  function CodeGenerationFolderTemplate() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.d = new List$1(String_$type, 0);\n    _this.b = new List$1(String_$type, 0);\n    _this.c = new List$1(String_$type, 0);\n    return _this;\n  }\n\n  CodeGenerationFolderTemplate.prototype.l = function (a, b) {\n    this.d.add(a);\n    this.b.add(b);\n  };\n\n  CodeGenerationFolderTemplate.prototype.a = function () {\n    return this.d.toArray();\n  };\n\n  CodeGenerationFolderTemplate.prototype.f = function (a) {\n    for (var b = 0; b < this.d.count; b++) {\n      if (this.d._inner[b] == a) {\n        return this.c._inner[b];\n      }\n    }\n\n    return null;\n  };\n\n  CodeGenerationFolderTemplate.prototype.k = function () {\n    var a = new StringBuilder(0);\n    a.u(\"{\");\n    a.u(\"\\\"files\\\": [\");\n\n    for (var b = 0; b < this.d.count; b++) {\n      if (b >= 1) {\n        a.u(\",\");\n      }\n\n      a.u(\"{\");\n      a.l(\"\\\"path\\\": \\\"\");\n      a.l(this.d._inner[b]);\n      a.u(\"\\\"\");\n      a.l(\"\\\"content\\\": \\\"\");\n      a.l(stringReplace(this.b._inner[b], \"\\\"\", \"\\\\\\\"\"));\n      a.u(\"\\\"\");\n      a.u(\"}\");\n    }\n\n    a.u(\"]\");\n    a.u(\"}\");\n    return a.toString();\n  };\n\n  CodeGenerationFolderTemplate.prototype.m = function (a) {\n    var b = new JsonDictionaryParser();\n    var c = b.parse(a);\n\n    if (typeCast(JsonDictionaryObject.$, c) !== null) {\n      var d = c;\n\n      if (d.g(\"files\")) {\n        var e = d.item(\"Files\");\n\n        if (typeCast(JsonDictionaryArray.$, e) !== null) {\n          var f = e;\n\n          for (var g = 0; g < f.items.length; g++) {\n            var h = f.items[g];\n\n            if (typeCast(JsonDictionaryObject.$, h) !== null) {\n              var i = h;\n\n              if (i.g(\"path\") && i.g(\"content\")) {\n                this.d.add(i.item(\"path\").value.toString());\n                this.b.add(i.item(\"content\").value.toString());\n              }\n            }\n          }\n        }\n      }\n    }\n  };\n\n  CodeGenerationFolderTemplate.prototype.execute = function (a) {\n    var e_1, _a, e_2, _b;\n\n    this.c.clear();\n\n    for (var b = 0; b < this.b.count; b++) {\n      this.c.add(this.b._inner[b]);\n    }\n\n    var c = a.getKeys();\n    var d = new HashSet$1(String_$type, 0);\n\n    for (var e = 0; e < c.length; e++) {\n      d.add_1(c[e]);\n    }\n\n    var f = a.getImportsKeys();\n\n    for (var g = 0; g < f.length; g++) {\n      d.add_1(f[g]);\n    }\n\n    var h = a.getStringNames();\n\n    for (var i = 0; i < h.length; i++) {\n      d.add_1(h[i]);\n    }\n\n    for (var j = 0; j < this.b.count; j++) {\n      var k = this.c._inner[j];\n      k = this.h(k, d);\n      this.c._inner[j] = k;\n    }\n\n    for (var l = 0; l < this.b.count; l++) {\n      var m = new List$1(String_$type, 0);\n      var p = a.getImportsKeys();\n\n      for (var o = 0; o < p.length; o++) {\n        var n = p[o];\n        m.add(n);\n      }\n\n      var q = this.c._inner[l];\n      q = this.j(q, m.toArray(), a);\n      this.c._inner[l] = q;\n    }\n\n    var t = a.getKeys();\n\n    for (var s = 0; s < t.length; s++) {\n      var r = t[s];\n\n      for (var u = 0; u < this.b.count; u++) {\n        var v = this.c._inner[u];\n        var w = a.getContentForKey(r);\n        v = this.i(v, r, w, a);\n        this.c._inner[u] = v;\n      }\n    }\n\n    var z = a.getStringNames();\n\n    for (var y = 0; y < z.length; y++) {\n      var x = z[y];\n\n      for (var aa = 0; aa < this.b.count; aa++) {\n        var ab = this.c._inner[aa];\n        ab = stringReplace(ab, \"$$\" + x, a.getString(x));\n        this.c._inner[aa] = ab;\n      }\n    }\n\n    try {\n      for (var _c = __values(fromEnum(a.getNewFiles())), _d = _c.next(); !_d.done; _d = _c.next()) {\n        var ac = _d.value;\n        var ad = a.getNewFileContent(ac);\n        var ae = \"\";\n\n        try {\n          for (var _e = (e_2 = void 0, __values(fromEnum(this.d))), _f = _e.next(); !_f.done; _f = _e.next()) {\n            var af = _f.value;\n\n            if (stringStartsWith(af, \"src\")) {\n              ae = \"src/\";\n            }\n          }\n        } catch (e_2_1) {\n          e_2 = {\n            error: e_2_1\n          };\n        } finally {\n          try {\n            if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n          } finally {\n            if (e_2) throw e_2.error;\n          }\n        }\n\n        this.d.add(ae + ac);\n        this.c.add(ad);\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n  };\n\n  CodeGenerationFolderTemplate.prototype.h = function (a, b) {\n    return a;\n  };\n\n  CodeGenerationFolderTemplate.prototype.j = function (a, b, c) {\n    var e_3, _a;\n\n    var _this = this;\n\n    var d = new List$1(Tuple$3.$.specialize(Number_$type, String_$type, CodeGeneratingImportManager.$), 0);\n\n    var _loop_1 = function (f) {\n      var e = b[f];\n      var g = new CodeGeneratingRegexHelper(\"(?:(<!--)|(\\\\/\\\\/))\\\\s*insert \" + e + \"(?:(\\\\s*-->)?)[\\\\w\\\\W\\\\r\\\\n]*?(?:(<!--)|(\\\\/\\\\/))\\\\s*end \" + e + \"(?:(\\\\s*-->)?)((\\\\r\\\\n)|(\\\\n))\");\n      a = g.b(a, function (h, i, j) {\n        var e_4, _a;\n\n        var k = c.o(e);\n        var l = new CodeGeneratingImportManager();\n\n        try {\n          for (var _b = (e_4 = void 0, __values(fromEnum(k))), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var m = _c.value;\n            l = CodeGeneratingImportManager.merge(l, m);\n          }\n        } catch (e_4_1) {\n          e_4 = {\n            error: e_4_1\n          };\n        } finally {\n          try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n          } finally {\n            if (e_4) throw e_4.error;\n          }\n        }\n\n        d.add(new Tuple$3(Number_$type, String_$type, CodeGeneratingImportManager.$, i, e, l));\n        return null;\n      });\n    };\n\n    for (var f = 0; f < b.length; f++) {\n      _loop_1(f);\n    }\n\n    d.aa(function (h, i) {\n      return Base.compareSimple(h.c, i.c);\n    });\n    var h = new CodeGeneratingImportManager();\n\n    var _loop_2 = function (i) {\n      var j = i.d;\n      var k = i.e;\n      var l = k.removeDuplicates(h);\n      h = CodeGeneratingImportManager.merge(h, k);\n      var m = new CodeGeneratingRegexHelper(\"(?:(<!--)|(\\\\/\\\\/))\\\\s*insert \" + j + \"(?:(\\\\s*-->)?)[\\\\w\\\\W\\\\r\\\\n]*?(?:(<!--)|(\\\\/\\\\/))\\\\s*end \" + j + \"(?:(\\\\s*-->)?)((\\\\r\\\\n)|(\\\\n))\");\n      a = m.b(a, function (n, o, p) {\n        var q = _this.g(l, c);\n\n        if (q != null && q.length > 0) {\n          q = _this.e(q, a, o, c);\n        }\n\n        return q;\n      });\n    };\n\n    try {\n      for (var _b = __values(fromEnum(d)), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var i = _c.value;\n\n        _loop_2(i);\n      }\n    } catch (e_3_1) {\n      e_3 = {\n        error: e_3_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_3) throw e_3.error;\n      }\n    }\n\n    return a;\n  };\n\n  CodeGenerationFolderTemplate.prototype.e = function (a, b, c, d) {\n    var e = c;\n    var f = 0;\n    var g = 0;\n    var h = \"\";\n\n    while (e > 0) {\n      if (b.charAt(e) == ' ') {\n        h += ' ';\n      }\n\n      if (b.charAt(e) == '\\t') {\n        h += '\\t';\n      }\n\n      if (b.charAt(e) == '\\n') {\n        break;\n      }\n\n      e--;\n    }\n\n    var i = new StringBuilder(0);\n    var j = stringReplace(a, \"\\r\\n\", \"\\n\").split('\\n');\n\n    for (var k = 0; k < j.length; k++) {\n      if (k == j.length - 1 && j[k].length == 0) {\n        continue;\n      }\n\n      var l = j[k];\n\n      if (k > 0) {\n        i.l(h);\n      }\n\n      i.u(l);\n    }\n\n    return i.toString();\n  };\n\n  CodeGenerationFolderTemplate.prototype.g = function (a, b) {\n    if (a.hasPackageImports) {\n      return a.packageImportsToString();\n    } else {\n      return a.usingsToString();\n    }\n  };\n\n  CodeGenerationFolderTemplate.prototype.i = function (a, b, c, d) {\n    var _this = this;\n\n    var e = new CodeGeneratingRegexHelper(\"(?:(<!--)|(\\\\/\\\\/))\\\\s*insert \" + b + \"(?:(\\\\s*-->)?)[\\\\w\\\\W\\\\r\\\\n]*?(?:(<!--)|(\\\\/\\\\/))\\\\s*end \" + b + \"(?:(\\\\s*-->)?)((\\\\r\\\\n)|(\\\\n))\");\n    a = e.b(a, function (f, g, h) {\n      if (c != null && c.length > 0) {\n        c = _this.e(c, a, g, d);\n      }\n\n      return c;\n    });\n    return a;\n  };\n\n  CodeGenerationFolderTemplate.$t = markType(CodeGenerationFolderTemplate, 'CodeGenerationFolderTemplate', Base.$, [ICodeGenerationRendererTemplate_$type]);\n  return CodeGenerationFolderTemplate;\n}(Base);\n\nexport { CodeGenerationFolderTemplate };","map":{"version":3,"sources":["../../../../src/igniteui-core/lib/CodeGenerationFolderTemplate.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends, __values } from \"tslib\";\nimport { Base, String_$type, typeCast, fromEnum, Number_$type, markType } from \"./type\";\nimport { ICodeGenerationRendererTemplate_$type } from \"./ICodeGenerationRendererTemplate\";\nimport { List$1 } from \"./List$1\";\nimport { StringBuilder } from \"./StringBuilder\";\nimport { JsonDictionaryParser } from \"./JsonDictionaryParser\";\nimport { JsonDictionaryObject } from \"./JsonDictionaryObject\";\nimport { JsonDictionaryArray } from \"./JsonDictionaryArray\";\nimport { HashSet$1 } from \"./HashSet$1\";\nimport { CodeGeneratingImportManager } from \"./CodeGeneratingImportManager\";\nimport { CodeGeneratingRegexHelper } from \"./CodeGeneratingRegexHelper\";\nimport { Tuple$3 } from \"./Tuple$3\";\nimport { stringReplace, stringStartsWith } from \"./string\";\n/**\n * @hidden\n */\nvar CodeGenerationFolderTemplate = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(CodeGenerationFolderTemplate, _super);\n    function CodeGenerationFolderTemplate() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.d = new List$1(String_$type, 0);\n        _this.b = new List$1(String_$type, 0);\n        _this.c = new List$1(String_$type, 0);\n        return _this;\n    }\n    CodeGenerationFolderTemplate.prototype.l = function (a, b) {\n        this.d.add(a);\n        this.b.add(b);\n    };\n    CodeGenerationFolderTemplate.prototype.a = function () {\n        return this.d.toArray();\n    };\n    CodeGenerationFolderTemplate.prototype.f = function (a) {\n        for (var b = 0; b < this.d.count; b++) {\n            if (this.d._inner[b] == a) {\n                return this.c._inner[b];\n            }\n        }\n        return null;\n    };\n    CodeGenerationFolderTemplate.prototype.k = function () {\n        var a = new StringBuilder(0);\n        a.u(\"{\");\n        a.u(\"\\\"files\\\": [\");\n        for (var b = 0; b < this.d.count; b++) {\n            if (b >= 1) {\n                a.u(\",\");\n            }\n            a.u(\"{\");\n            a.l(\"\\\"path\\\": \\\"\");\n            a.l(this.d._inner[b]);\n            a.u(\"\\\"\");\n            a.l(\"\\\"content\\\": \\\"\");\n            a.l(stringReplace(this.b._inner[b], \"\\\"\", \"\\\\\\\"\"));\n            a.u(\"\\\"\");\n            a.u(\"}\");\n        }\n        a.u(\"]\");\n        a.u(\"}\");\n        return a.toString();\n    };\n    CodeGenerationFolderTemplate.prototype.m = function (a) {\n        var b = new JsonDictionaryParser();\n        var c = b.parse(a);\n        if (typeCast(JsonDictionaryObject.$, c) !== null) {\n            var d = c;\n            if (d.g(\"files\")) {\n                var e = d.item(\"Files\");\n                if (typeCast(JsonDictionaryArray.$, e) !== null) {\n                    var f = e;\n                    for (var g = 0; g < f.items.length; g++) {\n                        var h = f.items[g];\n                        if (typeCast(JsonDictionaryObject.$, h) !== null) {\n                            var i = h;\n                            if (i.g(\"path\") && i.g(\"content\")) {\n                                this.d.add(i.item(\"path\").value.toString());\n                                this.b.add(i.item(\"content\").value.toString());\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n    CodeGenerationFolderTemplate.prototype.execute = function (a) {\n        var e_1, _a, e_2, _b;\n        this.c.clear();\n        for (var b = 0; b < this.b.count; b++) {\n            this.c.add(this.b._inner[b]);\n        }\n        var c = a.getKeys();\n        var d = new HashSet$1(String_$type, 0);\n        for (var e = 0; e < c.length; e++) {\n            d.add_1(c[e]);\n        }\n        var f = a.getImportsKeys();\n        for (var g = 0; g < f.length; g++) {\n            d.add_1(f[g]);\n        }\n        var h = a.getStringNames();\n        for (var i = 0; i < h.length; i++) {\n            d.add_1(h[i]);\n        }\n        for (var j = 0; j < this.b.count; j++) {\n            var k = this.c._inner[j];\n            k = this.h(k, d);\n            this.c._inner[j] = k;\n        }\n        for (var l = 0; l < this.b.count; l++) {\n            var m = new List$1(String_$type, 0);\n            var p = a.getImportsKeys();\n            for (var o = 0; o < p.length; o++) {\n                var n = p[o];\n                m.add(n);\n            }\n            var q = this.c._inner[l];\n            q = this.j(q, m.toArray(), a);\n            this.c._inner[l] = q;\n        }\n        var t = a.getKeys();\n        for (var s = 0; s < t.length; s++) {\n            var r = t[s];\n            for (var u = 0; u < this.b.count; u++) {\n                var v = this.c._inner[u];\n                var w = a.getContentForKey(r);\n                v = this.i(v, r, w, a);\n                this.c._inner[u] = v;\n            }\n        }\n        var z = a.getStringNames();\n        for (var y = 0; y < z.length; y++) {\n            var x = z[y];\n            for (var aa = 0; aa < this.b.count; aa++) {\n                var ab = this.c._inner[aa];\n                ab = stringReplace(ab, \"$$\" + x, a.getString(x));\n                this.c._inner[aa] = ab;\n            }\n        }\n        try {\n            for (var _c = __values(fromEnum(a.getNewFiles())), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var ac = _d.value;\n                var ad = a.getNewFileContent(ac);\n                var ae = \"\";\n                try {\n                    for (var _e = (e_2 = void 0, __values(fromEnum(this.d))), _f = _e.next(); !_f.done; _f = _e.next()) {\n                        var af = _f.value;\n                        if (stringStartsWith(af, \"src\")) {\n                            ae = \"src/\";\n                        }\n                    }\n                }\n                catch (e_2_1) {\n                    e_2 = { error: e_2_1 };\n                }\n                finally {\n                    try {\n                        if (_f && !_f.done && (_b = _e.return))\n                            _b.call(_e);\n                    }\n                    finally {\n                        if (e_2)\n                            throw e_2.error;\n                    }\n                }\n                this.d.add(ae + ac);\n                this.c.add(ad);\n            }\n        }\n        catch (e_1_1) {\n            e_1 = { error: e_1_1 };\n        }\n        finally {\n            try {\n                if (_d && !_d.done && (_a = _c.return))\n                    _a.call(_c);\n            }\n            finally {\n                if (e_1)\n                    throw e_1.error;\n            }\n        }\n    };\n    CodeGenerationFolderTemplate.prototype.h = function (a, b) {\n        return a;\n    };\n    CodeGenerationFolderTemplate.prototype.j = function (a, b, c) {\n        var e_3, _a;\n        var _this = this;\n        var d = new List$1(Tuple$3.$.specialize(Number_$type, String_$type, CodeGeneratingImportManager.$), 0);\n        var _loop_1 = function (f) {\n            var e = b[f];\n            var g = new CodeGeneratingRegexHelper(\"(?:(<!--)|(\\\\/\\\\/))\\\\s*insert \" + e + \"(?:(\\\\s*-->)?)[\\\\w\\\\W\\\\r\\\\n]*?(?:(<!--)|(\\\\/\\\\/))\\\\s*end \" + e + \"(?:(\\\\s*-->)?)((\\\\r\\\\n)|(\\\\n))\");\n            a = g.b(a, function (h, i, j) {\n                var e_4, _a;\n                var k = c.o(e);\n                var l = new CodeGeneratingImportManager();\n                try {\n                    for (var _b = (e_4 = void 0, __values(fromEnum(k))), _c = _b.next(); !_c.done; _c = _b.next()) {\n                        var m = _c.value;\n                        l = CodeGeneratingImportManager.merge(l, m);\n                    }\n                }\n                catch (e_4_1) {\n                    e_4 = { error: e_4_1 };\n                }\n                finally {\n                    try {\n                        if (_c && !_c.done && (_a = _b.return))\n                            _a.call(_b);\n                    }\n                    finally {\n                        if (e_4)\n                            throw e_4.error;\n                    }\n                }\n                d.add(new Tuple$3(Number_$type, String_$type, CodeGeneratingImportManager.$, i, e, l));\n                return null;\n            });\n        };\n        for (var f = 0; f < b.length; f++) {\n            _loop_1(f);\n        }\n        d.aa(function (h, i) { return Base.compareSimple(h.c, i.c); });\n        var h = new CodeGeneratingImportManager();\n        var _loop_2 = function (i) {\n            var j = i.d;\n            var k = i.e;\n            var l = k.removeDuplicates(h);\n            h = CodeGeneratingImportManager.merge(h, k);\n            var m = new CodeGeneratingRegexHelper(\"(?:(<!--)|(\\\\/\\\\/))\\\\s*insert \" + j + \"(?:(\\\\s*-->)?)[\\\\w\\\\W\\\\r\\\\n]*?(?:(<!--)|(\\\\/\\\\/))\\\\s*end \" + j + \"(?:(\\\\s*-->)?)((\\\\r\\\\n)|(\\\\n))\");\n            a = m.b(a, function (n, o, p) {\n                var q = _this.g(l, c);\n                if (q != null && q.length > 0) {\n                    q = _this.e(q, a, o, c);\n                }\n                return q;\n            });\n        };\n        try {\n            for (var _b = __values(fromEnum(d)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var i = _c.value;\n                _loop_2(i);\n            }\n        }\n        catch (e_3_1) {\n            e_3 = { error: e_3_1 };\n        }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return))\n                    _a.call(_b);\n            }\n            finally {\n                if (e_3)\n                    throw e_3.error;\n            }\n        }\n        return a;\n    };\n    CodeGenerationFolderTemplate.prototype.e = function (a, b, c, d) {\n        var e = c;\n        var f = 0;\n        var g = 0;\n        var h = \"\";\n        while (e > 0) {\n            if (b.charAt(e) == ' ') {\n                h += ' ';\n            }\n            if (b.charAt(e) == '\\t') {\n                h += '\\t';\n            }\n            if (b.charAt(e) == '\\n') {\n                break;\n            }\n            e--;\n        }\n        var i = new StringBuilder(0);\n        var j = stringReplace(a, \"\\r\\n\", \"\\n\").split('\\n');\n        for (var k = 0; k < j.length; k++) {\n            if (k == j.length - 1 && j[k].length == 0) {\n                continue;\n            }\n            var l = j[k];\n            if (k > 0) {\n                i.l(h);\n            }\n            i.u(l);\n        }\n        return i.toString();\n    };\n    CodeGenerationFolderTemplate.prototype.g = function (a, b) {\n        if (a.hasPackageImports) {\n            return a.packageImportsToString();\n        }\n        else {\n            return a.usingsToString();\n        }\n    };\n    CodeGenerationFolderTemplate.prototype.i = function (a, b, c, d) {\n        var _this = this;\n        var e = new CodeGeneratingRegexHelper(\"(?:(<!--)|(\\\\/\\\\/))\\\\s*insert \" + b + \"(?:(\\\\s*-->)?)[\\\\w\\\\W\\\\r\\\\n]*?(?:(<!--)|(\\\\/\\\\/))\\\\s*end \" + b + \"(?:(\\\\s*-->)?)((\\\\r\\\\n)|(\\\\n))\");\n        a = e.b(a, function (f, g, h) {\n            if (c != null && c.length > 0) {\n                c = _this.e(c, a, g, d);\n            }\n            return c;\n        });\n        return a;\n    };\n    CodeGenerationFolderTemplate.$t = markType(CodeGenerationFolderTemplate, 'CodeGenerationFolderTemplate', Base.$, [ICodeGenerationRendererTemplate_$type]);\n    return CodeGenerationFolderTemplate;\n}(Base));\nexport { CodeGenerationFolderTemplate };\n//# sourceMappingURL=CodeGenerationFolderTemplate.js.map\n"]},"metadata":{},"sourceType":"module"}