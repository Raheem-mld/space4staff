{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends } from \"tslib\";\nimport { Base, typeCast, markType } from \"igniteui-react-core\";\nimport { ICategorySeriesInteractionManager_$type } from \"./ICategorySeriesInteractionManager\";\nimport { ScalerParams } from \"./ScalerParams\";\nimport { ISortingAxis_$type } from \"./ISortingAxis\";\nimport { HighlightingInfo } from \"./HighlightingInfo\";\nimport { intDivide, truncate, isNaN_ } from \"igniteui-react-core\";\n/**\n * @hidden\n */\n\nvar CategorySeriesInteractionManager =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(CategorySeriesInteractionManager, _super);\n\n  function CategorySeriesInteractionManager() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  CategorySeriesInteractionManager.prototype.b$c = function (a, b) {\n    var c = a.bx.bv;\n    var d = a.bx.bu;\n    var e = a.ar();\n    var f = a.getEffectiveViewport1(a.bx);\n    var g = a.o7(a.bx);\n    var h = -1;\n\n    if (e != null && !c.isEmpty && !d.isEmpty) {\n      var i = new ScalerParams(0, c, d, e.cc, f);\n      var j = e.eb(g.left, i);\n      var k = e.eb(g.right, i);\n      var l = (b.x - c.left) / c.width;\n      var m = j + l * (k - j);\n\n      if (e.categoryMode != 0) {\n        m -= 0.5;\n      }\n\n      h = m;\n    }\n\n    return h;\n  };\n\n  CategorySeriesInteractionManager.prototype.b$f = function (a, b) {\n    var c = 0;\n\n    if (a.d3) {\n      c = a.g2(b);\n\n      if (c == -1) {\n        return null;\n      }\n    } else if (b.x == 1 && a.ch != null) {\n      c = a.ch.count - 1;\n    } else {\n      c = a.g0(b);\n    }\n\n    return c >= 0 && a.ch != null && c < a.ch.count ? a.ch.item(c) : null;\n  };\n\n  CategorySeriesInteractionManager.prototype.b$d = function (a, b) {\n    var c = a.bx.bv;\n    var d = a.bx.bu;\n    var e = a.getEffectiveViewport1(a.bx);\n\n    if (c.isEmpty || d.isEmpty) {\n      return -1;\n    }\n\n    if (isNaN_(b.x)) {\n      return -1;\n    }\n\n    var f = a.ar();\n\n    if (f == null) {\n      return -1;\n    }\n\n    var g = typeCast(ISortingAxis_$type, f);\n    var h = a.o7(a.bx);\n    var i = new ScalerParams(0, c, d, f.cc, e);\n    var j = 0;\n\n    if (f.cf) {\n      var k = (b.x - c.left) / c.width;\n      var l = k * h.width + h.left;\n      j = f.eb(l, i);\n    } else {\n      var m = f.eb(h.left, i);\n      var n = f.eb(h.right, i);\n      var o = (b.x - c.left) / c.width;\n      j = m + (n - m) * o;\n    }\n\n    var p = g.i$f(j);\n    return p;\n  };\n\n  CategorySeriesInteractionManager.prototype.b$e = function (a, b, c) {\n    var d = a.bx.bu;\n    var e = a.bx.bv;\n    var f = a.ar();\n    var g = 0;\n\n    if (f.cj) {\n      var h = (c.y - e.top) / e.height;\n      g = h * d.height + d.top;\n    } else {\n      var i = (c.x - e.left) / e.width;\n      g = i * d.width + d.left;\n    }\n\n    if (f.cc) {\n      var j = b.count;\n      var k = 0;\n\n      for (k = j - 1; k >= 0; k--) {\n        var l = b._inner[k];\n        var m = null;\n\n        if (k > 0) {\n          m = b._inner[k - 1];\n        }\n\n        if (l[0] <= g && m == null || m[0] >= g) {\n          if (m != null) {\n            if (Math.abs(l[0] - g) < Math.abs(m[0] - g)) {\n              return k;\n            } else {\n              return k - 1;\n            }\n          } else {\n            return k;\n          }\n        }\n      }\n\n      return k;\n    } else {\n      var n = b.count;\n      var o = 0;\n\n      for (o = 0; o < n; o++) {\n        var p = b._inner[o];\n        var q = null;\n\n        if (o < n - 1) {\n          q = b._inner[o + 1];\n        }\n\n        if (p[0] <= g && q == null || q[0] >= g) {\n          if (q != null) {\n            if (Math.abs(p[0] - g) < Math.abs(q[0] - g)) {\n              return o;\n            } else {\n              return o + 1;\n            }\n          } else {\n            return o;\n          }\n        }\n      }\n\n      return o;\n    }\n  };\n\n  CategorySeriesInteractionManager.prototype.b$a = function (a, b, c, d, e, f, g, h) {\n    if (a.ch == null) {\n      return null;\n    }\n\n    if (e == 0) {\n      return null;\n    }\n\n    var i = a.ch.count;\n    var j = a.ar();\n    var k = -1;\n    var l = -1;\n\n    if (j.ch) {\n      var m = this.b$e(a, b, g);\n      k = m;\n      l = m;\n    } else {\n      var n = a.g0(g);\n      k = truncate(Math.floor(intDivide(n, e))) * e;\n      l = k + (e - 1);\n    }\n\n    if (h != null && h.h == k && h.g == l) {\n      return h;\n    }\n\n    var o = new HighlightingInfo();\n    o.b = a;\n    o.h = k;\n    o.g = l;\n    return o;\n  };\n\n  CategorySeriesInteractionManager.prototype.b$b = function (a, b, c, d, e, f, g, h) {\n    if (a.ch == null) {\n      return null;\n    }\n\n    if (d == 0) {\n      return null;\n    }\n\n    if (e == null || e.count == 0) {\n      return null;\n    }\n\n    var i = a.ch.count;\n    var j = a.ar();\n    var k = -1;\n    var l = -1;\n    var m = -1;\n\n    if (j.ch) {\n      var n = this.b$e(a, e, g);\n      m = n;\n      k = n;\n      l = n;\n    } else {\n      var o = a.g0(g);\n      m = truncate(Math.floor(intDivide(o, d))) - c;\n      k = m;\n      l = m;\n    }\n\n    if (h != null && h.h == k && h.g == l) {\n      return h;\n    }\n\n    var p = b;\n    var q = p.count;\n\n    if (p == null) {\n      return null;\n    }\n\n    if (q == 0) {\n      return null;\n    }\n\n    for (var r = 0; r < q; r++) {\n      if (p._inner[r].al == m) {\n        var s = new HighlightingInfo();\n        s.b = a;\n        s.h = p._inner[r].al;\n        s.g = p._inner[r].al;\n        s.e = true;\n        return s;\n      }\n    }\n\n    var t = a.ox(g);\n    var u = p._inner[0].al;\n\n    if (a.isVertical) {\n      var v = e._inner[p._inner[0].al][0];\n      var w = (t.y - v) * (t.y - v);\n      var x = void 0;\n\n      for (var y = 0; y < q; y++) {\n        v = e._inner[p._inner[y].al][0];\n        x = (t.y - v) * (t.y - v);\n\n        if (x <= w) {\n          w = x;\n          u = p._inner[y].al;\n        }\n      }\n    } else {\n      var z = e._inner[p._inner[0].al][0];\n      var aa = (t.x - z) * (t.x - z);\n      var ab = void 0;\n\n      for (var ac = 0; ac < q; ac++) {\n        z = e._inner[p._inner[ac].al][0];\n        ab = (t.x - z) * (t.x - z);\n\n        if (ab <= aa) {\n          aa = ab;\n          u = p._inner[ac].al;\n        }\n      }\n    }\n\n    var ad = new HighlightingInfo();\n    ad.b = a;\n    ad.e = true;\n    ad.h = u;\n    ad.g = ad.h;\n\n    if (h != null && h.h == ad.h && h.g == ad.g) {\n      return h;\n    }\n\n    return ad;\n  };\n\n  CategorySeriesInteractionManager.$t = markType(CategorySeriesInteractionManager, 'CategorySeriesInteractionManager', Base.$, [ICategorySeriesInteractionManager_$type]);\n  return CategorySeriesInteractionManager;\n}(Base);\n\nexport { CategorySeriesInteractionManager };","map":{"version":3,"sources":["../../../../src/igniteui-charts/lib/CategorySeriesInteractionManager.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends } from \"tslib\";\nimport { Base, typeCast, markType } from \"igniteui-react-core\";\nimport { ICategorySeriesInteractionManager_$type } from \"./ICategorySeriesInteractionManager\";\nimport { ScalerParams } from \"./ScalerParams\";\nimport { ISortingAxis_$type } from \"./ISortingAxis\";\nimport { HighlightingInfo } from \"./HighlightingInfo\";\nimport { intDivide, truncate, isNaN_ } from \"igniteui-react-core\";\n/**\n * @hidden\n */\nvar CategorySeriesInteractionManager = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(CategorySeriesInteractionManager, _super);\n    function CategorySeriesInteractionManager() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CategorySeriesInteractionManager.prototype.b$c = function (a, b) {\n        var c = a.bx.bv;\n        var d = a.bx.bu;\n        var e = a.ar();\n        var f = a.getEffectiveViewport1(a.bx);\n        var g = a.o7(a.bx);\n        var h = -1;\n        if (e != null && !c.isEmpty && !d.isEmpty) {\n            var i = new ScalerParams(0, c, d, e.cc, f);\n            var j = e.eb(g.left, i);\n            var k = e.eb(g.right, i);\n            var l = (b.x - c.left) / c.width;\n            var m = j + (l * (k - j));\n            if (e.categoryMode != 0) {\n                m -= 0.5;\n            }\n            h = m;\n        }\n        return h;\n    };\n    CategorySeriesInteractionManager.prototype.b$f = function (a, b) {\n        var c = 0;\n        if (a.d3) {\n            c = a.g2(b);\n            if (c == -1) {\n                return null;\n            }\n        }\n        else if (b.x == 1 && a.ch != null) {\n            c = a.ch.count - 1;\n        }\n        else {\n            c = a.g0(b);\n        }\n        return c >= 0 && a.ch != null && c < a.ch.count ? a.ch.item(c) : null;\n    };\n    CategorySeriesInteractionManager.prototype.b$d = function (a, b) {\n        var c = a.bx.bv;\n        var d = a.bx.bu;\n        var e = a.getEffectiveViewport1(a.bx);\n        if (c.isEmpty || d.isEmpty) {\n            return -1;\n        }\n        if (isNaN_(b.x)) {\n            return -1;\n        }\n        var f = a.ar();\n        if (f == null) {\n            return -1;\n        }\n        var g = typeCast(ISortingAxis_$type, f);\n        var h = a.o7(a.bx);\n        var i = new ScalerParams(0, c, d, f.cc, e);\n        var j = 0;\n        if (f.cf) {\n            var k = (b.x - c.left) / c.width;\n            var l = k * h.width + h.left;\n            j = f.eb(l, i);\n        }\n        else {\n            var m = f.eb(h.left, i);\n            var n = f.eb(h.right, i);\n            var o = (b.x - c.left) / c.width;\n            j = m + ((n - m) * o);\n        }\n        var p = g.i$f(j);\n        return p;\n    };\n    CategorySeriesInteractionManager.prototype.b$e = function (a, b, c) {\n        var d = a.bx.bu;\n        var e = a.bx.bv;\n        var f = a.ar();\n        var g = 0;\n        if (f.cj) {\n            var h = (c.y - e.top) / e.height;\n            g = h * d.height + d.top;\n        }\n        else {\n            var i = (c.x - e.left) / e.width;\n            g = i * d.width + d.left;\n        }\n        if (f.cc) {\n            var j = b.count;\n            var k = 0;\n            for (k = j - 1; k >= 0; k--) {\n                var l = b._inner[k];\n                var m = null;\n                if (k > 0) {\n                    m = b._inner[k - 1];\n                }\n                if (l[0] <= g && m == null || m[0] >= g) {\n                    if (m != null) {\n                        if (Math.abs(l[0] - g) < Math.abs(m[0] - g)) {\n                            return k;\n                        }\n                        else {\n                            return k - 1;\n                        }\n                    }\n                    else {\n                        return k;\n                    }\n                }\n            }\n            return k;\n        }\n        else {\n            var n = b.count;\n            var o = 0;\n            for (o = 0; o < n; o++) {\n                var p = b._inner[o];\n                var q = null;\n                if (o < n - 1) {\n                    q = b._inner[o + 1];\n                }\n                if (p[0] <= g && q == null || q[0] >= g) {\n                    if (q != null) {\n                        if (Math.abs(p[0] - g) < Math.abs(q[0] - g)) {\n                            return o;\n                        }\n                        else {\n                            return o + 1;\n                        }\n                    }\n                    else {\n                        return o;\n                    }\n                }\n            }\n            return o;\n        }\n    };\n    CategorySeriesInteractionManager.prototype.b$a = function (a, b, c, d, e, f, g, h) {\n        if (a.ch == null) {\n            return null;\n        }\n        if (e == 0) {\n            return null;\n        }\n        var i = a.ch.count;\n        var j = a.ar();\n        var k = -1;\n        var l = -1;\n        if (j.ch) {\n            var m = this.b$e(a, b, g);\n            k = m;\n            l = m;\n        }\n        else {\n            var n = a.g0(g);\n            k = truncate(Math.floor((intDivide(n, e)))) * e;\n            l = k + (e - 1);\n        }\n        if (h != null && h.h == k && h.g == l) {\n            return h;\n        }\n        var o = new HighlightingInfo();\n        o.b = a;\n        o.h = k;\n        o.g = l;\n        return o;\n    };\n    CategorySeriesInteractionManager.prototype.b$b = function (a, b, c, d, e, f, g, h) {\n        if (a.ch == null) {\n            return null;\n        }\n        if (d == 0) {\n            return null;\n        }\n        if (e == null || e.count == 0) {\n            return null;\n        }\n        var i = a.ch.count;\n        var j = a.ar();\n        var k = -1;\n        var l = -1;\n        var m = -1;\n        if (j.ch) {\n            var n = this.b$e(a, e, g);\n            m = n;\n            k = n;\n            l = n;\n        }\n        else {\n            var o = a.g0(g);\n            m = truncate(Math.floor((intDivide(o, d)))) - c;\n            k = m;\n            l = m;\n        }\n        if (h != null && h.h == k && h.g == l) {\n            return h;\n        }\n        var p = b;\n        var q = p.count;\n        if (p == null) {\n            return null;\n        }\n        if (q == 0) {\n            return null;\n        }\n        for (var r = 0; r < q; r++) {\n            if (p._inner[r].al == m) {\n                var s = new HighlightingInfo();\n                s.b = a;\n                s.h = p._inner[r].al;\n                s.g = p._inner[r].al;\n                s.e = true;\n                return s;\n            }\n        }\n        var t = a.ox(g);\n        var u = p._inner[0].al;\n        if (a.isVertical) {\n            var v = e._inner[p._inner[0].al][0];\n            var w = (t.y - v) * (t.y - v);\n            var x = void 0;\n            for (var y = 0; y < q; y++) {\n                v = e._inner[p._inner[y].al][0];\n                x = (t.y - v) * (t.y - v);\n                if (x <= w) {\n                    w = x;\n                    u = p._inner[y].al;\n                }\n            }\n        }\n        else {\n            var z = e._inner[p._inner[0].al][0];\n            var aa = (t.x - z) * (t.x - z);\n            var ab = void 0;\n            for (var ac = 0; ac < q; ac++) {\n                z = e._inner[p._inner[ac].al][0];\n                ab = (t.x - z) * (t.x - z);\n                if (ab <= aa) {\n                    aa = ab;\n                    u = p._inner[ac].al;\n                }\n            }\n        }\n        var ad = new HighlightingInfo();\n        ad.b = a;\n        ad.e = true;\n        ad.h = u;\n        ad.g = ad.h;\n        if (h != null && h.h == ad.h && h.g == ad.g) {\n            return h;\n        }\n        return ad;\n    };\n    CategorySeriesInteractionManager.$t = markType(CategorySeriesInteractionManager, 'CategorySeriesInteractionManager', Base.$, [ICategorySeriesInteractionManager_$type]);\n    return CategorySeriesInteractionManager;\n}(Base));\nexport { CategorySeriesInteractionManager };\n//# sourceMappingURL=CategorySeriesInteractionManager.js.map\n"]},"metadata":{},"sourceType":"module"}