{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends, __values } from \"tslib\";\nimport { AnnotationLayer } from \"./AnnotationLayer\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { Base, String_$type, typeCast, enumGetBox, fromEnum, runOn, delegateCombine, delegateRemove, Point_$type, Date_$type, markType, markDep } from \"igniteui-react-core\";\nimport { Series } from \"./Series\";\nimport { Brush } from \"igniteui-react-core\";\nimport { Thickness } from \"igniteui-react-core\";\nimport { CalloutCollisionMode_$type } from \"./CalloutCollisionMode\";\nimport { FontUtil } from \"igniteui-react-core\";\nimport { Rect } from \"igniteui-react-core\";\nimport { CalloutLayerFrame } from \"./CalloutLayerFrame\";\nimport { HashSet$1 } from \"igniteui-react-core\";\nimport { CalloutAnnotationWrapper } from \"./CalloutAnnotationWrapper\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { LinkedList$1 } from \"igniteui-react-core\";\nimport { Dictionary$2 } from \"igniteui-react-core\";\nimport { LinkedListNode$1 } from \"igniteui-react-core\";\nimport { LabelCollisionManager } from \"igniteui-react-core\";\nimport { SeriesPointOfInterest } from \"./SeriesPointOfInterest\";\nimport { CalloutAnnotation } from \"./CalloutAnnotation\";\nimport { IFastItemsSource_$type } from \"igniteui-react-core\";\nimport { CalloutLabelUpdatingEventArgs } from \"./CalloutLabelUpdatingEventArgs\";\nimport { CalloutSeriesSelectingEventArgs } from \"./CalloutSeriesSelectingEventArgs\";\nimport { CalloutStyleUpdatingEventArgs } from \"./CalloutStyleUpdatingEventArgs\";\nimport { QuadTreeBoundingBox } from \"igniteui-react-core\";\nimport { LabelCollisionInfo } from \"igniteui-react-core\";\nimport { ScalerParams } from \"./ScalerParams\";\nimport { ViewportUtils } from \"./ViewportUtils\";\nimport { Size } from \"igniteui-react-core\";\nimport { CalloutContentUpdatingEventArgs } from \"./CalloutContentUpdatingEventArgs\";\nimport { CalloutKey } from \"./CalloutKey\";\nimport { DataContext } from \"igniteui-react-core\";\nimport { HashPool$2 } from \"igniteui-react-core\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\nimport { isNaN_ } from \"igniteui-react-core\";\nimport { stringIsNullOrEmpty } from \"igniteui-react-core\";\nimport { FastItemObjectColumn } from \"igniteui-react-core\";\nimport { AnnotationLayerView } from \"./AnnotationLayerView\";\nimport { BrushUtil } from \"igniteui-react-core\";\nimport { TextBlock } from \"igniteui-react-core\";\nimport { Color } from \"igniteui-react-core\";\nimport { Line } from \"igniteui-react-core\";\nimport { CalloutViewHelper } from \"./CalloutViewHelper\";\nimport { Rectangle } from \"igniteui-react-core\";\nimport { TranslateTransform } from \"igniteui-react-core\";\n/**\n * @hidden\n */\n\nvar CalloutLayer =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(CalloutLayer, _super);\n\n  function CalloutLayer() {\n    var _this = _super.call(this) || this;\n\n    _this.calloutStyleUpdating = null;\n    _this.qx = null;\n    _this.qy = null;\n    _this.qz = null;\n    _this.qw = null;\n    _this.qv = null;\n    _this.rm = new HashSet$1(CalloutAnnotationWrapper.$, 0);\n    _this.rp = new List$1(CalloutAnnotationWrapper.$, 0);\n    _this.rq = new List$1(CalloutAnnotationWrapper.$, 0);\n    _this.qt = null;\n    _this.rn = new LinkedList$1(CalloutAnnotationWrapper.$);\n    _this.rk = new Dictionary$2(CalloutAnnotationWrapper.$, LinkedListNode$1.$.specialize(CalloutAnnotationWrapper.$), 0);\n    _this.q5 = null;\n    _this.ui = new Rect(0, 0, 0, 1, 1);\n    _this.rc = false;\n    _this.r0 = 0;\n    _this.uh = Rect.empty;\n    _this.ra = false;\n    _this.rb = false;\n    _this.calloutContentUpdating = null;\n    _this.calloutLabelUpdating = null;\n    _this.calloutSeriesSelecting = null;\n    _this.ro = new List$1(SeriesPointOfInterest.$, 0);\n    _this.re = false;\n    _this.rf = false;\n    _this.rs = 0;\n    _this.rd = false;\n    _this.q9 = true;\n    FastItemObjectColumn.m();\n    _this.ps = true;\n    var a = new CalloutLayerFrame();\n    var b = new CalloutLayerFrame();\n    var c = new CalloutLayerFrame();\n    var d = _this.ha / 1000;\n    _this.pk = a;\n    _this.pj = b;\n    _this.pl = c;\n    _this.ab = CalloutLayer.$;\n    return _this;\n  }\n\n  CalloutLayer.prototype.get_c2 = function () {\n    return true;\n  };\n\n  CalloutLayer.prototype.s9 = function (a, b) {\n    this.rq.clear();\n    this.l0(false);\n  };\n\n  CalloutLayer.prototype.kk = function (a, b, c, d) {\n    _super.prototype.kk.call(this, a, b, c, d);\n\n    var e = this.rl();\n\n    switch (a) {\n      case 3:\n        this.tl(b, e);\n        break;\n\n      case 1:\n        for (var f = b; f < b + c; f++) {\n          var g = new CalloutAnnotation();\n          var h = new CalloutAnnotationWrapper();\n          h.b = g;\n          h.b.series = this.qs;\n          this.rq.insert(f, h);\n          this.tl(f, e);\n        }\n\n        break;\n\n      case 0:\n        this.rq.v(b, c);\n        break;\n\n      case 2:\n        for (var i = b; i < b + c; i++) {\n          this.tl(i, e);\n        }\n\n        break;\n\n      case 4:\n        this.rq.clear();\n\n        for (var j = 0; j < this.ch.count; j++) {\n          var k = new CalloutAnnotation();\n          var l = new CalloutAnnotationWrapper();\n          l.b = k;\n          l.b.series = this.qs;\n          this.rq.add(l);\n          this.tl(j, e);\n        }\n\n        break;\n    }\n\n    this.l0(true);\n  };\n\n  CalloutLayer.prototype.ei = function (a) {\n    return false;\n  };\n\n  CalloutLayer.prototype.rl = function () {\n    var a = new Dictionary$2(String_$type, Series.$, 0);\n\n    if (this.ca != null) {\n      for (var b = 0; b < this.ca.series.count; b++) {\n        var c = this.ca.series._inner[b];\n\n        if (c.name != null && !a.containsKey(c.name)) {\n          a.addItem(c.name, c);\n        }\n      }\n    }\n\n    return a;\n  };\n\n  CalloutLayer.prototype.tl = function (a, b) {\n    var _this = this;\n\n    if (this.q4 == null || this.q2 == null) {\n      return;\n    }\n\n    var c = a;\n\n    if (this.q3 != null) {\n      c = this.q3.item(a);\n    }\n\n    var d = this.q4.item(a);\n    var e = this.q2.item(a);\n    var f = this.rq._inner[a];\n\n    if (this.q1 != null) {\n      if (f.b.aa != this.q1.item(a)) {\n        f.b.key = this.q1.item(a);\n      }\n    }\n\n    if (this.rk.containsKey(f)) {\n      f.b = this.rk.item(f).c.b;\n    }\n\n    f.b.xValue = c;\n    f.b.yValue = d;\n\n    if (this.calloutLabelUpdating != null) {\n      var g = function () {\n        var $ret = new CalloutLabelUpdatingEventArgs();\n        $ret.c = c;\n        $ret.d = d;\n        $ret.item = _this.ch.item(a);\n        return $ret;\n      }();\n\n      this.calloutLabelUpdating(this, g);\n\n      if (g.b != null && !Base.equalsStatic(g.b, f.b.am)) {\n        var h = g.b;\n        f.b.text = h != null ? h.toString() : \"\";\n      }\n    } else {\n      f.b.text = e != null ? e.toString() : \"\";\n    }\n\n    if (this.q0 != null) {\n      f.b.content = this.q0.item(a);\n    } else {\n      f.b.content = this.ch.item(a);\n    }\n\n    if (this.calloutSeriesSelecting != null) {\n      var i = function () {\n        var $ret = new CalloutSeriesSelectingEventArgs();\n        $ret.c = c;\n        $ret.d = d;\n        $ret.item = _this.ch.item(a);\n        return $ret;\n      }();\n\n      this.calloutSeriesSelecting(this, i);\n\n      if (i.a != null) {\n        f.b.series = i.a;\n      } else if (i.e != null) {\n        if (b.containsKey(i.e)) {\n          f.b.series = b.item(i.e);\n        }\n      }\n    }\n\n    this.tm(f);\n  };\n\n  CalloutLayer.prototype.tm = function (a) {\n    var b = new Thickness(0, 3);\n\n    if (isNaN_(this.uk.c) || isNaN_(this.uk.e) || isNaN_(this.uk.d) || isNaN_(this.uk.b)) {\n      b = new Thickness(0, 3);\n    } else {\n      b = this.uk;\n    }\n\n    var c = this.ud != null ? this.ud : this.qp.ci(a.b.l);\n    var d = this.ug != null ? this.ug : this.qp.cl();\n    var e = this.uf != null ? this.uf : this.qp.ck();\n    var f = this.ue != null ? this.ue : this.qp.cj(a.b.l);\n    var g = isNaN_(this.ry) ? 0 : this.ry;\n\n    if (this.ri && this.calloutStyleUpdating != null) {\n      var h = new CalloutStyleUpdatingEventArgs();\n      h.item = a.b.z;\n      h.xValue = a.b.ab;\n      h.yValue = a.b.ac;\n      h.series = a.b.l;\n      h.background = c;\n      h.textColor = d;\n      h.outline = e;\n      h.leaderBrush = f;\n      h.strokeThickness = g;\n      this.calloutStyleUpdating(this, h);\n      c = h.background;\n      d = h.textColor;\n      e = h.outline;\n      f = h.leaderBrush;\n      g = h.strokeThickness;\n    }\n\n    a.b.backgroundPadding = b;\n    a.b.background = c;\n    a.b.textColor = d;\n    a.b.outline = e;\n    a.b.leaderBrush = f;\n    a.b.strokeThickness = g;\n  };\n\n  CalloutLayer.prototype.hk = function (a, b) {\n    var c = this.ja(b);\n\n    if (c == CalloutLayer.$$p[19]) {\n      return this.hl(a, b, this.sv);\n    }\n\n    if (c == CalloutLayer.$$p[24]) {\n      return this.hl(a, b, this.s4);\n    }\n\n    if (c == CalloutLayer.$$p[25]) {\n      return this.hl(a, b, this.s7);\n    }\n\n    if (c == CalloutLayer.$$p[18]) {\n      return this.hl(a, b, this.ss);\n    }\n\n    if (c == CalloutLayer.$$p[14]) {\n      return this.hl(a, b, this.sm);\n    }\n\n    return _super.prototype.hk.call(this, a, b);\n  };\n\n  Object.defineProperty(CalloutLayer.prototype, \"q2\", {\n    get: function () {\n      return this.qx;\n    },\n    set: function (a) {\n      if (this.qx != a) {\n        var b = this.qx;\n        this.qx = a;\n        this.raisePropertyChanged(\"LabelColumn\", b, this.qx);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CalloutLayer.prototype, \"q3\", {\n    get: function () {\n      return this.qy;\n    },\n    set: function (a) {\n      if (this.qy != a) {\n        var b = this.qy;\n        this.qy = a;\n        this.raisePropertyChanged(\"XColumn\", b, this.qy);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CalloutLayer.prototype, \"q4\", {\n    get: function () {\n      return this.qz;\n    },\n    set: function (a) {\n      if (this.qz != a) {\n        var b = this.qz;\n        this.qz = a;\n        this.raisePropertyChanged(\"YColumn\", b, this.qz);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CalloutLayer.prototype, \"q1\", {\n    get: function () {\n      return this.qw;\n    },\n    set: function (a) {\n      if (this.qw != a) {\n        var b = this.qw;\n        this.qw = a;\n        this.raisePropertyChanged(\"KeyColumn\", b, this.qw);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CalloutLayer.prototype, \"q0\", {\n    get: function () {\n      return this.qv;\n    },\n    set: function (a) {\n      if (this.qv != a) {\n        var b = this.qv;\n        this.qv = a;\n        this.raisePropertyChanged(\"ContentColumn\", b, this.qv);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  CalloutLayer.prototype.tb = function (a, b) {\n    if (b.propertyName == CalloutAnnotation.$$p[13] || b.propertyName == CalloutAnnotation.$$p[14]) {\n      var c = a.k;\n\n      if (!this.rm.contains(c)) {\n        this.rm.add_1(c);\n        this.rp.add(c);\n        this.l0(false);\n      }\n    }\n  };\n\n  CalloutLayer.prototype.bu = function () {\n    return new CalloutLayerView(this);\n  };\n\n  CalloutLayer.prototype.lh = function (a) {\n    _super.prototype.lh.call(this, a);\n\n    this.qp = a;\n  };\n\n  Object.defineProperty(CalloutLayer.prototype, \"uk\", {\n    get: function () {\n      return new Thickness(1, this.ru, this.rw, this.rv, this.rt);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CalloutLayer.prototype, \"qu\", {\n    get: function () {\n      if (this.qt == null) {\n        this.qt = FontUtil.toFontInfo(this.gw, this.s0);\n      }\n\n      return this.qt;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  CalloutLayer.prototype.p3 = function (a, b) {\n    if (this.qs == null || this.qs == a) {\n      if (!this.as.c) {\n        this.l0(b);\n      }\n    }\n  };\n\n  CalloutLayer.prototype.p5 = function (a, b) {\n    var e_1, _a;\n\n    _super.prototype.p5.call(this, a, b);\n\n    var c = a;\n    c.p.clear();\n    c.q.clear();\n    c.m.clear();\n    c.f.clear();\n    c.h.clear();\n    c.g.clear();\n    c.j.clear();\n    c.l.clear();\n    c.k.clear();\n    c.i.clear();\n    c.n.clear();\n    c.o.clear();\n    c.t.clear();\n    c.u.clear();\n    c.r.clear();\n    c.s.clear();\n    var d = this.rr();\n    var e = new List$1(CalloutAnnotationWrapper.$, 0);\n\n    if (this.rg) {\n      if (this.pq(this.qs)) {\n        this.ti(this.qs, c, e);\n      } else {\n        try {\n          for (var _b = __values(fromEnum(this.ca.series)), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var f = _c.value;\n\n            if (this.pq(f)) {\n              this.ti(f, c, e);\n            }\n          }\n        } catch (e_1_1) {\n          e_1 = {\n            error: e_1_1\n          };\n        } finally {\n          try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n          } finally {\n            if (e_1) throw e_1.error;\n          }\n        }\n      }\n    }\n\n    this.th(c, d, e);\n  };\n\n  CalloutLayer.prototype.mn = function (a, b) {\n    _super.prototype.mn.call(this, a, b);\n\n    var c = b.width - this.ui.width;\n    var d = b.height - this.ui.height;\n    var e = 0;\n\n    if (Math.abs(c) > Math.abs(d)) {\n      e = c;\n      this.rs = c * this.pf.width;\n    } else {\n      e = d;\n      this.rs = d * this.pf.height;\n    }\n\n    if (e > 0 && this.rs > 5) {\n      this.rf = true;\n    }\n\n    if (e < 0 && this.rs > 5) {\n      this.re = true;\n    }\n  };\n\n  CalloutLayer.prototype.mm = function (a, b) {\n    _super.prototype.mm.call(this, a, b);\n\n    if (!a.equals1(b)) {\n      this.rd = true;\n    }\n  };\n\n  Object.defineProperty(CalloutLayer.prototype, \"uj\", {\n    get: function () {\n      return this.uh;\n    },\n    set: function (a) {\n      this.uh = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  CalloutLayer.prototype.th = function (a, b, c) {\n    var e_2, _a;\n\n    if (this.ca != null) {\n      this.ui = this.ca.pg;\n    }\n\n    if (this.pf.isEmpty) {\n      return;\n    }\n\n    this.uj = new Rect(0, this.pf.left, this.pf.top, this.pf.width, this.pf.height);\n\n    if (this.q5 != null && this.sj != null && this.sj != this.q5.ak) {\n      this.td();\n    }\n\n    if (this.q5 == null) {\n      var d = this.q6();\n\n      if (d != null) {\n        this.q5 = d;\n        var e = this.q5;\n        e.labelsMoved = delegateCombine(e.labelsMoved, runOn(this, this.ta));\n      } else {\n        var f = this.o7(this.bx);\n        var g = 0;\n\n        if (this.qs != null) {\n          if (this.qs.isVertical) {\n            g = 2;\n          }\n        } else {\n          var h = false;\n\n          if (this.ca != null && this.ca.series.count > 0) {\n            h = true;\n\n            try {\n              for (var _b = __values(fromEnum(this.ca.series)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var i = _c.value;\n\n                if (!i.c6) {\n                  if (!i.isVertical) {\n                    h = false;\n                  }\n                }\n              }\n            } catch (e_2_1) {\n              e_2 = {\n                error: e_2_1\n              };\n            } finally {\n              try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n              } finally {\n                if (e_2) throw e_2.error;\n              }\n            }\n          }\n\n          if (h) {\n            g = 2;\n          }\n        }\n\n        this.q5 = new LabelCollisionManager(this.pf.right, this.pf.bottom, this.pf, this.qp.j(), this.rx, this.q7(), g, this.r4(), this.r3(), this.rh);\n\n        if (this.sj != null) {\n          this.q5.ak = this.sj;\n          this.q5.ai = this;\n        }\n\n        var j = this.q5;\n        j.labelsMoved = delegateCombine(j.labelsMoved, runOn(this, this.ta));\n      }\n    }\n\n    if (this.re) {\n      this.re = false;\n\n      if (this.q5.ag > 2) {\n        this.rc = true;\n      }\n    }\n\n    if (this.rf) {\n      this.rf = false;\n\n      if (this.rs > 5) {\n        this.rc = true;\n      }\n    }\n\n    if (this.rd) {\n      this.rd = false;\n      this.q5.ay(this.pf.right, this.pf.bottom, this.pf);\n      this.rc = true;\n    }\n\n    var k = new HashSet$1(CalloutAnnotationWrapper.$, 0);\n    var l = new HashSet$1(CalloutAnnotationWrapper.$, 0);\n    var m = new List$1(CalloutAnnotationWrapper.$, 0);\n    var n = new List$1(CalloutAnnotationWrapper.$, 0);\n    var o = new HashSet$1(CalloutAnnotationWrapper.$, 0);\n\n    for (var p = 0; p < b.count; p++) {\n      o.add_1(b._inner[p]);\n    }\n\n    for (var q = 0; q < c.count; q++) {\n      o.add_1(c._inner[q]);\n    }\n\n    var r = this.rn.c;\n\n    while (r != null) {\n      var s = r.a;\n\n      if (!o.contains(r.c)) {\n        n.add(r.c);\n        l.add_1(r.c);\n        var t = r.c.b;\n        t.propertyChanged = delegateRemove(t.propertyChanged, runOn(this, this.tb));\n        this.rn.h(r);\n        this.rk.removeItem(r.c);\n        this.q5.ax(r.c.c);\n      }\n\n      r = s;\n    }\n\n    for (var u = 0; u < b.count; u++) {\n      if (!this.rk.containsKey(b._inner[u])) {\n        this.rn.f(b._inner[u]);\n        var v = b._inner[u].b;\n        v.propertyChanged = delegateCombine(v.propertyChanged, runOn(this, this.tb));\n        this.rk.addItem(b._inner[u], this.rn.d);\n        m.add(b._inner[u]);\n        k.add_1(b._inner[u]);\n        this.rc = true;\n      }\n    }\n\n    for (var w = 0; w < c.count; w++) {\n      if (!this.rk.containsKey(c._inner[w])) {\n        this.rn.f(c._inner[w]);\n        this.rk.addItem(c._inner[w], this.rn.d);\n        var x = c._inner[w].b;\n        x.propertyChanged = delegateCombine(x.propertyChanged, runOn(this, this.tb));\n        m.add(c._inner[w]);\n        k.add_1(c._inner[w]);\n        this.rc = true;\n      }\n    }\n\n    if (this.ra == true) {\n      this.ra = false;\n      this.rc = true;\n    }\n\n    if (this.rp.count > 0) {\n      this.rc = true;\n      this.rp.clear();\n      this.rm.clear();\n    }\n\n    r = this.rn.c;\n\n    while (r != null) {\n      var y = this.q8(r.c);\n\n      if (y == null) {\n        return;\n      }\n\n      if (!Base.equalsStatic(y, r.c.c.c)) {\n        var z = false;\n\n        if (r.c.c.c == null) {\n          z = true;\n        }\n\n        var aa = r.c.c;\n        aa.o = y.b;\n        aa.p = y.c;\n\n        if (!isNaN_(aa.o) && !isNaN_(aa.p)) {\n          aa.n = y.e;\n          aa.m = y.d;\n\n          if (aa.b == null) {\n            this.q5.p(aa);\n          }\n\n          if (z) {\n            this.q5.al(aa);\n          } else {\n            this.q5.au(aa);\n          }\n        }\n      }\n\n      r = r.a;\n    }\n\n    var ab = this.q5.ah();\n    var ac = this.q5.q();\n\n    if (this.rc && (ab != 0 || ac)) {\n      this.rc = false;\n      this.r0 = 0x7FFFFFFF;\n\n      if (this.sj != null) {\n        var ad = true;\n\n        for (var ae = 0; ae < this.ca.series.count; ae++) {\n          var af = this.ca.series._inner[ae];\n\n          if (af.c6 && typeCast(CalloutLayer.$, af) !== null) {\n            var ag = af;\n\n            if (ag.sj == this.sj) {\n              if (!ag.uj.equals1(this.q5.a0)) {\n                ad = false;\n                break;\n              }\n            }\n          }\n        }\n\n        if (ad) {\n          this.q5.az();\n        } else {\n          this.q5.am();\n          this.q5.an();\n        }\n      } else {\n        this.q5.az();\n      }\n    } else {\n      this.q5.an();\n    }\n\n    var ah = this.rn.c;\n\n    while (ah != null) {\n      var ai = ah.c;\n      a.m.add1(ai);\n      a.f.add(ai.b.bh);\n      a.h.add(ai.b.bj);\n      a.g.add(ai.b.bi);\n      a.j.add(ai.b.backgroundPadding.c);\n      a.l.add(ai.b.backgroundPadding.e);\n      a.k.add(ai.b.backgroundPadding.d);\n      a.i.add(ai.b.backgroundPadding.b);\n      a.n.add(ai.b.x);\n      a.o.add(ai.b.bk);\n      a.p.add1(ai.b.am);\n      a.q.add1(ai.b.z);\n      var aj = ai.c;\n      a.t.add(ai.c.o - (ai.c.g - ai.c.l));\n      a.u.add(ai.c.p - (ai.c.h - ai.c.k));\n      a.r.add(ai.c.g - ai.c.l);\n      a.s.add(ai.c.h - ai.c.k);\n      ah = ah.a;\n    }\n  };\n\n  CalloutLayer.prototype.td = function () {\n    if (this.q5 != null) {\n      var a = this.rn.c;\n\n      while (a != null) {\n        var b = a.c.c;\n\n        if (b != null) {\n          this.q5.ax(b);\n        }\n\n        a = a.a;\n      }\n\n      var c = this.q5;\n      c.labelsMoved = delegateRemove(c.labelsMoved, runOn(this, this.ta));\n      this.q5 = null;\n    }\n\n    this.tc();\n  };\n\n  CalloutLayer.prototype.q6 = function () {\n    if (this.ca == null) {\n      return null;\n    }\n\n    for (var a = 0; a < this.ca.series.count; a++) {\n      var b = this.ca.series._inner[a];\n\n      if (b.c6 && typeCast(CalloutLayer.$, b) !== null) {\n        var c = b;\n\n        if (c != this) {\n          if (c.sj != null && c.sj == this.sj) {\n            if (c.q5 != null) {\n              return c.q5;\n            }\n          }\n        }\n      }\n    }\n\n    return null;\n  };\n\n  CalloutLayer.prototype.r3 = function () {\n    return 20000;\n  };\n\n  CalloutLayer.prototype.r4 = function () {\n    return 300;\n  };\n\n  CalloutLayer.prototype.q7 = function () {\n    switch (this.qm) {\n      case 0:\n        return 2;\n\n      case 2:\n        return 1;\n\n      case 3:\n        return 2;\n\n      case 1:\n        return 0;\n    }\n\n    return 2;\n  };\n\n  CalloutLayer.prototype.ta = function (a) {\n    var b = this.q5.ah();\n\n    if (b < this.r0) {\n      this.r0 = b;\n      this.l0(false);\n    }\n  };\n\n  CalloutLayer.prototype.q8 = function (a) {\n    var b = this.qs;\n\n    if (a.b.l != null) {\n      b = a.b.l;\n    }\n\n    if (b == null) {\n      for (var c = 0; c < this.ca.series.count; c++) {\n        var d = this.ca.series._inner[c];\n\n        if (!d.c6) {\n          b = d;\n          break;\n        }\n      }\n    }\n\n    if (b == null) {\n      return null;\n    }\n\n    var e = b.ag();\n    var f = b.f2();\n    var g = null;\n    var h = null;\n    var i = false;\n\n    for (var j = 0; j < e.length; j++) {\n      if (e[j].b4) {\n        i = true;\n        g = e[j];\n      } else if (e[j].cg) {\n        i = true;\n        h = e[j];\n      } else if (e[j].cj) {\n        h = e[j];\n      } else {\n        g = e[j];\n      }\n    }\n\n    if (g == null || h == null) {\n      return null;\n    }\n\n    if (!g.ci() || !h.ci()) {\n      return null;\n    }\n\n    var k = 0;\n    var l = 0;\n\n    if (g.b6 && g.categoryMode != 0) {\n      if (b.di) {\n        k = b.getOffsetValue();\n      } else if (b.da) {\n        k = b.getOffsetValue();\n      }\n    }\n\n    if (h.b6 && h.categoryMode != 0) {\n      if (b.da) {\n        l = b.getOffsetValue();\n      }\n    }\n\n    var m = new ScalerParams(0, this.ca.pg, g.js, g.cc, g.jn());\n    m.b = f;\n    var n = new ScalerParams(0, this.ca.pg, h.js, h.cc, h.jn());\n    n.b = f;\n    var o = 0;\n    var p = 0;\n\n    if (i) {\n      o = g.d8(this.rz(a.b.ab), m) + k;\n      p = h.d8(this.rz(a.b.ac), n) + l;\n      var q = o;\n      var r = p;\n      var s = {\n        $type: Point_$type,\n        x: 0.5,\n        y: 0.5\n      };\n      var t = s.x + r * Math.cos(q);\n      o = ViewportUtils.c(t, m.e, m.d);\n      var u = s.y + r * Math.sin(q);\n      p = ViewportUtils.f(u, n.e, n.d);\n    } else {\n      o = g.d8(this.rz(a.b.ab), m) + k;\n      p = h.d8(this.rz(a.b.ac), n) + l;\n    }\n\n    var v = new QuadTreeBoundingBox();\n    v.b = o;\n    v.c = p;\n    v.e = 3;\n    v.d = 3;\n    v.g = a.b;\n    return v;\n  };\n\n  CalloutLayer.prototype.rz = function (a) {\n    if (typeCast(Date_$type, a) !== null) {\n      return a.getTime();\n    }\n\n    if (a == null) {\n      return 0;\n    }\n\n    return a;\n  };\n\n  CalloutLayer.prototype.rr = function () {\n    var a = new List$1(CalloutAnnotationWrapper.$, 0);\n\n    for (var b = 0; b < this.rq.count; b++) {\n      if (stringIsNullOrEmpty(this.rq._inner[b].b.am)) {\n        continue;\n      }\n\n      if (this.rq._inner[b].c == null) {\n        var c = new LabelCollisionInfo();\n        this.rq._inner[b].c = c;\n        var d = this.qp.cn(this.r5(this.rq._inner[b]), this.rq._inner[b].b.backgroundPadding);\n        c.k = d.height / 2;\n        c.l = d.width / 2;\n      }\n\n      var e = this.q8(this.rq._inner[b]);\n\n      if (e == null || e.b < this.pf.left || e.b > this.pf.right || e.c < this.pf.top || e.c > this.pf.bottom) {\n        continue;\n      }\n\n      a.add(this.rq._inner[b]);\n    }\n\n    return a;\n  };\n\n  CalloutLayer.prototype.r5 = function (a) {\n    return a.b.am;\n  };\n\n  CalloutLayer.prototype.pq = function (a) {\n    if (!_super.prototype.pq.call(this, a)) {\n      return false;\n    }\n\n    if (this.sx != null) {\n      if (a.dn) {\n        var b = a.i9();\n\n        if (!Base.equalsStatic(this.sx, b)) {\n          return false;\n        }\n      } else {\n        if (!Base.equalsStatic(this.sx, a.name)) {\n          return false;\n        }\n      }\n    }\n\n    return true;\n  };\n\n  CalloutLayer.prototype.la = function () {\n    _super.prototype.la.call(this);\n\n    if (!this.as.c && !this.cr()) {\n      return;\n    }\n\n    if (this.q9) {\n      this.q9 = false;\n      this.tf();\n    }\n\n    if (this.cr()) {\n      this.tk(this.pl, false);\n    } else {\n      this.tk(this.pj, false);\n    }\n  };\n\n  CalloutLayer.prototype.tg = function () {\n    if (!this.rb) {\n      this.rb = true;\n      this.l0(true);\n    }\n  };\n\n  CalloutLayer.prototype.ti = function (a, b, c) {\n    var d = false;\n\n    if (this.rb) {\n      this.rb = false;\n      d = true;\n    }\n\n    if (a.cx(this.ro, this.rj, this.r1)) {\n      var e = this.ro;\n\n      var _loop_1 = function (f) {\n        var g = e._inner[f];\n        var h = g.a.item != null ? g.a.item : g.a;\n        var i = a;\n        var j = new CalloutKey(h, i);\n        var k = new CalloutAnnotationWrapper();\n        var l = new CalloutAnnotation();\n        k.b = l;\n        l.key = j;\n        var m = false;\n\n        if (this_1.rk.containsKey(k)) {\n          k = this_1.rk.item(k).c;\n          l = k.b;\n          m = d;\n        } else {\n          m = true;\n        }\n\n        var n = l.ab;\n        var o = l.ac;\n\n        if (this_1.rz(n) != this_1.rz(g.b)) {\n          l.xValue = g.b;\n        }\n\n        if (this_1.rz(o) != this_1.rz(g.c)) {\n          l.yValue = g.c;\n        }\n\n        l.series = a;\n        var p = false;\n\n        if (g.d != l.aw) {\n          l.aw = g.d;\n          p = true;\n        }\n\n        if (m || p) {\n          if (this_1.calloutLabelUpdating != null) {\n            var q = function () {\n              var $ret = new CalloutLabelUpdatingEventArgs();\n              $ret.c = l.ab;\n              $ret.d = l.ac;\n              $ret.item = h;\n              return $ret;\n            }();\n\n            this_1.calloutLabelUpdating(this_1, q);\n\n            if (q.b != null && !Base.equalsStatic(q.b, k.b.am)) {\n              var r = q.b;\n              k.b.text = r != null ? r.toString() : \"\";\n            }\n          } else {\n            if (g.d != null) {\n              l.text = g.d;\n            }\n          }\n        }\n\n        if (l.am == null) {\n          return \"continue\";\n        }\n\n        if (m || p) {\n          if (this_1.calloutContentUpdating != null) {\n            var s = function () {\n              var $ret = new CalloutContentUpdatingEventArgs();\n              $ret.c = l.ab;\n              $ret.d = l.ac;\n              $ret.item = h;\n              $ret.a = h;\n              return $ret;\n            }();\n\n            this_1.calloutContentUpdating(this_1, s);\n\n            if (s.a != null && s.a != k.b.z) {\n              k.b.content = s.a;\n            }\n          } else {\n            if (h != null && h != k.b.z) {\n              k.b.content = h;\n            }\n          }\n        }\n\n        if (m) {\n          this_1.tm(k);\n        }\n\n        if (k.c == null) {\n          var t = new LabelCollisionInfo();\n          k.c = t;\n          var u = this_1.qp.cn(this_1.r5(k), k.b.backgroundPadding);\n          t.k = u.height / 2;\n          t.l = u.width / 2;\n        }\n\n        var v = this_1.q8(k);\n\n        if (v == null || v.b < this_1.pf.left || v.b > this_1.pf.right || v.c < this_1.pf.top || v.c > this_1.pf.bottom) {\n          return \"continue\";\n        }\n\n        c.add(k);\n      };\n\n      var this_1 = this;\n\n      for (var f = 0; f < this.ro.count; f++) {\n        _loop_1(f);\n      }\n    }\n  };\n\n  CalloutLayer.prototype.bo = function () {\n    return 1;\n  };\n\n  CalloutLayer.prototype.at = function (a, b) {\n    var c = this.q5.d(a, b);\n\n    if (c == null) {\n      return null;\n    }\n\n    return c.u;\n  };\n\n  CalloutLayer.prototype.ep = function (a, b) {\n    if (this.q5 == null) {\n      return false;\n    }\n\n    return this.q5.d(a, b) != null;\n  };\n\n  CalloutLayer.prototype.tk = function (a, b) {\n    var e_3, _a;\n\n    var c = 0;\n    var d = new HashSet$1(CalloutAnnotationWrapper.$, 0);\n\n    for (c = 0; c < a.p.count; c++) {\n      var e = a.m._inner[c];\n\n      if (isNaN_(a.t._inner[c]) || isNaN_(a.u._inner[c])) {\n        continue;\n      }\n\n      var f = this.qp.b8.item(e);\n      d.add_1(e);\n\n      if (f.f != a.p._inner[c]) {\n        f.f = a.p._inner[c];\n        var g = f.s();\n      }\n\n      f.c = a.n._inner[c];\n      f.k = a.f._inner[c];\n      f.n = a.o._inner[c];\n      f.m = f.c > 0 ? a.h._inner[c] : this.bx.bq();\n      f.l = a.g._inner[c];\n      f.v = new Thickness(1, a.j._inner[c], a.l._inner[c], a.k._inner[c], a.i._inner[c]);\n      this.qp.cg(f, Math.min(a.r._inner[c], a.r._inner[c] + a.t._inner[c]), Math.min(a.s._inner[c], a.s._inner[c] + a.u._inner[c]));\n      this.qp.ch(f, e, a.q._inner[c]);\n      f.p = {\n        $type: Point_$type,\n        x: a.t._inner[c],\n        y: a.u._inner[c]\n      };\n    }\n\n    var h = new List$1(CalloutAnnotationWrapper.$, 0);\n\n    try {\n      for (var _b = __values(fromEnum(this.qp.b8.c)), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var i = _c.value;\n\n        if (!d.contains(i)) {\n          h.add(i);\n        }\n      }\n    } catch (e_3_1) {\n      e_3 = {\n        error: e_3_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_3) throw e_3.error;\n      }\n    }\n\n    for (var j = 0; j < h.count; j++) {\n      this.qp.b8.h(h._inner[j]);\n    }\n  };\n\n  CalloutLayer.prototype.p8 = function (a, b) {\n    _super.prototype.p8.call(this, a, b);\n\n    if (this.cr()) {\n      this.tk(this.pl, true);\n    } else {\n      this.tk(this.pj, false);\n    }\n  };\n\n  CalloutLayer.prototype.eg = function () {\n    return true;\n  };\n\n  CalloutLayer.prototype.lm = function (a, b, c, d) {\n    _super.prototype.lm.call(this, a, b, c, d);\n\n    switch (b) {\n      case CalloutLayer.$$p[22]:\n        this.qt = null;\n        this.qp.cf();\n        this.l0(true);\n        break;\n\n      case CalloutLayer.$$p[20]:\n      case CalloutLayer.$$p[21]:\n        this.l0(true);\n        break;\n\n      case CalloutLayer.$$p[13]:\n        this.l0(true);\n        break;\n\n      case \"SeriesViewer\":\n        if (c != null) {\n          var e = c;\n          e.seriesAnimating = delegateRemove(e.seriesAnimating, runOn(this, this.tj));\n        }\n\n        if (d != null) {\n          var f = d;\n          f.seriesAnimating = delegateCombine(f.seriesAnimating, runOn(this, this.tj));\n        }\n\n        if (d == null) {\n          this.td();\n        }\n\n        break;\n\n      case CalloutLayer.$$p[15]:\n      case CalloutLayer.$$p[16]:\n      case CalloutLayer.$$p[1]:\n      case CalloutLayer.$$p[5]:\n      case CalloutLayer.$$p[4]:\n      case CalloutLayer.$$p[7]:\n      case CalloutLayer.$$p[9]:\n      case CalloutLayer.$$p[8]:\n      case CalloutLayer.$$p[6]:\n      case CalloutLayer.$$p[11]:\n      case CalloutLayer.$$p[12]:\n        this.te();\n        break;\n\n      case CalloutLayer.$$p[19]:\n        if (this.ch != null) {\n          this.ch.deregisterColumn(this.q2);\n          this.q2 = this.cg(this.sv);\n        }\n\n        break;\n\n      case \"LabelColumn\":\n        this.te();\n        break;\n\n      case CalloutLayer.$$p[14]:\n        if (this.ch != null) {\n          this.ch.deregisterColumn(this.q0);\n          this.q0 = this.cg(this.sm);\n        }\n\n        break;\n\n      case \"ContentColumn\":\n        this.te();\n        break;\n\n      case CalloutLayer.$$p[24]:\n        if (this.ch != null) {\n          this.ch.deregisterColumn(this.q3);\n          this.q3 = stringIsNullOrEmpty(this.s4) == false ? this.cg(this.s4) : null;\n        }\n\n        break;\n\n      case \"XColumn\":\n        this.te();\n        break;\n\n      case CalloutLayer.$$p[25]:\n        if (this.ch != null) {\n          this.ch.deregisterColumn(this.q4);\n          this.q4 = this.cg(this.s7);\n        }\n\n        break;\n\n      case \"YColumn\":\n        this.te();\n        break;\n\n      case CalloutLayer.$$p[18]:\n        if (this.ch != null) {\n          this.ch.deregisterColumn(this.q1);\n          this.q1 = this.cg(this.ss);\n        }\n\n        break;\n\n      case \"KeyColumn\":\n        this.te();\n        break;\n\n      case \"FastItemsSource\":\n        this.ra = true;\n\n        if (typeCast(IFastItemsSource_$type, c) != null) {\n          c.deregisterColumn(this.q2);\n          c.deregisterColumn(this.q0);\n          c.deregisterColumn(this.q3);\n          c.deregisterColumn(this.q4);\n          c.deregisterColumn(this.q1);\n          this.q2 = null;\n          this.q0 = null;\n          this.q3 = null;\n          this.q4 = null;\n          this.q1 = null;\n          this.rq.clear();\n        }\n\n        if (typeCast(IFastItemsSource_$type, d) != null) {\n          this.q2 = this.cg(this.sv);\n          this.q0 = this.cg(this.sm);\n\n          if (stringIsNullOrEmpty(this.s4) == false) {\n            this.q3 = this.cg(this.s4);\n          }\n\n          this.q4 = this.cg(this.s7);\n          this.q1 = this.cg(this.ss);\n        }\n\n        this.te();\n        break;\n    }\n  };\n\n  CalloutLayer.prototype.tj = function (a) {\n    if (a.c6) {\n      return;\n    }\n\n    if ((a == this.qs || this.qs == null) && this.rg) {\n      this.l0(false);\n    }\n  };\n\n  CalloutLayer.prototype.te = function () {\n    if (this.q9 == false) {\n      this.q9 = true;\n      this.l0(false);\n    }\n  };\n\n  CalloutLayer.prototype.tc = function () {\n    this.qp.b8.clear();\n    this.rn.g();\n    this.rk.clear();\n  };\n\n  CalloutLayer.prototype.tf = function () {\n    if (this.q4 == null || this.q2 == null) {\n      var a = this.rn.c;\n\n      while (a != null) {\n        this.tm(a.c);\n        a = a.a;\n      }\n\n      return;\n    }\n\n    var b = this.rl();\n\n    for (var c = 0; c < this.q4.count; c++) {\n      var d = void 0;\n\n      if (this.rq.count <= c) {\n        var e = new CalloutAnnotation();\n        d = new CalloutAnnotationWrapper();\n        d.b = e;\n        d.b.series = this.qs;\n        this.rq.add(d);\n      } else {\n        d = this.rq._inner[c];\n      }\n\n      this.tl(c, b);\n    }\n  };\n\n  CalloutLayer.$t = markType(CalloutLayer, 'CalloutLayer', AnnotationLayer.$);\n  CalloutLayer.$$p = markDep(DependencyProperty, PropertyMetadata, CalloutLayer, 'raisePropertyChanged', ['AutoCalloutLabelPrecision:r1:tn', [1, 5], 'CalloutBackground:ud:to', [Brush.$, null], 'CalloutCollisionMode:qm:tp', [CalloutCollisionMode_$type, enumGetBox(CalloutCollisionMode_$type, 3)], 'CalloutInterpolatedValuePrecision:r2:tq', [1, -1], 'CalloutLeaderBrush:ue:tr', [Brush.$, null], 'CalloutOutline:uf:ts', [Brush.$, null], 'CalloutPaddingBottom:rt:tt', [1, NaN], 'CalloutPaddingLeft:ru:tu', [1, NaN], 'CalloutPaddingRight:rv:tv', [1, NaN], 'CalloutPaddingTop:rw:tw', [1, NaN], 'CalloutPositionPadding:rx:tx', [1, 10], 'CalloutStrokeThickness:ry:ty', [1, NaN], 'CalloutTextColor:ug:tz', [Brush.$, null], 'CollisionChannel:sj:t0', [2, null], 'ContentMemberPath:sm:t1', [2, null], 'IsAutoCalloutBehaviorEnabled:rg:t2', [0, false], 'IsCalloutOffsettingEnabled:rh:t3', [0, true], 'IsCustomCalloutStyleEnabled:ri:t4', [0, false], 'KeyMemberPath:ss:t5', [2, null], 'LabelMemberPath:sv:t6', [2, null], 'TargetSeriesName:sx:t7', [2, null], 'TargetSeries:qs:t8', [Series.$, null], 'TextStyle:s0:t9', [2, null], 'UseValueForAutoCalloutLabels:rj:ua', [0, true], 'XMemberPath:s4:ub', [2, null], 'YMemberPath:s7:uc', [2, null]]);\n  return CalloutLayer;\n}(AnnotationLayer);\n\nexport { CalloutLayer };\n/**\n * @hidden\n */\n\nvar CalloutLayerView =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(CalloutLayerView, _super);\n\n  function CalloutLayerView(a) {\n    var _this = _super.call(this, a) || this;\n\n    _this.b4 = null;\n    _this.b9 = null;\n    _this.b8 = null;\n    _this.ca = NaN;\n    _this.b5 = null;\n    _this.b4 = a;\n    _this.b9 = new List$1(CalloutView.$, 0);\n    return _this;\n  }\n\n  CalloutLayerView.prototype.as = function () {\n    var _this = this;\n\n    _super.prototype.as.call(this);\n\n    this.b8 = function () {\n      var $ret = new HashPool$2(CalloutAnnotationWrapper.$, CalloutView.$);\n      $ret.create = runOn(_this, _this.b6);\n      $ret.activate = runOn(_this, _this.cc);\n      $ret.disactivate = runOn(_this, _this.ce);\n      $ret.destroy = runOn(_this, _this.cd);\n      return $ret;\n    }();\n  };\n\n  CalloutLayerView.prototype.b6 = function () {\n    var a = new CalloutView(this);\n    this.b9.add(a);\n    return a;\n  };\n\n  CalloutLayerView.prototype.cc = function (a) {\n    a.w = 0;\n  };\n\n  CalloutLayerView.prototype.ce = function (a) {\n    a.w = 1;\n  };\n\n  CalloutLayerView.prototype.cd = function (a) {\n    this.b9.remove(a);\n  };\n\n  CalloutLayerView.prototype.cm = function (a) {\n    if (a == null) {\n      return a;\n    }\n\n    return BrushUtil.l(a, 0.1);\n  };\n\n  CalloutLayerView.prototype.a6 = function (a, b) {\n    _super.prototype.a6.call(this, a, b);\n\n    a.ac(this.b7());\n\n    if (a.d && !b) {\n      for (var c = 0; c < this.b9.count; c++) {\n        var d = this.b9._inner[c];\n\n        if (d.w == 0) {\n          d.h(a);\n        }\n      }\n    }\n  };\n\n  CalloutLayerView.prototype.b7 = function () {\n    if (this.b4.qu != null) {\n      return this.b4.qu;\n    }\n\n    return this.e.ca.getFontInfo();\n  };\n\n  CalloutLayerView.prototype.al = function (a) {\n    _super.prototype.al.call(this, a);\n\n    for (var b = 0; b < this.b9.count; b++) {\n      var c = this.b9._inner[b];\n\n      if (c.w != 0) {\n        continue;\n      }\n\n      c.g(this.b4, this.b7(), a);\n    }\n  };\n\n  CalloutLayerView.prototype.co = function (a) {\n    this.k.ac(this.b7());\n    this.ca = this.cb();\n    return new Size(1, this.k.f(a.ak), this.ca);\n  };\n\n  CalloutLayerView.prototype.cb = function () {\n    var a = this.b7();\n\n    if (isNaN_(this.ca)) {\n      var b = FontUtil.getCurrentFontHeight(this.e.ca.cf.j.ae, a);\n      this.ca = b;\n    }\n\n    return this.ca;\n  };\n\n  CalloutLayerView.prototype.cn = function (a, b) {\n    if (this.b5 == null) {\n      this.b5 = new CalloutView(this);\n    }\n\n    this.b5.f = a;\n    this.b5.v = b;\n    var c = this.b5.s();\n    this.b5.f = null;\n    return c;\n  };\n\n  CalloutLayerView.prototype.cg = function (a, b, c) {\n    a.d = b;\n    a.e = c;\n  };\n\n  CalloutLayerView.prototype.ch = function (a, b, c) {\n    a.i(this.e, b, c);\n  };\n\n  CalloutLayerView.prototype.ci = function (a) {\n    if (a != null) {\n      return this.cm(a.ok);\n    }\n\n    return this.e.ok;\n  };\n\n  CalloutLayerView.prototype.cl = function () {\n    return function () {\n      var $ret = new Brush();\n      $ret.color = Color.u(255, 255, 255, 255);\n      return $ret;\n    }();\n  };\n\n  CalloutLayerView.prototype.ck = function () {\n    return function () {\n      var $ret = new Brush();\n      $ret.color = Color.u(255, 255, 255, 255);\n      return $ret;\n    }();\n  };\n\n  CalloutLayerView.prototype.cj = function (a) {\n    if (a != null) {\n      return this.cm(a.of);\n    }\n\n    return this.e.of;\n  };\n\n  CalloutLayerView.prototype.cf = function () {\n    this.ca = NaN;\n  };\n\n  CalloutLayerView.$t = markType(CalloutLayerView, 'CalloutLayerView', AnnotationLayerView.$);\n  return CalloutLayerView;\n}(AnnotationLayerView);\n\nexport { CalloutLayerView };\n/**\n * @hidden\n */\n\nvar CalloutView =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(CalloutView, _super);\n\n  function CalloutView(a) {\n    var _this = _super.call(this) || this;\n\n    _this.a = null;\n    _this.w = 0;\n    _this.j = null;\n    _this.r = null;\n    _this.o = {\n      $type: Point_$type,\n      x: 0,\n      y: 0\n    };\n    _this.q = null;\n    _this.u = new Thickness(0, 0);\n    _this.t = null;\n    _this.d = 0;\n    _this.e = 0;\n    _this.b = null;\n    _this.q = new Line();\n    _this.q.ab = false;\n\n    _this.q._stroke = function () {\n      var $ret = new Brush();\n      $ret.color = Color.u(255, 0, 0, 0);\n      return $ret;\n    }();\n\n    _this.q.ac = 2;\n    _this.j = new TextBlock();\n    _this.r = new Rectangle();\n    _this.r.ac = 0;\n    _this.a = a;\n    _this.w = 0;\n    return _this;\n  }\n\n  CalloutView.prototype.h = function (a) {\n    a.z();\n    a.af(this.d, this.e);\n    var b = new TranslateTransform();\n    b.j = this.t.c;\n    b.k = this.t.e;\n    this.r.j = b;\n    a.r(this.q);\n    a.z();\n    this.r.width = this.j.m + this.u.c + this.u.d;\n    this.r.height = this.j.l + this.u.e + this.u.b;\n    a.j(this.r.j);\n    a.v(this.r);\n    this.j.o = this.u.e;\n    this.j.n = this.u.c;\n    a.w(this.j);\n    a.y();\n    a.y();\n  };\n\n  Object.defineProperty(CalloutView.prototype, \"p\", {\n    get: function () {\n      return this.o;\n    },\n    set: function (a) {\n      if (this.o.x != a.x || this.o.y != a.y) {\n        var b = this.s();\n        var c = b.height;\n        var d = b.width;\n        this.o = a;\n        var e = CalloutViewHelper.b(this.p, d, c, this.q);\n        this.t = e;\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CalloutView.prototype, \"n\", {\n    get: function () {\n      return this.j.am;\n    },\n    set: function (a) {\n      this.j.am = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CalloutView.prototype, \"m\", {\n    get: function () {\n      return this.r._stroke;\n    },\n    set: function (a) {\n      this.r._stroke = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CalloutView.prototype, \"l\", {\n    get: function () {\n      return this.q._stroke;\n    },\n    set: function (a) {\n      this.q._stroke = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CalloutView.prototype, \"k\", {\n    get: function () {\n      return this.r._fill;\n    },\n    set: function (a) {\n      this.r._fill = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CalloutView.prototype, \"c\", {\n    get: function () {\n      return this.r.ac;\n    },\n    set: function (a) {\n      this.r.ac = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CalloutView.prototype, \"v\", {\n    get: function () {\n      return this.u;\n    },\n    set: function (a) {\n      this.u = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CalloutView.prototype, \"f\", {\n    get: function () {\n      return this.j.ak;\n    },\n    set: function (a) {\n      if (a == null) {\n        this.j.ak = \"\";\n      } else {\n        this.j.ak = a.toString();\n      }\n\n      var b = this.s();\n      var c = b.height;\n      var d = b.width;\n      var e = CalloutViewHelper.b(this.p, d, c, this.q);\n      this.t = e;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  CalloutView.prototype.s = function () {\n    var a = this.a.co(this.j);\n    this.j.m = a.width;\n    this.j.l = a.height;\n    return new Size(1, a.width + this.u.c + this.u.d, a.height + this.u.e + this.u.b);\n  };\n\n  CalloutView.prototype.i = function (a, b, c) {\n    if (this.b == null) {\n      this.b = new DataContext();\n    }\n\n    this.b.series = a;\n    this.b.item = c;\n\n    if (b.c != null) {\n      b.c.u = this.b;\n    }\n  };\n\n  CalloutView.prototype.g = function (a, b, c) {\n    a.a6.exportCalloutData(this.d, this.e, this.t.c, this.t.e, c, this.r, this.j, b, this.q, \"callout\", [\"Main\", \"Callout\"]);\n  };\n\n  CalloutView.$t = markType(CalloutView, 'CalloutView');\n  return CalloutView;\n}(Base);\n\nexport { CalloutView };","map":{"version":3,"sources":["../../../../src/igniteui-charts/lib/CalloutLayer_combined.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends, __values } from \"tslib\";\nimport { AnnotationLayer } from \"./AnnotationLayer\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { Base, String_$type, typeCast, enumGetBox, fromEnum, runOn, delegateCombine, delegateRemove, Point_$type, Date_$type, markType, markDep } from \"igniteui-react-core\";\nimport { Series } from \"./Series\";\nimport { Brush } from \"igniteui-react-core\";\nimport { Thickness } from \"igniteui-react-core\";\nimport { CalloutCollisionMode_$type } from \"./CalloutCollisionMode\";\nimport { FontUtil } from \"igniteui-react-core\";\nimport { Rect } from \"igniteui-react-core\";\nimport { CalloutLayerFrame } from \"./CalloutLayerFrame\";\nimport { HashSet$1 } from \"igniteui-react-core\";\nimport { CalloutAnnotationWrapper } from \"./CalloutAnnotationWrapper\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { LinkedList$1 } from \"igniteui-react-core\";\nimport { Dictionary$2 } from \"igniteui-react-core\";\nimport { LinkedListNode$1 } from \"igniteui-react-core\";\nimport { LabelCollisionManager } from \"igniteui-react-core\";\nimport { SeriesPointOfInterest } from \"./SeriesPointOfInterest\";\nimport { CalloutAnnotation } from \"./CalloutAnnotation\";\nimport { IFastItemsSource_$type } from \"igniteui-react-core\";\nimport { CalloutLabelUpdatingEventArgs } from \"./CalloutLabelUpdatingEventArgs\";\nimport { CalloutSeriesSelectingEventArgs } from \"./CalloutSeriesSelectingEventArgs\";\nimport { CalloutStyleUpdatingEventArgs } from \"./CalloutStyleUpdatingEventArgs\";\nimport { QuadTreeBoundingBox } from \"igniteui-react-core\";\nimport { LabelCollisionInfo } from \"igniteui-react-core\";\nimport { ScalerParams } from \"./ScalerParams\";\nimport { ViewportUtils } from \"./ViewportUtils\";\nimport { Size } from \"igniteui-react-core\";\nimport { CalloutContentUpdatingEventArgs } from \"./CalloutContentUpdatingEventArgs\";\nimport { CalloutKey } from \"./CalloutKey\";\nimport { DataContext } from \"igniteui-react-core\";\nimport { HashPool$2 } from \"igniteui-react-core\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\nimport { isNaN_ } from \"igniteui-react-core\";\nimport { stringIsNullOrEmpty } from \"igniteui-react-core\";\nimport { FastItemObjectColumn } from \"igniteui-react-core\";\nimport { AnnotationLayerView } from \"./AnnotationLayerView\";\nimport { BrushUtil } from \"igniteui-react-core\";\nimport { TextBlock } from \"igniteui-react-core\";\nimport { Color } from \"igniteui-react-core\";\nimport { Line } from \"igniteui-react-core\";\nimport { CalloutViewHelper } from \"./CalloutViewHelper\";\nimport { Rectangle } from \"igniteui-react-core\";\nimport { TranslateTransform } from \"igniteui-react-core\";\n/**\n * @hidden\n */\nvar CalloutLayer = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(CalloutLayer, _super);\n    function CalloutLayer() {\n        var _this = _super.call(this) || this;\n        _this.calloutStyleUpdating = null;\n        _this.qx = null;\n        _this.qy = null;\n        _this.qz = null;\n        _this.qw = null;\n        _this.qv = null;\n        _this.rm = new HashSet$1(CalloutAnnotationWrapper.$, 0);\n        _this.rp = new List$1(CalloutAnnotationWrapper.$, 0);\n        _this.rq = new List$1(CalloutAnnotationWrapper.$, 0);\n        _this.qt = null;\n        _this.rn = new LinkedList$1(CalloutAnnotationWrapper.$);\n        _this.rk = new Dictionary$2(CalloutAnnotationWrapper.$, LinkedListNode$1.$.specialize(CalloutAnnotationWrapper.$), 0);\n        _this.q5 = null;\n        _this.ui = new Rect(0, 0, 0, 1, 1);\n        _this.rc = false;\n        _this.r0 = 0;\n        _this.uh = Rect.empty;\n        _this.ra = false;\n        _this.rb = false;\n        _this.calloutContentUpdating = null;\n        _this.calloutLabelUpdating = null;\n        _this.calloutSeriesSelecting = null;\n        _this.ro = new List$1(SeriesPointOfInterest.$, 0);\n        _this.re = false;\n        _this.rf = false;\n        _this.rs = 0;\n        _this.rd = false;\n        _this.q9 = true;\n        FastItemObjectColumn.m();\n        _this.ps = true;\n        var a = new CalloutLayerFrame();\n        var b = new CalloutLayerFrame();\n        var c = new CalloutLayerFrame();\n        var d = _this.ha / 1000;\n        _this.pk = a;\n        _this.pj = b;\n        _this.pl = c;\n        _this.ab = CalloutLayer.$;\n        return _this;\n    }\n    CalloutLayer.prototype.get_c2 = function () {\n        return true;\n    };\n    CalloutLayer.prototype.s9 = function (a, b) {\n        this.rq.clear();\n        this.l0(false);\n    };\n    CalloutLayer.prototype.kk = function (a, b, c, d) {\n        _super.prototype.kk.call(this, a, b, c, d);\n        var e = this.rl();\n        switch (a) {\n            case 3:\n                this.tl(b, e);\n                break;\n            case 1:\n                for (var f = b; f < b + c; f++) {\n                    var g = new CalloutAnnotation();\n                    var h = new CalloutAnnotationWrapper();\n                    h.b = g;\n                    h.b.series = this.qs;\n                    this.rq.insert(f, h);\n                    this.tl(f, e);\n                }\n                break;\n            case 0:\n                this.rq.v(b, c);\n                break;\n            case 2:\n                for (var i = b; i < b + c; i++) {\n                    this.tl(i, e);\n                }\n                break;\n            case 4:\n                this.rq.clear();\n                for (var j = 0; j < this.ch.count; j++) {\n                    var k = new CalloutAnnotation();\n                    var l = new CalloutAnnotationWrapper();\n                    l.b = k;\n                    l.b.series = this.qs;\n                    this.rq.add(l);\n                    this.tl(j, e);\n                }\n                break;\n        }\n        this.l0(true);\n    };\n    CalloutLayer.prototype.ei = function (a) {\n        return false;\n    };\n    CalloutLayer.prototype.rl = function () {\n        var a = new Dictionary$2(String_$type, Series.$, 0);\n        if (this.ca != null) {\n            for (var b = 0; b < this.ca.series.count; b++) {\n                var c = this.ca.series._inner[b];\n                if (c.name != null && !a.containsKey(c.name)) {\n                    a.addItem(c.name, c);\n                }\n            }\n        }\n        return a;\n    };\n    CalloutLayer.prototype.tl = function (a, b) {\n        var _this = this;\n        if (this.q4 == null || this.q2 == null) {\n            return;\n        }\n        var c = a;\n        if (this.q3 != null) {\n            c = this.q3.item(a);\n        }\n        var d = this.q4.item(a);\n        var e = this.q2.item(a);\n        var f = this.rq._inner[a];\n        if (this.q1 != null) {\n            if (f.b.aa != this.q1.item(a)) {\n                f.b.key = this.q1.item(a);\n            }\n        }\n        if (this.rk.containsKey(f)) {\n            f.b = this.rk.item(f).c.b;\n        }\n        f.b.xValue = c;\n        f.b.yValue = d;\n        if (this.calloutLabelUpdating != null) {\n            var g = ((function () {\n                var $ret = new CalloutLabelUpdatingEventArgs();\n                $ret.c = c;\n                $ret.d = d;\n                $ret.item = _this.ch.item(a);\n                return $ret;\n            })());\n            this.calloutLabelUpdating(this, g);\n            if (g.b != null && !Base.equalsStatic(g.b, f.b.am)) {\n                var h = g.b;\n                f.b.text = h != null ? h.toString() : \"\";\n            }\n        }\n        else {\n            f.b.text = e != null ? e.toString() : \"\";\n        }\n        if (this.q0 != null) {\n            f.b.content = this.q0.item(a);\n        }\n        else {\n            f.b.content = this.ch.item(a);\n        }\n        if (this.calloutSeriesSelecting != null) {\n            var i = ((function () {\n                var $ret = new CalloutSeriesSelectingEventArgs();\n                $ret.c = c;\n                $ret.d = d;\n                $ret.item = _this.ch.item(a);\n                return $ret;\n            })());\n            this.calloutSeriesSelecting(this, i);\n            if (i.a != null) {\n                f.b.series = i.a;\n            }\n            else if (i.e != null) {\n                if (b.containsKey(i.e)) {\n                    f.b.series = b.item(i.e);\n                }\n            }\n        }\n        this.tm(f);\n    };\n    CalloutLayer.prototype.tm = function (a) {\n        var b = new Thickness(0, 3);\n        if (isNaN_(this.uk.c) || isNaN_(this.uk.e) || isNaN_(this.uk.d) || isNaN_(this.uk.b)) {\n            b = new Thickness(0, 3);\n        }\n        else {\n            b = this.uk;\n        }\n        var c = this.ud != null ? this.ud : this.qp.ci(a.b.l);\n        var d = this.ug != null ? this.ug : this.qp.cl();\n        var e = this.uf != null ? this.uf : this.qp.ck();\n        var f = this.ue != null ? this.ue : this.qp.cj(a.b.l);\n        var g = isNaN_(this.ry) ? 0 : this.ry;\n        if (this.ri && this.calloutStyleUpdating != null) {\n            var h = new CalloutStyleUpdatingEventArgs();\n            h.item = a.b.z;\n            h.xValue = a.b.ab;\n            h.yValue = a.b.ac;\n            h.series = a.b.l;\n            h.background = c;\n            h.textColor = d;\n            h.outline = e;\n            h.leaderBrush = f;\n            h.strokeThickness = g;\n            this.calloutStyleUpdating(this, h);\n            c = h.background;\n            d = h.textColor;\n            e = h.outline;\n            f = h.leaderBrush;\n            g = h.strokeThickness;\n        }\n        a.b.backgroundPadding = b;\n        a.b.background = c;\n        a.b.textColor = d;\n        a.b.outline = e;\n        a.b.leaderBrush = f;\n        a.b.strokeThickness = g;\n    };\n    CalloutLayer.prototype.hk = function (a, b) {\n        var c = this.ja(b);\n        if (c == CalloutLayer.$$p[19]) {\n            return this.hl(a, b, this.sv);\n        }\n        if (c == CalloutLayer.$$p[24]) {\n            return this.hl(a, b, this.s4);\n        }\n        if (c == CalloutLayer.$$p[25]) {\n            return this.hl(a, b, this.s7);\n        }\n        if (c == CalloutLayer.$$p[18]) {\n            return this.hl(a, b, this.ss);\n        }\n        if (c == CalloutLayer.$$p[14]) {\n            return this.hl(a, b, this.sm);\n        }\n        return _super.prototype.hk.call(this, a, b);\n    };\n    Object.defineProperty(CalloutLayer.prototype, \"q2\", {\n        get: function () {\n            return this.qx;\n        },\n        set: function (a) {\n            if (this.qx != a) {\n                var b = this.qx;\n                this.qx = a;\n                this.raisePropertyChanged(\"LabelColumn\", b, this.qx);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CalloutLayer.prototype, \"q3\", {\n        get: function () {\n            return this.qy;\n        },\n        set: function (a) {\n            if (this.qy != a) {\n                var b = this.qy;\n                this.qy = a;\n                this.raisePropertyChanged(\"XColumn\", b, this.qy);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CalloutLayer.prototype, \"q4\", {\n        get: function () {\n            return this.qz;\n        },\n        set: function (a) {\n            if (this.qz != a) {\n                var b = this.qz;\n                this.qz = a;\n                this.raisePropertyChanged(\"YColumn\", b, this.qz);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CalloutLayer.prototype, \"q1\", {\n        get: function () {\n            return this.qw;\n        },\n        set: function (a) {\n            if (this.qw != a) {\n                var b = this.qw;\n                this.qw = a;\n                this.raisePropertyChanged(\"KeyColumn\", b, this.qw);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CalloutLayer.prototype, \"q0\", {\n        get: function () {\n            return this.qv;\n        },\n        set: function (a) {\n            if (this.qv != a) {\n                var b = this.qv;\n                this.qv = a;\n                this.raisePropertyChanged(\"ContentColumn\", b, this.qv);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CalloutLayer.prototype.tb = function (a, b) {\n        if (b.propertyName == CalloutAnnotation.$$p[13] || b.propertyName == CalloutAnnotation.$$p[14]) {\n            var c = a.k;\n            if (!this.rm.contains(c)) {\n                this.rm.add_1(c);\n                this.rp.add(c);\n                this.l0(false);\n            }\n        }\n    };\n    CalloutLayer.prototype.bu = function () {\n        return new CalloutLayerView(this);\n    };\n    CalloutLayer.prototype.lh = function (a) {\n        _super.prototype.lh.call(this, a);\n        this.qp = a;\n    };\n    Object.defineProperty(CalloutLayer.prototype, \"uk\", {\n        get: function () {\n            return new Thickness(1, this.ru, this.rw, this.rv, this.rt);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CalloutLayer.prototype, \"qu\", {\n        get: function () {\n            if (this.qt == null) {\n                this.qt = FontUtil.toFontInfo(this.gw, this.s0);\n            }\n            return this.qt;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CalloutLayer.prototype.p3 = function (a, b) {\n        if (this.qs == null || this.qs == a) {\n            if (!this.as.c) {\n                this.l0(b);\n            }\n        }\n    };\n    CalloutLayer.prototype.p5 = function (a, b) {\n        var e_1, _a;\n        _super.prototype.p5.call(this, a, b);\n        var c = a;\n        c.p.clear();\n        c.q.clear();\n        c.m.clear();\n        c.f.clear();\n        c.h.clear();\n        c.g.clear();\n        c.j.clear();\n        c.l.clear();\n        c.k.clear();\n        c.i.clear();\n        c.n.clear();\n        c.o.clear();\n        c.t.clear();\n        c.u.clear();\n        c.r.clear();\n        c.s.clear();\n        var d = this.rr();\n        var e = new List$1(CalloutAnnotationWrapper.$, 0);\n        if (this.rg) {\n            if (this.pq(this.qs)) {\n                this.ti(this.qs, c, e);\n            }\n            else {\n                try {\n                    for (var _b = __values(fromEnum(this.ca.series)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                        var f = _c.value;\n                        if (this.pq(f)) {\n                            this.ti(f, c, e);\n                        }\n                    }\n                }\n                catch (e_1_1) {\n                    e_1 = { error: e_1_1 };\n                }\n                finally {\n                    try {\n                        if (_c && !_c.done && (_a = _b.return))\n                            _a.call(_b);\n                    }\n                    finally {\n                        if (e_1)\n                            throw e_1.error;\n                    }\n                }\n            }\n        }\n        this.th(c, d, e);\n    };\n    CalloutLayer.prototype.mn = function (a, b) {\n        _super.prototype.mn.call(this, a, b);\n        var c = b.width - this.ui.width;\n        var d = b.height - this.ui.height;\n        var e = 0;\n        if (Math.abs(c) > Math.abs(d)) {\n            e = c;\n            this.rs = c * this.pf.width;\n        }\n        else {\n            e = d;\n            this.rs = d * this.pf.height;\n        }\n        if (e > 0 && this.rs > 5) {\n            this.rf = true;\n        }\n        if (e < 0 && this.rs > 5) {\n            this.re = true;\n        }\n    };\n    CalloutLayer.prototype.mm = function (a, b) {\n        _super.prototype.mm.call(this, a, b);\n        if (!a.equals1(b)) {\n            this.rd = true;\n        }\n    };\n    Object.defineProperty(CalloutLayer.prototype, \"uj\", {\n        get: function () {\n            return this.uh;\n        },\n        set: function (a) {\n            this.uh = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CalloutLayer.prototype.th = function (a, b, c) {\n        var e_2, _a;\n        if (this.ca != null) {\n            this.ui = this.ca.pg;\n        }\n        if (this.pf.isEmpty) {\n            return;\n        }\n        this.uj = new Rect(0, this.pf.left, this.pf.top, this.pf.width, this.pf.height);\n        if (this.q5 != null && this.sj != null && this.sj != this.q5.ak) {\n            this.td();\n        }\n        if (this.q5 == null) {\n            var d = this.q6();\n            if (d != null) {\n                this.q5 = d;\n                var e = this.q5;\n                e.labelsMoved = delegateCombine(e.labelsMoved, runOn(this, this.ta));\n            }\n            else {\n                var f = this.o7(this.bx);\n                var g = 0;\n                if (this.qs != null) {\n                    if (this.qs.isVertical) {\n                        g = 2;\n                    }\n                }\n                else {\n                    var h = false;\n                    if (this.ca != null && this.ca.series.count > 0) {\n                        h = true;\n                        try {\n                            for (var _b = __values(fromEnum(this.ca.series)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                                var i = _c.value;\n                                if (!i.c6) {\n                                    if (!i.isVertical) {\n                                        h = false;\n                                    }\n                                }\n                            }\n                        }\n                        catch (e_2_1) {\n                            e_2 = { error: e_2_1 };\n                        }\n                        finally {\n                            try {\n                                if (_c && !_c.done && (_a = _b.return))\n                                    _a.call(_b);\n                            }\n                            finally {\n                                if (e_2)\n                                    throw e_2.error;\n                            }\n                        }\n                    }\n                    if (h) {\n                        g = 2;\n                    }\n                }\n                this.q5 = new LabelCollisionManager(this.pf.right, this.pf.bottom, this.pf, this.qp.j(), this.rx, this.q7(), g, this.r4(), this.r3(), this.rh);\n                if (this.sj != null) {\n                    this.q5.ak = this.sj;\n                    this.q5.ai = this;\n                }\n                var j = this.q5;\n                j.labelsMoved = delegateCombine(j.labelsMoved, runOn(this, this.ta));\n            }\n        }\n        if (this.re) {\n            this.re = false;\n            if (this.q5.ag > 2) {\n                this.rc = true;\n            }\n        }\n        if (this.rf) {\n            this.rf = false;\n            if (this.rs > 5) {\n                this.rc = true;\n            }\n        }\n        if (this.rd) {\n            this.rd = false;\n            this.q5.ay(this.pf.right, this.pf.bottom, this.pf);\n            this.rc = true;\n        }\n        var k = new HashSet$1(CalloutAnnotationWrapper.$, 0);\n        var l = new HashSet$1(CalloutAnnotationWrapper.$, 0);\n        var m = new List$1(CalloutAnnotationWrapper.$, 0);\n        var n = new List$1(CalloutAnnotationWrapper.$, 0);\n        var o = new HashSet$1(CalloutAnnotationWrapper.$, 0);\n        for (var p = 0; p < b.count; p++) {\n            o.add_1(b._inner[p]);\n        }\n        for (var q = 0; q < c.count; q++) {\n            o.add_1(c._inner[q]);\n        }\n        var r = this.rn.c;\n        while (r != null) {\n            var s = r.a;\n            if (!o.contains(r.c)) {\n                n.add(r.c);\n                l.add_1(r.c);\n                var t = r.c.b;\n                t.propertyChanged = delegateRemove(t.propertyChanged, runOn(this, this.tb));\n                this.rn.h(r);\n                this.rk.removeItem(r.c);\n                this.q5.ax(r.c.c);\n            }\n            r = s;\n        }\n        for (var u = 0; u < b.count; u++) {\n            if (!this.rk.containsKey(b._inner[u])) {\n                this.rn.f(b._inner[u]);\n                var v = b._inner[u].b;\n                v.propertyChanged = delegateCombine(v.propertyChanged, runOn(this, this.tb));\n                this.rk.addItem(b._inner[u], this.rn.d);\n                m.add(b._inner[u]);\n                k.add_1(b._inner[u]);\n                this.rc = true;\n            }\n        }\n        for (var w = 0; w < c.count; w++) {\n            if (!this.rk.containsKey(c._inner[w])) {\n                this.rn.f(c._inner[w]);\n                this.rk.addItem(c._inner[w], this.rn.d);\n                var x = c._inner[w].b;\n                x.propertyChanged = delegateCombine(x.propertyChanged, runOn(this, this.tb));\n                m.add(c._inner[w]);\n                k.add_1(c._inner[w]);\n                this.rc = true;\n            }\n        }\n        if (this.ra == true) {\n            this.ra = false;\n            this.rc = true;\n        }\n        if (this.rp.count > 0) {\n            this.rc = true;\n            this.rp.clear();\n            this.rm.clear();\n        }\n        r = this.rn.c;\n        while (r != null) {\n            var y = this.q8(r.c);\n            if (y == null) {\n                return;\n            }\n            if (!Base.equalsStatic(y, r.c.c.c)) {\n                var z = false;\n                if (r.c.c.c == null) {\n                    z = true;\n                }\n                var aa = r.c.c;\n                aa.o = y.b;\n                aa.p = y.c;\n                if (!isNaN_(aa.o) && !isNaN_(aa.p)) {\n                    aa.n = y.e;\n                    aa.m = y.d;\n                    if (aa.b == null) {\n                        this.q5.p(aa);\n                    }\n                    if (z) {\n                        this.q5.al(aa);\n                    }\n                    else {\n                        this.q5.au(aa);\n                    }\n                }\n            }\n            r = r.a;\n        }\n        var ab = this.q5.ah();\n        var ac = this.q5.q();\n        if (this.rc && (ab != 0 || ac)) {\n            this.rc = false;\n            this.r0 = 0x7FFFFFFF;\n            if (this.sj != null) {\n                var ad = true;\n                for (var ae = 0; ae < this.ca.series.count; ae++) {\n                    var af = this.ca.series._inner[ae];\n                    if (af.c6 && typeCast(CalloutLayer.$, af) !== null) {\n                        var ag = af;\n                        if (ag.sj == this.sj) {\n                            if (!ag.uj.equals1(this.q5.a0)) {\n                                ad = false;\n                                break;\n                            }\n                        }\n                    }\n                }\n                if (ad) {\n                    this.q5.az();\n                }\n                else {\n                    this.q5.am();\n                    this.q5.an();\n                }\n            }\n            else {\n                this.q5.az();\n            }\n        }\n        else {\n            this.q5.an();\n        }\n        var ah = this.rn.c;\n        while (ah != null) {\n            var ai = ah.c;\n            a.m.add1(ai);\n            a.f.add(ai.b.bh);\n            a.h.add(ai.b.bj);\n            a.g.add(ai.b.bi);\n            a.j.add(ai.b.backgroundPadding.c);\n            a.l.add(ai.b.backgroundPadding.e);\n            a.k.add(ai.b.backgroundPadding.d);\n            a.i.add(ai.b.backgroundPadding.b);\n            a.n.add(ai.b.x);\n            a.o.add(ai.b.bk);\n            a.p.add1(ai.b.am);\n            a.q.add1(ai.b.z);\n            var aj = ai.c;\n            a.t.add(ai.c.o - (ai.c.g - ai.c.l));\n            a.u.add(ai.c.p - (ai.c.h - ai.c.k));\n            a.r.add(ai.c.g - ai.c.l);\n            a.s.add(ai.c.h - ai.c.k);\n            ah = ah.a;\n        }\n    };\n    CalloutLayer.prototype.td = function () {\n        if (this.q5 != null) {\n            var a = this.rn.c;\n            while (a != null) {\n                var b = a.c.c;\n                if (b != null) {\n                    this.q5.ax(b);\n                }\n                a = a.a;\n            }\n            var c = this.q5;\n            c.labelsMoved = delegateRemove(c.labelsMoved, runOn(this, this.ta));\n            this.q5 = null;\n        }\n        this.tc();\n    };\n    CalloutLayer.prototype.q6 = function () {\n        if (this.ca == null) {\n            return null;\n        }\n        for (var a = 0; a < this.ca.series.count; a++) {\n            var b = this.ca.series._inner[a];\n            if (b.c6 && typeCast(CalloutLayer.$, b) !== null) {\n                var c = b;\n                if (c != this) {\n                    if (c.sj != null && c.sj == this.sj) {\n                        if (c.q5 != null) {\n                            return c.q5;\n                        }\n                    }\n                }\n            }\n        }\n        return null;\n    };\n    CalloutLayer.prototype.r3 = function () {\n        return 20000;\n    };\n    CalloutLayer.prototype.r4 = function () {\n        return 300;\n    };\n    CalloutLayer.prototype.q7 = function () {\n        switch (this.qm) {\n            case 0: return 2;\n            case 2: return 1;\n            case 3: return 2;\n            case 1: return 0;\n        }\n        return 2;\n    };\n    CalloutLayer.prototype.ta = function (a) {\n        var b = this.q5.ah();\n        if (b < this.r0) {\n            this.r0 = b;\n            this.l0(false);\n        }\n    };\n    CalloutLayer.prototype.q8 = function (a) {\n        var b = this.qs;\n        if (a.b.l != null) {\n            b = a.b.l;\n        }\n        if (b == null) {\n            for (var c = 0; c < this.ca.series.count; c++) {\n                var d = this.ca.series._inner[c];\n                if (!d.c6) {\n                    b = d;\n                    break;\n                }\n            }\n        }\n        if (b == null) {\n            return null;\n        }\n        var e = b.ag();\n        var f = b.f2();\n        var g = null;\n        var h = null;\n        var i = false;\n        for (var j = 0; j < e.length; j++) {\n            if (e[j].b4) {\n                i = true;\n                g = e[j];\n            }\n            else if (e[j].cg) {\n                i = true;\n                h = e[j];\n            }\n            else if (e[j].cj) {\n                h = e[j];\n            }\n            else {\n                g = e[j];\n            }\n        }\n        if (g == null || h == null) {\n            return null;\n        }\n        if (!g.ci() || !h.ci()) {\n            return null;\n        }\n        var k = 0;\n        var l = 0;\n        if (g.b6 && g.categoryMode != 0) {\n            if (b.di) {\n                k = b.getOffsetValue();\n            }\n            else if (b.da) {\n                k = b.getOffsetValue();\n            }\n        }\n        if (h.b6 && h.categoryMode != 0) {\n            if (b.da) {\n                l = b.getOffsetValue();\n            }\n        }\n        var m = new ScalerParams(0, this.ca.pg, g.js, g.cc, g.jn());\n        m.b = f;\n        var n = new ScalerParams(0, this.ca.pg, h.js, h.cc, h.jn());\n        n.b = f;\n        var o = 0;\n        var p = 0;\n        if (i) {\n            o = g.d8(this.rz(a.b.ab), m) + k;\n            p = h.d8(this.rz(a.b.ac), n) + l;\n            var q = o;\n            var r = p;\n            var s = { $type: Point_$type, x: 0.5, y: 0.5 };\n            var t = s.x + (r * Math.cos(q));\n            o = ViewportUtils.c(t, m.e, m.d);\n            var u = s.y + (r * Math.sin(q));\n            p = ViewportUtils.f(u, n.e, n.d);\n        }\n        else {\n            o = g.d8(this.rz(a.b.ab), m) + k;\n            p = h.d8(this.rz(a.b.ac), n) + l;\n        }\n        var v = new QuadTreeBoundingBox();\n        v.b = o;\n        v.c = p;\n        v.e = 3;\n        v.d = 3;\n        v.g = a.b;\n        return v;\n    };\n    CalloutLayer.prototype.rz = function (a) {\n        if (typeCast(Date_$type, a) !== null) {\n            return a.getTime();\n        }\n        if (a == null) {\n            return 0;\n        }\n        return a;\n    };\n    CalloutLayer.prototype.rr = function () {\n        var a = new List$1(CalloutAnnotationWrapper.$, 0);\n        for (var b = 0; b < this.rq.count; b++) {\n            if (stringIsNullOrEmpty(this.rq._inner[b].b.am)) {\n                continue;\n            }\n            if (this.rq._inner[b].c == null) {\n                var c = new LabelCollisionInfo();\n                this.rq._inner[b].c = c;\n                var d = this.qp.cn(this.r5(this.rq._inner[b]), this.rq._inner[b].b.backgroundPadding);\n                c.k = d.height / 2;\n                c.l = d.width / 2;\n            }\n            var e = this.q8(this.rq._inner[b]);\n            if (e == null || e.b < this.pf.left || e.b > this.pf.right || e.c < this.pf.top || e.c > this.pf.bottom) {\n                continue;\n            }\n            a.add(this.rq._inner[b]);\n        }\n        return a;\n    };\n    CalloutLayer.prototype.r5 = function (a) {\n        return a.b.am;\n    };\n    CalloutLayer.prototype.pq = function (a) {\n        if (!_super.prototype.pq.call(this, a)) {\n            return false;\n        }\n        if (this.sx != null) {\n            if (a.dn) {\n                var b = a.i9();\n                if (!Base.equalsStatic(this.sx, b)) {\n                    return false;\n                }\n            }\n            else {\n                if (!Base.equalsStatic(this.sx, a.name)) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    };\n    CalloutLayer.prototype.la = function () {\n        _super.prototype.la.call(this);\n        if (!this.as.c && !this.cr()) {\n            return;\n        }\n        if (this.q9) {\n            this.q9 = false;\n            this.tf();\n        }\n        if (this.cr()) {\n            this.tk(this.pl, false);\n        }\n        else {\n            this.tk(this.pj, false);\n        }\n    };\n    CalloutLayer.prototype.tg = function () {\n        if (!this.rb) {\n            this.rb = true;\n            this.l0(true);\n        }\n    };\n    CalloutLayer.prototype.ti = function (a, b, c) {\n        var d = false;\n        if (this.rb) {\n            this.rb = false;\n            d = true;\n        }\n        if (a.cx(this.ro, this.rj, this.r1)) {\n            var e = this.ro;\n            var _loop_1 = function (f) {\n                var g = e._inner[f];\n                var h = g.a.item != null ? g.a.item : g.a;\n                var i = a;\n                var j = new CalloutKey(h, i);\n                var k = new CalloutAnnotationWrapper();\n                var l = new CalloutAnnotation();\n                k.b = l;\n                l.key = j;\n                var m = false;\n                if (this_1.rk.containsKey(k)) {\n                    k = this_1.rk.item(k).c;\n                    l = k.b;\n                    m = d;\n                }\n                else {\n                    m = true;\n                }\n                var n = l.ab;\n                var o = l.ac;\n                if (this_1.rz(n) != this_1.rz(g.b)) {\n                    l.xValue = g.b;\n                }\n                if (this_1.rz(o) != this_1.rz(g.c)) {\n                    l.yValue = g.c;\n                }\n                l.series = a;\n                var p = false;\n                if (g.d != l.aw) {\n                    l.aw = g.d;\n                    p = true;\n                }\n                if (m || p) {\n                    if (this_1.calloutLabelUpdating != null) {\n                        var q = ((function () {\n                            var $ret = new CalloutLabelUpdatingEventArgs();\n                            $ret.c = l.ab;\n                            $ret.d = l.ac;\n                            $ret.item = h;\n                            return $ret;\n                        })());\n                        this_1.calloutLabelUpdating(this_1, q);\n                        if (q.b != null && !Base.equalsStatic(q.b, k.b.am)) {\n                            var r = q.b;\n                            k.b.text = r != null ? r.toString() : \"\";\n                        }\n                    }\n                    else {\n                        if (g.d != null) {\n                            l.text = g.d;\n                        }\n                    }\n                }\n                if (l.am == null) {\n                    return \"continue\";\n                }\n                if (m || p) {\n                    if (this_1.calloutContentUpdating != null) {\n                        var s = ((function () {\n                            var $ret = new CalloutContentUpdatingEventArgs();\n                            $ret.c = l.ab;\n                            $ret.d = l.ac;\n                            $ret.item = h;\n                            $ret.a = h;\n                            return $ret;\n                        })());\n                        this_1.calloutContentUpdating(this_1, s);\n                        if (s.a != null && s.a != k.b.z) {\n                            k.b.content = s.a;\n                        }\n                    }\n                    else {\n                        if (h != null && h != k.b.z) {\n                            k.b.content = h;\n                        }\n                    }\n                }\n                if (m) {\n                    this_1.tm(k);\n                }\n                if (k.c == null) {\n                    var t = new LabelCollisionInfo();\n                    k.c = t;\n                    var u = this_1.qp.cn(this_1.r5(k), k.b.backgroundPadding);\n                    t.k = u.height / 2;\n                    t.l = u.width / 2;\n                }\n                var v = this_1.q8(k);\n                if (v == null || v.b < this_1.pf.left || v.b > this_1.pf.right || v.c < this_1.pf.top || v.c > this_1.pf.bottom) {\n                    return \"continue\";\n                }\n                c.add(k);\n            };\n            var this_1 = this;\n            for (var f = 0; f < this.ro.count; f++) {\n                _loop_1(f);\n            }\n        }\n    };\n    CalloutLayer.prototype.bo = function () {\n        return 1;\n    };\n    CalloutLayer.prototype.at = function (a, b) {\n        var c = this.q5.d(a, b);\n        if (c == null) {\n            return null;\n        }\n        return c.u;\n    };\n    CalloutLayer.prototype.ep = function (a, b) {\n        if (this.q5 == null) {\n            return false;\n        }\n        return this.q5.d(a, b) != null;\n    };\n    CalloutLayer.prototype.tk = function (a, b) {\n        var e_3, _a;\n        var c = 0;\n        var d = new HashSet$1(CalloutAnnotationWrapper.$, 0);\n        for (c = 0; c < a.p.count; c++) {\n            var e = a.m._inner[c];\n            if (isNaN_(a.t._inner[c]) || isNaN_(a.u._inner[c])) {\n                continue;\n            }\n            var f = this.qp.b8.item(e);\n            d.add_1(e);\n            if (f.f != a.p._inner[c]) {\n                f.f = a.p._inner[c];\n                var g = f.s();\n            }\n            f.c = a.n._inner[c];\n            f.k = a.f._inner[c];\n            f.n = a.o._inner[c];\n            f.m = f.c > 0 ? a.h._inner[c] : this.bx.bq();\n            f.l = a.g._inner[c];\n            f.v = new Thickness(1, a.j._inner[c], a.l._inner[c], a.k._inner[c], a.i._inner[c]);\n            this.qp.cg(f, Math.min(a.r._inner[c], a.r._inner[c] + a.t._inner[c]), Math.min(a.s._inner[c], a.s._inner[c] + a.u._inner[c]));\n            this.qp.ch(f, e, a.q._inner[c]);\n            f.p = { $type: Point_$type, x: a.t._inner[c], y: a.u._inner[c] };\n        }\n        var h = new List$1(CalloutAnnotationWrapper.$, 0);\n        try {\n            for (var _b = __values(fromEnum(this.qp.b8.c)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var i = _c.value;\n                if (!d.contains(i)) {\n                    h.add(i);\n                }\n            }\n        }\n        catch (e_3_1) {\n            e_3 = { error: e_3_1 };\n        }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return))\n                    _a.call(_b);\n            }\n            finally {\n                if (e_3)\n                    throw e_3.error;\n            }\n        }\n        for (var j = 0; j < h.count; j++) {\n            this.qp.b8.h(h._inner[j]);\n        }\n    };\n    CalloutLayer.prototype.p8 = function (a, b) {\n        _super.prototype.p8.call(this, a, b);\n        if (this.cr()) {\n            this.tk(this.pl, true);\n        }\n        else {\n            this.tk(this.pj, false);\n        }\n    };\n    CalloutLayer.prototype.eg = function () {\n        return true;\n    };\n    CalloutLayer.prototype.lm = function (a, b, c, d) {\n        _super.prototype.lm.call(this, a, b, c, d);\n        switch (b) {\n            case CalloutLayer.$$p[22]:\n                this.qt = null;\n                this.qp.cf();\n                this.l0(true);\n                break;\n            case CalloutLayer.$$p[20]:\n            case CalloutLayer.$$p[21]:\n                this.l0(true);\n                break;\n            case CalloutLayer.$$p[13]:\n                this.l0(true);\n                break;\n            case \"SeriesViewer\":\n                if (c != null) {\n                    var e = c;\n                    e.seriesAnimating = delegateRemove(e.seriesAnimating, runOn(this, this.tj));\n                }\n                if (d != null) {\n                    var f = d;\n                    f.seriesAnimating = delegateCombine(f.seriesAnimating, runOn(this, this.tj));\n                }\n                if (d == null) {\n                    this.td();\n                }\n                break;\n            case CalloutLayer.$$p[15]:\n            case CalloutLayer.$$p[16]:\n            case CalloutLayer.$$p[1]:\n            case CalloutLayer.$$p[5]:\n            case CalloutLayer.$$p[4]:\n            case CalloutLayer.$$p[7]:\n            case CalloutLayer.$$p[9]:\n            case CalloutLayer.$$p[8]:\n            case CalloutLayer.$$p[6]:\n            case CalloutLayer.$$p[11]:\n            case CalloutLayer.$$p[12]:\n                this.te();\n                break;\n            case CalloutLayer.$$p[19]:\n                if (this.ch != null) {\n                    this.ch.deregisterColumn(this.q2);\n                    this.q2 = this.cg(this.sv);\n                }\n                break;\n            case \"LabelColumn\":\n                this.te();\n                break;\n            case CalloutLayer.$$p[14]:\n                if (this.ch != null) {\n                    this.ch.deregisterColumn(this.q0);\n                    this.q0 = this.cg(this.sm);\n                }\n                break;\n            case \"ContentColumn\":\n                this.te();\n                break;\n            case CalloutLayer.$$p[24]:\n                if (this.ch != null) {\n                    this.ch.deregisterColumn(this.q3);\n                    this.q3 = stringIsNullOrEmpty(this.s4) == false ? this.cg(this.s4) : null;\n                }\n                break;\n            case \"XColumn\":\n                this.te();\n                break;\n            case CalloutLayer.$$p[25]:\n                if (this.ch != null) {\n                    this.ch.deregisterColumn(this.q4);\n                    this.q4 = this.cg(this.s7);\n                }\n                break;\n            case \"YColumn\":\n                this.te();\n                break;\n            case CalloutLayer.$$p[18]:\n                if (this.ch != null) {\n                    this.ch.deregisterColumn(this.q1);\n                    this.q1 = this.cg(this.ss);\n                }\n                break;\n            case \"KeyColumn\":\n                this.te();\n                break;\n            case \"FastItemsSource\":\n                this.ra = true;\n                if (typeCast(IFastItemsSource_$type, c) != null) {\n                    c.deregisterColumn(this.q2);\n                    c.deregisterColumn(this.q0);\n                    c.deregisterColumn(this.q3);\n                    c.deregisterColumn(this.q4);\n                    c.deregisterColumn(this.q1);\n                    this.q2 = null;\n                    this.q0 = null;\n                    this.q3 = null;\n                    this.q4 = null;\n                    this.q1 = null;\n                    this.rq.clear();\n                }\n                if (typeCast(IFastItemsSource_$type, d) != null) {\n                    this.q2 = this.cg(this.sv);\n                    this.q0 = this.cg(this.sm);\n                    if (stringIsNullOrEmpty(this.s4) == false) {\n                        this.q3 = this.cg(this.s4);\n                    }\n                    this.q4 = this.cg(this.s7);\n                    this.q1 = this.cg(this.ss);\n                }\n                this.te();\n                break;\n        }\n    };\n    CalloutLayer.prototype.tj = function (a) {\n        if (a.c6) {\n            return;\n        }\n        if ((a == this.qs || this.qs == null) && this.rg) {\n            this.l0(false);\n        }\n    };\n    CalloutLayer.prototype.te = function () {\n        if (this.q9 == false) {\n            this.q9 = true;\n            this.l0(false);\n        }\n    };\n    CalloutLayer.prototype.tc = function () {\n        this.qp.b8.clear();\n        this.rn.g();\n        this.rk.clear();\n    };\n    CalloutLayer.prototype.tf = function () {\n        if (this.q4 == null || this.q2 == null) {\n            var a = this.rn.c;\n            while (a != null) {\n                this.tm(a.c);\n                a = a.a;\n            }\n            return;\n        }\n        var b = this.rl();\n        for (var c = 0; c < this.q4.count; c++) {\n            var d = void 0;\n            if (this.rq.count <= c) {\n                var e = new CalloutAnnotation();\n                d = new CalloutAnnotationWrapper();\n                d.b = e;\n                d.b.series = this.qs;\n                this.rq.add(d);\n            }\n            else {\n                d = this.rq._inner[c];\n            }\n            this.tl(c, b);\n        }\n    };\n    CalloutLayer.$t = markType(CalloutLayer, 'CalloutLayer', AnnotationLayer.$);\n    CalloutLayer.$$p = markDep(DependencyProperty, PropertyMetadata, CalloutLayer, 'raisePropertyChanged', ['AutoCalloutLabelPrecision:r1:tn', [1, 5], 'CalloutBackground:ud:to', [Brush.$, null], 'CalloutCollisionMode:qm:tp', [CalloutCollisionMode_$type, enumGetBox(CalloutCollisionMode_$type, 3)], 'CalloutInterpolatedValuePrecision:r2:tq', [1, -1], 'CalloutLeaderBrush:ue:tr', [Brush.$, null], 'CalloutOutline:uf:ts', [Brush.$, null], 'CalloutPaddingBottom:rt:tt', [1, NaN], 'CalloutPaddingLeft:ru:tu', [1, NaN], 'CalloutPaddingRight:rv:tv', [1, NaN], 'CalloutPaddingTop:rw:tw', [1, NaN], 'CalloutPositionPadding:rx:tx', [1, 10], 'CalloutStrokeThickness:ry:ty', [1, NaN], 'CalloutTextColor:ug:tz', [Brush.$, null], 'CollisionChannel:sj:t0', [2, null], 'ContentMemberPath:sm:t1', [2, null], 'IsAutoCalloutBehaviorEnabled:rg:t2', [0, false], 'IsCalloutOffsettingEnabled:rh:t3', [0, true], 'IsCustomCalloutStyleEnabled:ri:t4', [0, false], 'KeyMemberPath:ss:t5', [2, null], 'LabelMemberPath:sv:t6', [2, null], 'TargetSeriesName:sx:t7', [2, null], 'TargetSeries:qs:t8', [Series.$, null], 'TextStyle:s0:t9', [2, null], 'UseValueForAutoCalloutLabels:rj:ua', [0, true], 'XMemberPath:s4:ub', [2, null], 'YMemberPath:s7:uc', [2, null]]);\n    return CalloutLayer;\n}(AnnotationLayer));\nexport { CalloutLayer };\n/**\n * @hidden\n */\nvar CalloutLayerView = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(CalloutLayerView, _super);\n    function CalloutLayerView(a) {\n        var _this = _super.call(this, a) || this;\n        _this.b4 = null;\n        _this.b9 = null;\n        _this.b8 = null;\n        _this.ca = NaN;\n        _this.b5 = null;\n        _this.b4 = a;\n        _this.b9 = new List$1(CalloutView.$, 0);\n        return _this;\n    }\n    CalloutLayerView.prototype.as = function () {\n        var _this = this;\n        _super.prototype.as.call(this);\n        this.b8 = ((function () {\n            var $ret = new HashPool$2(CalloutAnnotationWrapper.$, CalloutView.$);\n            $ret.create = runOn(_this, _this.b6);\n            $ret.activate = runOn(_this, _this.cc);\n            $ret.disactivate = runOn(_this, _this.ce);\n            $ret.destroy = runOn(_this, _this.cd);\n            return $ret;\n        })());\n    };\n    CalloutLayerView.prototype.b6 = function () {\n        var a = new CalloutView(this);\n        this.b9.add(a);\n        return a;\n    };\n    CalloutLayerView.prototype.cc = function (a) {\n        a.w = 0;\n    };\n    CalloutLayerView.prototype.ce = function (a) {\n        a.w = 1;\n    };\n    CalloutLayerView.prototype.cd = function (a) {\n        this.b9.remove(a);\n    };\n    CalloutLayerView.prototype.cm = function (a) {\n        if (a == null) {\n            return a;\n        }\n        return BrushUtil.l(a, 0.1);\n    };\n    CalloutLayerView.prototype.a6 = function (a, b) {\n        _super.prototype.a6.call(this, a, b);\n        a.ac(this.b7());\n        if (a.d && !b) {\n            for (var c = 0; c < this.b9.count; c++) {\n                var d = this.b9._inner[c];\n                if (d.w == 0) {\n                    d.h(a);\n                }\n            }\n        }\n    };\n    CalloutLayerView.prototype.b7 = function () {\n        if (this.b4.qu != null) {\n            return this.b4.qu;\n        }\n        return this.e.ca.getFontInfo();\n    };\n    CalloutLayerView.prototype.al = function (a) {\n        _super.prototype.al.call(this, a);\n        for (var b = 0; b < this.b9.count; b++) {\n            var c = this.b9._inner[b];\n            if (c.w != 0) {\n                continue;\n            }\n            c.g(this.b4, this.b7(), a);\n        }\n    };\n    CalloutLayerView.prototype.co = function (a) {\n        this.k.ac(this.b7());\n        this.ca = this.cb();\n        return new Size(1, this.k.f(a.ak), this.ca);\n    };\n    CalloutLayerView.prototype.cb = function () {\n        var a = this.b7();\n        if (isNaN_(this.ca)) {\n            var b = FontUtil.getCurrentFontHeight(this.e.ca.cf.j.ae, a);\n            this.ca = b;\n        }\n        return this.ca;\n    };\n    CalloutLayerView.prototype.cn = function (a, b) {\n        if (this.b5 == null) {\n            this.b5 = new CalloutView(this);\n        }\n        this.b5.f = a;\n        this.b5.v = b;\n        var c = this.b5.s();\n        this.b5.f = null;\n        return c;\n    };\n    CalloutLayerView.prototype.cg = function (a, b, c) {\n        a.d = b;\n        a.e = c;\n    };\n    CalloutLayerView.prototype.ch = function (a, b, c) {\n        a.i(this.e, b, c);\n    };\n    CalloutLayerView.prototype.ci = function (a) {\n        if (a != null) {\n            return this.cm(a.ok);\n        }\n        return this.e.ok;\n    };\n    CalloutLayerView.prototype.cl = function () {\n        return ((function () {\n            var $ret = new Brush();\n            $ret.color = Color.u(255, 255, 255, 255);\n            return $ret;\n        })());\n    };\n    CalloutLayerView.prototype.ck = function () {\n        return ((function () {\n            var $ret = new Brush();\n            $ret.color = Color.u(255, 255, 255, 255);\n            return $ret;\n        })());\n    };\n    CalloutLayerView.prototype.cj = function (a) {\n        if (a != null) {\n            return this.cm(a.of);\n        }\n        return this.e.of;\n    };\n    CalloutLayerView.prototype.cf = function () {\n        this.ca = NaN;\n    };\n    CalloutLayerView.$t = markType(CalloutLayerView, 'CalloutLayerView', AnnotationLayerView.$);\n    return CalloutLayerView;\n}(AnnotationLayerView));\nexport { CalloutLayerView };\n/**\n * @hidden\n */\nvar CalloutView = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(CalloutView, _super);\n    function CalloutView(a) {\n        var _this = _super.call(this) || this;\n        _this.a = null;\n        _this.w = 0;\n        _this.j = null;\n        _this.r = null;\n        _this.o = { $type: Point_$type, x: 0, y: 0 };\n        _this.q = null;\n        _this.u = new Thickness(0, 0);\n        _this.t = null;\n        _this.d = 0;\n        _this.e = 0;\n        _this.b = null;\n        _this.q = new Line();\n        _this.q.ab = false;\n        _this.q._stroke = ((function () {\n            var $ret = new Brush();\n            $ret.color = Color.u(255, 0, 0, 0);\n            return $ret;\n        })());\n        _this.q.ac = 2;\n        _this.j = new TextBlock();\n        _this.r = new Rectangle();\n        _this.r.ac = 0;\n        _this.a = a;\n        _this.w = 0;\n        return _this;\n    }\n    CalloutView.prototype.h = function (a) {\n        a.z();\n        a.af(this.d, this.e);\n        var b = new TranslateTransform();\n        b.j = this.t.c;\n        b.k = this.t.e;\n        this.r.j = b;\n        a.r(this.q);\n        a.z();\n        this.r.width = this.j.m + this.u.c + this.u.d;\n        this.r.height = this.j.l + this.u.e + this.u.b;\n        a.j(this.r.j);\n        a.v(this.r);\n        this.j.o = this.u.e;\n        this.j.n = this.u.c;\n        a.w(this.j);\n        a.y();\n        a.y();\n    };\n    Object.defineProperty(CalloutView.prototype, \"p\", {\n        get: function () {\n            return this.o;\n        },\n        set: function (a) {\n            if (this.o.x != a.x || this.o.y != a.y) {\n                var b = this.s();\n                var c = b.height;\n                var d = b.width;\n                this.o = a;\n                var e = CalloutViewHelper.b(this.p, d, c, this.q);\n                this.t = e;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CalloutView.prototype, \"n\", {\n        get: function () {\n            return this.j.am;\n        },\n        set: function (a) {\n            this.j.am = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CalloutView.prototype, \"m\", {\n        get: function () {\n            return this.r._stroke;\n        },\n        set: function (a) {\n            this.r._stroke = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CalloutView.prototype, \"l\", {\n        get: function () {\n            return this.q._stroke;\n        },\n        set: function (a) {\n            this.q._stroke = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CalloutView.prototype, \"k\", {\n        get: function () {\n            return this.r._fill;\n        },\n        set: function (a) {\n            this.r._fill = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CalloutView.prototype, \"c\", {\n        get: function () {\n            return this.r.ac;\n        },\n        set: function (a) {\n            this.r.ac = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CalloutView.prototype, \"v\", {\n        get: function () {\n            return this.u;\n        },\n        set: function (a) {\n            this.u = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CalloutView.prototype, \"f\", {\n        get: function () {\n            return this.j.ak;\n        },\n        set: function (a) {\n            if (a == null) {\n                this.j.ak = \"\";\n            }\n            else {\n                this.j.ak = a.toString();\n            }\n            var b = this.s();\n            var c = b.height;\n            var d = b.width;\n            var e = CalloutViewHelper.b(this.p, d, c, this.q);\n            this.t = e;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CalloutView.prototype.s = function () {\n        var a = this.a.co(this.j);\n        this.j.m = a.width;\n        this.j.l = a.height;\n        return new Size(1, a.width + this.u.c + this.u.d, a.height + this.u.e + this.u.b);\n    };\n    CalloutView.prototype.i = function (a, b, c) {\n        if (this.b == null) {\n            this.b = new DataContext();\n        }\n        this.b.series = a;\n        this.b.item = c;\n        if (b.c != null) {\n            b.c.u = this.b;\n        }\n    };\n    CalloutView.prototype.g = function (a, b, c) {\n        a.a6.exportCalloutData(this.d, this.e, this.t.c, this.t.e, c, this.r, this.j, b, this.q, \"callout\", [\"Main\", \"Callout\"]);\n    };\n    CalloutView.$t = markType(CalloutView, 'CalloutView');\n    return CalloutView;\n}(Base));\nexport { CalloutView };\n//# sourceMappingURL=CalloutLayer_combined.js.map\n"]},"metadata":{},"sourceType":"module"}