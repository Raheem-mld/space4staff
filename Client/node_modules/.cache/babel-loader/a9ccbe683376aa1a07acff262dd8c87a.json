{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends, __values } from \"tslib\";\nimport { Base, runOn, Boolean_$type, fromEnum, markType } from \"igniteui-react-core\";\nimport { IHighlightingManager_$type } from \"./IHighlightingManager\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { Series } from \"./Series\";\nimport { HighlightingInfoComparer } from \"./HighlightingInfoComparer\";\nimport { Dictionary$2 } from \"igniteui-react-core\";\nimport { HighlightingInfo } from \"./HighlightingInfo\";\nimport { HighlightingData } from \"./HighlightingData\";\nimport { HighlightingState } from \"./HighlightingState\";\n/**\n * @hidden\n */\n\nvar HighlightingManager =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(HighlightingManager, _super);\n\n  function HighlightingManager() {\n    var _this = _super.call(this) || this;\n\n    _this._highlightingBehavior = 0;\n    _this._executionContext = null;\n    _this._ensureAnimator = null;\n    _this.e = new Dictionary$2(HighlightingInfo.$, HighlightingInfo.$, 2, new HighlightingInfoComparer());\n    _this.i = new List$1(HighlightingInfo.$, 0);\n    _this.h = new Dictionary$2(HighlightingInfo.$, HighlightingInfo.$, 2, new HighlightingInfoComparer());\n    _this.j = new List$1(HighlightingInfo.$, 0);\n    _this.b = false;\n    _this.c = false;\n    _this.o = 0;\n    _this.n = 0;\n    _this.l = new List$1(HighlightingInfo.$, 0);\n    _this.m = 0;\n    _this._dirtySeries = null;\n    _this._allDirty = false;\n    _this.f = new Dictionary$2(Series.$, Boolean_$type, 0);\n    _this.g = new Dictionary$2(Series.$, HighlightingData.$, 0);\n    _this.k = new List$1(Series.$, 0);\n    _this._inProgress = false;\n    _this._maxHighlightingProgress = 0;\n    _this._sumHighlightingProgress = 0;\n    _this._maxMarkerHighlightingProgress = 0;\n    _this._sumMarkerHighlightingProgress = 0;\n    _this._totalHighlightingProgress = 0;\n    _this.highlightingBehavior = 1;\n    _this.dirtySeries = new List$1(Series.$, 0);\n    _this.n = 200;\n    return _this;\n  }\n\n  Object.defineProperty(HighlightingManager.prototype, \"highlightingBehavior\", {\n    get: function () {\n      return this._highlightingBehavior;\n    },\n    set: function (a) {\n      this._highlightingBehavior = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HighlightingManager.prototype, \"d\", {\n    get: function () {\n      return this.highlightingBehavior == 1;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HighlightingManager.prototype, \"executionContext\", {\n    get: function () {\n      return this._executionContext;\n    },\n    set: function (a) {\n      this._executionContext = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HighlightingManager.prototype, \"ensureAnimator\", {\n    get: function () {\n      return this._ensureAnimator;\n    },\n    set: function (a) {\n      this._ensureAnimator = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  HighlightingManager.prototype.startHighlight = function (a) {\n    if (a == null) {\n      return;\n    }\n\n    this.a(a);\n    this.inProgress = true;\n\n    if (!this.e.containsKey(a)) {\n      a.a = HighlightingState.inward;\n      this.e.item(a, a);\n      this.i.add(a);\n    } else {\n      a = this.e.item(a);\n    }\n\n    if (a.a == HighlightingState.outward) {\n      a.a = HighlightingState.inward;\n    }\n  };\n\n  HighlightingManager.prototype.a = function (a) {\n    var b = null;\n\n    if (this.h.containsKey(a)) {\n      a = this.h.item(a);\n      this.h.removeItem(a);\n      this.j.remove(a);\n      b = a;\n    }\n\n    var c = this.l;\n\n    for (var d = 0; d < this.j.count; d++) {\n      var e = this.j._inner[d];\n\n      if (e.d && a.d && a.b == e.b) {\n        if (b == null) {\n          this.h.removeItem(e);\n          this.j.remove(e);\n          var f = this.e.item(e);\n          this.e.removeItem(f);\n          this.i.remove(f);\n          f.h = a.h;\n          f.g = a.g;\n          f.c = a.c;\n          this.e.item(f, f);\n          this.i.add(f);\n          b = f;\n        } else {\n          c.add(e);\n        }\n      }\n\n      if (this.d && e.b != a.b) {\n        c.add(e);\n      }\n\n      if (e.b == a.b && e.e == a.e && !e.d && (e.h != a.h || e.g != a.g)) {\n        c.add(e);\n      }\n    }\n\n    for (var g = 0; g < c.count; g++) {\n      this.j.remove(c._inner[g]);\n      this.h.removeItem(c._inner[g]);\n      this.q(c._inner[g]);\n    }\n\n    c.clear();\n\n    if (b != null) {\n      return b;\n    }\n\n    return a;\n  };\n\n  HighlightingManager.prototype.endHighlight = function (a) {\n    if (a == null) {\n      return;\n    }\n\n    if (!this.e.containsKey(a)) {\n      return;\n    } else {\n      a = this.e.item(a);\n    }\n\n    this.r(a);\n  };\n\n  HighlightingManager.prototype.r = function (a) {\n    if (this.h.containsKey(a)) {\n      var b = this.h.item(a);\n    } else {\n      this.h.addItem(a, a);\n      this.j.add(a);\n      a.i = this.executionContext.getCurrentRelativeTime();\n    }\n\n    this.b = true;\n\n    if (!this.c) {\n      this.c = true;\n      this.executionContext.executeDelayed(runOn(this, this.p), this.n);\n    }\n  };\n\n  HighlightingManager.prototype.p = function () {\n    this.c = false;\n\n    if (!this.b) {\n      return;\n    }\n\n    var a = this.l;\n    var b = 0;\n    var c = this.executionContext.getCurrentRelativeTime();\n\n    for (var d = 0; d < this.j.count; d++) {\n      var e = this.j._inner[d];\n\n      if (c - e.i >= this.n) {\n        a.add(e);\n      } else {\n        b = Math.max(b, this.n - (c - e.i));\n      }\n    }\n\n    for (var f = 0; f < a.count; f++) {\n      this.j.remove(a._inner[f]);\n      this.h.removeItem(a._inner[f]);\n      this.q(a._inner[f]);\n    }\n\n    if (a.count > 0) {\n      if (this.ensureAnimator != null) {\n        this.ensureAnimator();\n      }\n    }\n\n    a.clear();\n\n    if (b > 0) {\n      this.b = true;\n      this.c = true;\n      this.executionContext.executeDelayed(runOn(this, this.p), b);\n    }\n  };\n\n  HighlightingManager.prototype.q = function (a) {\n    if (a.a == HighlightingState.inward) {\n      a.a = HighlightingState.outward;\n    }\n\n    if (a.a == 2) {\n      a.a = HighlightingState.outward;\n      a.f = 1;\n    }\n  };\n\n  HighlightingManager.prototype.clear = function () {\n    this.j.clear();\n    this.h.clear();\n    this.b = false;\n    this.i.clear();\n    this.e.clear();\n    this.maxHighlightingProgress = 0;\n    this.sumHighlightingProgress = 0;\n    this.maxMarkerHighlightingProgress = 0;\n    this.sumMarkerHighlightingProgress = 0;\n    this.totalHighlightingProgress = 0;\n  };\n\n  HighlightingManager.prototype.getHighlightingInfo = function (a, b, c, d, e) {\n    for (var f = 0; f < this.i.count; f++) {\n      var g = this.i._inner[f];\n      var h = g.h;\n      var i = g.g;\n\n      if ((c >= h && d <= i || g.d) && g.e == e && a == g.b && (g.a == HighlightingState.inward || g.a == 2)) {\n        return g;\n      }\n    }\n\n    for (var j = 0; j < this.i.count; j++) {\n      var k = this.i._inner[j];\n      var l = k.h;\n      var m = k.g;\n\n      if ((c >= l && d <= m || k.d) && k.e == e && a == k.b && k.a == HighlightingState.outward) {\n        return k;\n      }\n    }\n\n    return null;\n  };\n\n  Object.defineProperty(HighlightingManager.prototype, \"dirtySeries\", {\n    get: function () {\n      return this._dirtySeries;\n    },\n    set: function (a) {\n      this._dirtySeries = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HighlightingManager.prototype, \"allDirty\", {\n    get: function () {\n      return this._allDirty;\n    },\n    set: function (a) {\n      this._allDirty = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  HighlightingManager.prototype.tick = function (a) {\n    var e_1, _a;\n\n    this.f.clear();\n    this.dirtySeries.clear();\n    this.g.clear();\n    this.allDirty = false;\n    var b = 0;\n\n    if (this.m > a) {\n      b = 1 - this.m + a;\n    } else {\n      b = a - this.m;\n    }\n\n    this.m = a;\n    var c = false;\n    var d = new List$1(HighlightingInfo.$, 0);\n    this.maxHighlightingProgress = 0;\n    this.sumHighlightingProgress = 0;\n    this.maxMarkerHighlightingProgress = 0;\n    this.sumMarkerHighlightingProgress = 0;\n    this.totalHighlightingProgress = 0;\n    var e = false;\n    var f = false;\n    var g = false;\n    var h = 0;\n    var i = 0;\n    var j = 0;\n    var k = 0;\n    var l = 0;\n    var m = 0;\n\n    for (var n = 0; n < this.i.count; n++) {\n      var o = this.i._inner[n];\n\n      if (o.a == HighlightingState.inward) {\n        if (o.e) {\n          e = true;\n          j = j + Math.min(1 - o.f, b);\n        } else {\n          if (!this.d && !o.d) {\n            g = true;\n            l = l + Math.min(1 - o.f, b);\n          } else {\n            f = true;\n            h = h + Math.min(1 - o.f, b);\n          }\n        }\n      }\n\n      if (o.a == HighlightingState.outward) {\n        if (o.e) {\n          k = k + Math.min(o.f, b);\n        } else {\n          if (!this.d && !o.d) {\n            m = m + Math.min(o.f, b);\n          } else {\n            i = i + Math.min(o.f, b);\n          }\n        }\n      }\n    }\n\n    var p = 1;\n    var q = 1;\n    var r = 1;\n\n    if (f && i > h) {\n      var s = i - h;\n      p = h / i;\n    }\n\n    if (e && k > j) {\n      var t = k - j;\n      q = j / k;\n    }\n\n    if (g && m > l) {\n      var u = m - l;\n      r = l / m;\n    } else {\n      r = p;\n    }\n\n    var v;\n\n    for (var w = 0; w < this.i.count; w++) {\n      var x = this.i._inner[w];\n      v = b;\n\n      if (x.a == HighlightingState.outward) {\n        v = Math.min(v, x.f);\n\n        if (x.e) {\n          v = v * q;\n        } else {\n          if (x.d) {\n            v = v * p;\n          } else {\n            v = v * r;\n          }\n        }\n\n        x.f = x.f - v;\n      } else {\n        x.f = x.f + v;\n      }\n\n      if (x.a == 2) {\n        x.f = 1;\n      }\n\n      if (x.f > 1) {\n        x.f = 1;\n      }\n\n      if (x.f < 0) {\n        x.f = 0;\n      }\n\n      if (x.e) {\n        this.maxMarkerHighlightingProgress = Math.max(x.f, this.maxMarkerHighlightingProgress);\n        this.sumMarkerHighlightingProgress = this.sumMarkerHighlightingProgress + x.f;\n      } else {\n        this.maxHighlightingProgress = Math.max(x.f, this.maxHighlightingProgress);\n        this.sumHighlightingProgress = this.sumHighlightingProgress + x.f;\n      }\n\n      if (x.a != HighlightingState.outward && x.f != 1) {\n        c = true;\n      }\n\n      if (x.a == HighlightingState.outward && x.f != 0) {\n        c = true;\n      }\n\n      if (x.f == 1 && x.a == HighlightingState.inward) {\n        x.a = 2;\n      }\n\n      if (x.f == 0 && x.a == HighlightingState.outward) {\n        d.add(x);\n      }\n\n      if (this.isCrossSeriesHighlight(x.b)) {\n        this.allDirty = true;\n      } else {\n        if (!this.f.containsKey(x.b)) {\n          this.f.addItem(x.b, true);\n          this.dirtySeries.add(x.b);\n        }\n      }\n    }\n\n    try {\n      for (var _b = __values(fromEnum(d)), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var y = _c.value;\n        this.e.removeItem(y);\n        this.i.remove(y);\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n\n    if (this.e.count == 0) {\n      this.inProgress = false;\n      this.maxHighlightingProgress = 0;\n      this.sumHighlightingProgress = 0;\n      this.maxMarkerHighlightingProgress = 0;\n      this.sumMarkerHighlightingProgress = 0;\n      this.totalHighlightingProgress = 0;\n    }\n\n    this.k.clear();\n\n    for (var z = 0; z < this.i.count; z++) {\n      var aa = this.i._inner[z];\n      var ab = null;\n\n      if (this.g.containsKey(aa.b)) {\n        ab = this.g.item(aa.b);\n      } else {\n        ab = new HighlightingData();\n        ab.b = 0;\n        ab.e = 0;\n        ab.a = aa.b;\n        ab.c = 0;\n        ab.d = 0;\n        this.g.addItem(aa.b, ab);\n        this.k.add(aa.b);\n      }\n\n      if (aa.e) {\n        ab.c += aa.f;\n      } else {\n        if (aa.d) {\n          if (aa.c) {\n            ab.d += aa.f;\n          } else {\n            ab.e += aa.f;\n          }\n        } else {\n          ab.b += aa.f;\n        }\n      }\n    }\n\n    if (this.d) {\n      this.totalHighlightingProgress = Math.max(this.sumHighlightingProgress, this.sumMarkerHighlightingProgress);\n    } else {\n      var ac = 0;\n      var ad = 0;\n      var ae = 0;\n      var af = 0;\n      var ag = 0;\n      var ah = 0;\n      var ai = 0;\n\n      for (var aj = 0; aj < this.k.count; aj++) {\n        var ak = this.g.item(this.k._inner[aj]);\n\n        if (ak.b > 0) {\n          ah++;\n        }\n\n        if (ak.c > 0) {\n          ai++;\n        }\n\n        if (ak.e > 0) {\n          ae++;\n        }\n\n        ac += ak.b;\n        ad += ak.e;\n        ag += ak.d;\n        af += ak.c;\n      }\n\n      if (ah > 0) {\n        ac = ac / ah;\n      }\n\n      if (ai > 0) {\n        af = af / ai;\n      }\n\n      if (this.highlightingBehavior == 3) {\n        if (ae > 0) {\n          ad = ad / ae;\n        }\n      }\n\n      this.totalHighlightingProgress = Math.max(ag, Math.max(ac, Math.max(ad, af)));\n    }\n\n    if (!c) {\n      this.m = 0;\n    }\n\n    return c;\n  };\n\n  HighlightingManager.prototype.isCrossSeriesHighlight = function (a) {\n    if (a.bj == 5 || a.bj == 4) {\n      return true;\n    }\n\n    return false;\n  };\n\n  Object.defineProperty(HighlightingManager.prototype, \"inProgress\", {\n    get: function () {\n      return this._inProgress;\n    },\n    set: function (a) {\n      this._inProgress = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HighlightingManager.prototype, \"maxHighlightingProgress\", {\n    get: function () {\n      return this._maxHighlightingProgress;\n    },\n    set: function (a) {\n      this._maxHighlightingProgress = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HighlightingManager.prototype, \"sumHighlightingProgress\", {\n    get: function () {\n      return this._sumHighlightingProgress;\n    },\n    set: function (a) {\n      this._sumHighlightingProgress = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HighlightingManager.prototype, \"maxMarkerHighlightingProgress\", {\n    get: function () {\n      return this._maxMarkerHighlightingProgress;\n    },\n    set: function (a) {\n      this._maxMarkerHighlightingProgress = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HighlightingManager.prototype, \"sumMarkerHighlightingProgress\", {\n    get: function () {\n      return this._sumMarkerHighlightingProgress;\n    },\n    set: function (a) {\n      this._sumMarkerHighlightingProgress = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HighlightingManager.prototype, \"totalHighlightingProgress\", {\n    get: function () {\n      return this._totalHighlightingProgress;\n    },\n    set: function (a) {\n      this._totalHighlightingProgress = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  HighlightingManager.$t = markType(HighlightingManager, 'HighlightingManager', Base.$, [IHighlightingManager_$type]);\n  return HighlightingManager;\n}(Base);\n\nexport { HighlightingManager };","map":{"version":3,"sources":["../../../../src/igniteui-charts/lib/HighlightingManager.ts"],"names":[],"mappings":"AAAA;;;;;AAKE;;AAEF,SAAS,IAAT,EAAmH,KAAnH,EAA0H,aAA1H,EAAyI,QAAzI,EAAyJ,QAAzJ,QAAyK,qBAAzK;AACA,SAA+B,0BAA/B,QAAiE,wBAAjE;AAGA,SAAS,MAAT,QAAuB,qBAAvB;AACA,SAAS,MAAT,QAAuB,UAAvB;AACA,SAAS,wBAAT,QAAyC,4BAAzC;AACA,SAAS,YAAT,QAA6B,qBAA7B;AACA,SAAS,gBAAT,QAAiC,oBAAjC;AACA,SAAS,gBAAT,QAAiC,oBAAjC;AAEA,SAAS,iBAAT,QAAkC,qBAAlC;AAGA;;AAEG;;AACH,IAAA,mBAAA;AAAA;;AAAA;AAAA,UAAA,MAAA,EAAA;AAAyC,EAAA,SAAA,CAAA,mBAAA,EAAA,MAAA,CAAA;;AAExC,WAAA,mBAAA,GAAA;AAAA,QAAA,KAAA,GACC,MAAA,CAAA,IAAA,CAAA,IAAA,KAAO,IADR;;AAMQ,IAAA,KAAA,CAAA,qBAAA,GAAgF,CAAhF;AAUA,IAAA,KAAA,CAAA,iBAAA,GAAuC,IAAvC;AAOA,IAAA,KAAA,CAAA,eAAA,GAA8B,IAA9B;AAOA,IAAA,KAAA,CAAA,CAAA,GAAsD,IAAI,YAAJ,CAA2D,gBAAiB,CAAC,CAA7E,EAAsF,gBAAiB,CAAC,CAAxG,EAA2G,CAA3G,EAA8G,IAAI,wBAAJ,EAA9G,CAAtD;AACA,IAAA,KAAA,CAAA,CAAA,GAA8B,IAAI,MAAJ,CAAmC,gBAAiB,CAAC,CAArD,EAAwD,CAAxD,CAA9B;AA2EA,IAAA,KAAA,CAAA,CAAA,GAAsD,IAAI,YAAJ,CAA2D,gBAAiB,CAAC,CAA7E,EAAsF,gBAAiB,CAAC,CAAxG,EAA2G,CAA3G,EAA8G,IAAI,wBAAJ,EAA9G,CAAtD;AACA,IAAA,KAAA,CAAA,CAAA,GAA8B,IAAI,MAAJ,CAAmC,gBAAiB,CAAC,CAArD,EAAwD,CAAxD,CAA9B;AACA,IAAA,KAAA,CAAA,CAAA,GAAa,KAAb;AACA,IAAA,KAAA,CAAA,CAAA,GAAa,KAAb;AACA,IAAA,KAAA,CAAA,CAAA,GAAY,CAAZ;AACR,IAAA,KAAA,CAAA,CAAA,GAAY,CAAZ;AAeQ,IAAA,KAAA,CAAA,CAAA,GAA8B,IAAI,MAAJ,CAAmC,gBAAiB,CAAC,CAArD,EAAwD,CAAxD,CAA9B;AA0EA,IAAA,KAAA,CAAA,CAAA,GAAY,CAAZ;AACA,IAAA,KAAA,CAAA,YAAA,GAA+B,IAA/B;AAOA,IAAA,KAAA,CAAA,SAAA,GAAqB,KAArB;AAOA,IAAA,KAAA,CAAA,CAAA,GAAmC,IAAI,YAAJ,CAAwC,MAAO,CAAC,CAAhD,EAAmD,aAAnD,EAAkE,CAAlE,CAAnC;AACA,IAAA,KAAA,CAAA,CAAA,GAA4C,IAAI,YAAJ,CAAiD,MAAO,CAAC,CAAzD,EAAkE,gBAAiB,CAAC,CAApF,EAAuF,CAAvF,CAA5C;AACA,IAAA,KAAA,CAAA,CAAA,GAAoB,IAAI,MAAJ,CAAyB,MAAO,CAAC,CAAjC,EAAoC,CAApC,CAApB;AA8NA,IAAA,KAAA,CAAA,WAAA,GAAuB,KAAvB;AAOA,IAAA,KAAA,CAAA,wBAAA,GAAmC,CAAnC;AAOA,IAAA,KAAA,CAAA,wBAAA,GAAmC,CAAnC;AAOA,IAAA,KAAA,CAAA,8BAAA,GAAyC,CAAzC;AAOA,IAAA,KAAA,CAAA,8BAAA,GAAyC,CAAzC;AAOA,IAAA,KAAA,CAAA,0BAAA,GAAqC,CAArC;AAxdP,IAAA,KAAI,CAAC,oBAAL,GAA4B,CAA5B;AACA,IAAA,KAAI,CAAC,WAAL,GAAmB,IAAI,MAAJ,CAAyB,MAAO,CAAC,CAAjC,EAAoC,CAApC,CAAnB;AACA,IAAA,KAAI,CAAC,CAAL,GAAS,GAAT;;AACA;;AAED,EAAA,MAAA,CAAA,cAAA,CAAI,mBAAA,CAAA,SAAJ,EAAI,sBAAJ,EAAwB;SAAxB,YAAA;AACC,aAAO,KAAK,qBAAZ;AACA,KAFuB;SAGxB,UAAyB,CAAzB,EAAsD;AACrD,WAAK,qBAAL,GAA6B,CAA7B;AACA,KALuB;qBAAA;;AAAA,GAAxB;AAMA,EAAA,MAAA,CAAA,cAAA,CAAY,mBAAA,CAAA,SAAZ,EAAY,GAAZ,EAAa;SAAb,YAAA;AACC,aAAO,KAAK,oBAAL,IAA6B,CAApC;AACA,KAFY;qBAAA;;AAAA,GAAb;AAIA,EAAA,MAAA,CAAA,cAAA,CAAI,mBAAA,CAAA,SAAJ,EAAI,kBAAJ,EAAoB;SAApB,YAAA;AACC,aAAO,KAAK,iBAAZ;AACA,KAFmB;SAGpB,UAAqB,CAArB,EAAyC;AACxC,WAAK,iBAAL,GAAyB,CAAzB;AACA,KALmB;qBAAA;;AAAA,GAApB;AAOA,EAAA,MAAA,CAAA,cAAA,CAAI,mBAAA,CAAA,SAAJ,EAAI,gBAAJ,EAAkB;SAAlB,YAAA;AACC,aAAO,KAAK,eAAZ;AACA,KAFiB;SAGlB,UAAmB,CAAnB,EAAgC;AAC/B,WAAK,eAAL,GAAuB,CAAvB;AACA,KALiB;qBAAA;;AAAA,GAAlB;;AAQA,EAAA,mBAAA,CAAA,SAAA,CAAA,cAAA,GAAA,UAAe,CAAf,EAAkC;AACjC,QAAI,CAAC,IAAI,IAAT,EAAe;AACd;AACA;;AACD,SAAK,CAAL,CAAO,CAAP;AACA,SAAK,UAAL,GAAkB,IAAlB;;AACA,QAAI,CAAC,KAAK,CAAL,CAAO,WAAP,CAAmB,CAAnB,CAAL,EAA4B;AAC3B,MAAA,CAAC,CAAC,CAAF,GAAM,iBAAiB,CAAC,MAAxB;AACA,WAAK,CAAL,CAAO,IAAP,CAAY,CAAZ,EAAe,CAAf;AACA,WAAK,CAAL,CAAO,GAAP,CAAW,CAAX;AACA,KAJD,MAIO;AACN,MAAA,CAAC,GAAG,KAAK,CAAL,CAAO,IAAP,CAAY,CAAZ,CAAJ;AACA;;AACD,QAAI,CAAC,CAAC,CAAF,IAAO,iBAAiB,CAAC,OAA7B,EAAsC;AACrC,MAAA,CAAC,CAAC,CAAF,GAAM,iBAAiB,CAAC,MAAxB;AACA;AACD,GAhBD;;AAiBQ,EAAA,mBAAA,CAAA,SAAA,CAAA,CAAA,GAAR,UAAU,CAAV,EAA6B;AAC5B,QAAI,CAAC,GAAqB,IAA1B;;AACA,QAAI,KAAK,CAAL,CAAO,WAAP,CAAmB,CAAnB,CAAJ,EAA2B;AAC1B,MAAA,CAAC,GAAG,KAAK,CAAL,CAAO,IAAP,CAAY,CAAZ,CAAJ;AACA,WAAK,CAAL,CAAO,UAAP,CAAkB,CAAlB;AACA,WAAK,CAAL,CAAO,MAAP,CAAc,CAAd;AACA,MAAA,CAAC,GAAG,CAAJ;AACA;;AACD,QAAI,CAAC,GAAG,KAAK,CAAb;;AACA,SAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,KAAK,CAAL,CAAO,KAA3B,EAAkC,CAAC,EAAnC,EAAuC;AACtC,UAAI,CAAC,GAAG,KAAK,CAAL,CAAO,MAAP,CAAc,CAAd,CAAR;;AACA,UAAI,CAAC,CAAC,CAAF,IAAO,CAAC,CAAC,CAAT,IAAc,CAAC,CAAC,CAAF,IAAO,CAAC,CAAC,CAA3B,EAA8B;AAC7B,YAAI,CAAC,IAAI,IAAT,EAAe;AACd,eAAK,CAAL,CAAO,UAAP,CAAkB,CAAlB;AACA,eAAK,CAAL,CAAO,MAAP,CAAc,CAAd;AACA,cAAI,CAAC,GAAG,KAAK,CAAL,CAAO,IAAP,CAAY,CAAZ,CAAR;AACA,eAAK,CAAL,CAAO,UAAP,CAAkB,CAAlB;AACA,eAAK,CAAL,CAAO,MAAP,CAAc,CAAd;AACA,UAAA,CAAC,CAAC,CAAF,GAAM,CAAC,CAAC,CAAR;AACA,UAAA,CAAC,CAAC,CAAF,GAAM,CAAC,CAAC,CAAR;AACA,UAAA,CAAC,CAAC,CAAF,GAAM,CAAC,CAAC,CAAR;AACA,eAAK,CAAL,CAAO,IAAP,CAAY,CAAZ,EAAe,CAAf;AACA,eAAK,CAAL,CAAO,GAAP,CAAW,CAAX;AACA,UAAA,CAAC,GAAG,CAAJ;AACA,SAZD,MAYO;AACN,UAAA,CAAC,CAAC,GAAF,CAAM,CAAN;AACA;AACD;;AACD,UAAI,KAAK,CAAL,IAAU,CAAC,CAAC,CAAF,IAAO,CAAC,CAAC,CAAvB,EAA0B;AACzB,QAAA,CAAC,CAAC,GAAF,CAAM,CAAN;AACA;;AACD,UAAI,CAAC,CAAC,CAAF,IAAO,CAAC,CAAC,CAAT,IAAc,CAAC,CAAC,CAAF,IAAO,CAAC,CAAC,CAAvB,IAA4B,CAAC,CAAC,CAAC,CAA/B,KAAqC,CAAC,CAAC,CAAF,IAAO,CAAC,CAAC,CAAT,IAAc,CAAC,CAAC,CAAF,IAAO,CAAC,CAAC,CAA5D,CAAJ,EAAoE;AACnE,QAAA,CAAC,CAAC,GAAF,CAAM,CAAN;AACA;AACD;;AACD,SAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,CAAC,CAAC,KAAtB,EAA6B,CAAC,EAA9B,EAAkC;AACjC,WAAK,CAAL,CAAO,MAAP,CAAc,CAAC,CAAC,MAAF,CAAS,CAAT,CAAd;AACA,WAAK,CAAL,CAAO,UAAP,CAAkB,CAAC,CAAC,MAAF,CAAS,CAAT,CAAlB;AACA,WAAK,CAAL,CAAO,CAAC,CAAC,MAAF,CAAS,CAAT,CAAP;AACA;;AACD,IAAA,CAAC,CAAC,KAAF;;AACA,QAAI,CAAC,IAAI,IAAT,EAAe;AACd,aAAO,CAAP;AACA;;AACD,WAAO,CAAP;AACA,GA7CO;;AA8CR,EAAA,mBAAA,CAAA,SAAA,CAAA,YAAA,GAAA,UAAa,CAAb,EAAgC;AAC/B,QAAI,CAAC,IAAI,IAAT,EAAe;AACd;AACA;;AACD,QAAI,CAAC,KAAK,CAAL,CAAO,WAAP,CAAmB,CAAnB,CAAL,EAA4B;AAC3B;AACA,KAFD,MAEO;AACN,MAAA,CAAC,GAAG,KAAK,CAAL,CAAO,IAAP,CAAY,CAAZ,CAAJ;AACA;;AACD,SAAK,CAAL,CAAO,CAAP;AACA,GAVD;;AAiBQ,EAAA,mBAAA,CAAA,SAAA,CAAA,CAAA,GAAR,UAAU,CAAV,EAA6B;AAC5B,QAAI,KAAK,CAAL,CAAO,WAAP,CAAmB,CAAnB,CAAJ,EAA2B;AAC1B,UAAI,CAAC,GAAG,KAAK,CAAL,CAAO,IAAP,CAAY,CAAZ,CAAR;AACA,KAFD,MAEO;AACN,WAAK,CAAL,CAAO,OAAP,CAAe,CAAf,EAAkB,CAAlB;AACA,WAAK,CAAL,CAAO,GAAP,CAAW,CAAX;AACA,MAAA,CAAC,CAAC,CAAF,GAAM,KAAK,gBAAL,CAAsB,sBAAtB,EAAN;AACA;;AACD,SAAK,CAAL,GAAS,IAAT;;AACA,QAAI,CAAC,KAAK,CAAV,EAAa;AACZ,WAAK,CAAL,GAAS,IAAT;AACA,WAAK,gBAAL,CAAsB,cAAtB,CAAqC,KAAK,CAAC,IAAD,EAAO,KAAK,CAAZ,CAA1C,EAA0D,KAAK,CAA/D;AACA;AACD,GAbO;;AAeA,EAAA,mBAAA,CAAA,SAAA,CAAA,CAAA,GAAR,YAAA;AACC,SAAK,CAAL,GAAS,KAAT;;AACA,QAAI,CAAC,KAAK,CAAV,EAAa;AACZ;AACA;;AACD,QAAI,CAAC,GAAG,KAAK,CAAb;AACA,QAAI,CAAC,GAAW,CAAhB;AACA,QAAI,CAAC,GAAG,KAAK,gBAAL,CAAsB,sBAAtB,EAAR;;AACA,SAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,KAAK,CAAL,CAAO,KAA3B,EAAkC,CAAC,EAAnC,EAAuC;AACtC,UAAI,CAAC,GAAG,KAAK,CAAL,CAAO,MAAP,CAAc,CAAd,CAAR;;AACA,UAAI,CAAC,GAAG,CAAC,CAAC,CAAN,IAAW,KAAK,CAApB,EAAuB;AACtB,QAAA,CAAC,CAAC,GAAF,CAAM,CAAN;AACA,OAFD,MAEO;AACN,QAAA,CAAC,GAAG,IAAI,CAAC,GAAL,CAAS,CAAT,EAAY,KAAK,CAAL,IAAU,CAAC,GAAG,CAAC,CAAC,CAAhB,CAAZ,CAAJ;AACA;AACD;;AACD,SAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,CAAC,CAAC,KAAtB,EAA6B,CAAC,EAA9B,EAAkC;AACjC,WAAK,CAAL,CAAO,MAAP,CAAc,CAAC,CAAC,MAAF,CAAS,CAAT,CAAd;AACA,WAAK,CAAL,CAAO,UAAP,CAAkB,CAAC,CAAC,MAAF,CAAS,CAAT,CAAlB;AACA,WAAK,CAAL,CAAO,CAAC,CAAC,MAAF,CAAS,CAAT,CAAP;AACA;;AACD,QAAI,CAAC,CAAC,KAAF,GAAU,CAAd,EAAiB;AAChB,UAAI,KAAK,cAAL,IAAuB,IAA3B,EAAiC;AAChC,aAAK,cAAL;AACA;AACD;;AACD,IAAA,CAAC,CAAC,KAAF;;AACA,QAAI,CAAC,GAAG,CAAR,EAAW;AACV,WAAK,CAAL,GAAS,IAAT;AACA,WAAK,CAAL,GAAS,IAAT;AACA,WAAK,gBAAL,CAAsB,cAAtB,CAAqC,KAAK,CAAC,IAAD,EAAO,KAAK,CAAZ,CAA1C,EAAkE,CAAlE;AACA;AACD,GAhCO;;AAiCA,EAAA,mBAAA,CAAA,SAAA,CAAA,CAAA,GAAR,UAAU,CAAV,EAA6B;AAC5B,QAAI,CAAC,CAAC,CAAF,IAAO,iBAAiB,CAAC,MAA7B,EAAqC;AACpC,MAAA,CAAC,CAAC,CAAF,GAAM,iBAAiB,CAAC,OAAxB;AACA;;AACD,QAAI,CAAC,CAAC,CAAF,IAAO,CAAX,EAAc;AACb,MAAA,CAAC,CAAC,CAAF,GAAM,iBAAiB,CAAC,OAAxB;AACA,MAAA,CAAC,CAAC,CAAF,GAAM,CAAN;AACA;AACD,GARO;;AASR,EAAA,mBAAA,CAAA,SAAA,CAAA,KAAA,GAAA,YAAA;AACC,SAAK,CAAL,CAAO,KAAP;AACA,SAAK,CAAL,CAAO,KAAP;AACA,SAAK,CAAL,GAAS,KAAT;AACA,SAAK,CAAL,CAAO,KAAP;AACA,SAAK,CAAL,CAAO,KAAP;AACA,SAAK,uBAAL,GAA+B,CAA/B;AACA,SAAK,uBAAL,GAA+B,CAA/B;AACA,SAAK,6BAAL,GAAqC,CAArC;AACA,SAAK,6BAAL,GAAqC,CAArC;AACA,SAAK,yBAAL,GAAiC,CAAjC;AACA,GAXD;;AAYA,EAAA,mBAAA,CAAA,SAAA,CAAA,mBAAA,GAAA,UAAoB,CAApB,EAA+B,CAA/B,EAAoD,CAApD,EAA+D,CAA/D,EAA0E,CAA1E,EAAoF;AACnF,SAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,KAAK,CAAL,CAAO,KAA3B,EAAkC,CAAC,EAAnC,EAAuC;AACtC,UAAI,CAAC,GAAG,KAAK,CAAL,CAAO,MAAP,CAAc,CAAd,CAAR;AACA,UAAI,CAAC,GAAG,CAAC,CAAC,CAAV;AACA,UAAI,CAAC,GAAG,CAAC,CAAC,CAAV;;AACA,UAAI,CAAE,CAAC,IAAI,CAAL,IAAU,CAAC,IAAI,CAAhB,IAAsB,CAAC,CAAC,CAAzB,KAA+B,CAAC,CAAC,CAAF,IAAO,CAAtC,IAA2C,CAAC,IAAI,CAAC,CAAC,CAAlD,KAAwD,CAAC,CAAC,CAAF,IAAO,iBAAiB,CAAC,MAAzB,IAAmC,CAAC,CAAC,CAAF,IAAO,CAAlG,CAAJ,EAA0G;AACzG,eAAO,CAAP;AACA;AACD;;AACD,SAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,KAAK,CAAL,CAAO,KAA3B,EAAkC,CAAC,EAAnC,EAAuC;AACtC,UAAI,CAAC,GAAG,KAAK,CAAL,CAAO,MAAP,CAAc,CAAd,CAAR;AACA,UAAI,CAAC,GAAG,CAAC,CAAC,CAAV;AACA,UAAI,CAAC,GAAG,CAAC,CAAC,CAAV;;AACA,UAAI,CAAE,CAAC,IAAI,CAAL,IAAU,CAAC,IAAI,CAAhB,IAAsB,CAAC,CAAC,CAAzB,KAA+B,CAAC,CAAC,CAAF,IAAO,CAAtC,IAA2C,CAAC,IAAI,CAAC,CAAC,CAAlD,IAAwD,CAAC,CAAC,CAAF,IAAO,iBAAiB,CAAC,OAArF,EAA+F;AAC9F,eAAO,CAAP;AACA;AACD;;AACD,WAAO,IAAP;AACA,GAlBD;;AAqBA,EAAA,MAAA,CAAA,cAAA,CAAI,mBAAA,CAAA,SAAJ,EAAI,aAAJ,EAAe;SAAf,YAAA;AACC,aAAO,KAAK,YAAZ;AACA,KAFc;SAGf,UAAgB,CAAhB,EAAiC;AAChC,WAAK,YAAL,GAAoB,CAApB;AACA,KALc;qBAAA;;AAAA,GAAf;AAOA,EAAA,MAAA,CAAA,cAAA,CAAI,mBAAA,CAAA,SAAJ,EAAI,UAAJ,EAAY;SAAZ,YAAA;AACC,aAAO,KAAK,SAAZ;AACA,KAFW;SAGZ,UAAa,CAAb,EAAuB;AACtB,WAAK,SAAL,GAAiB,CAAjB;AACA,KALW;qBAAA;;AAAA,GAAZ;;AASA,EAAA,mBAAA,CAAA,SAAA,CAAA,IAAA,GAAA,UAAK,CAAL,EAAc;;;AACb,SAAK,CAAL,CAAO,KAAP;AACA,SAAK,WAAL,CAAiB,KAAjB;AACA,SAAK,CAAL,CAAO,KAAP;AACA,SAAK,QAAL,GAAgB,KAAhB;AACA,QAAI,CAAC,GAAW,CAAhB;;AACA,QAAI,KAAK,CAAL,GAAS,CAAb,EAAgB;AACf,MAAA,CAAC,GAAI,IAAI,KAAK,CAAV,GAAe,CAAnB;AACA,KAFD,MAEO;AACN,MAAA,CAAC,GAAG,CAAC,GAAG,KAAK,CAAb;AACA;;AACD,SAAK,CAAL,GAAS,CAAT;AACA,QAAI,CAAC,GAAY,KAAjB;AACA,QAAI,CAAC,GAA6B,IAAI,MAAJ,CAAmC,gBAAiB,CAAC,CAArD,EAAwD,CAAxD,CAAlC;AACA,SAAK,uBAAL,GAA+B,CAA/B;AACA,SAAK,uBAAL,GAA+B,CAA/B;AACA,SAAK,6BAAL,GAAqC,CAArC;AACA,SAAK,6BAAL,GAAqC,CAArC;AACA,SAAK,yBAAL,GAAiC,CAAjC;AACA,QAAI,CAAC,GAAY,KAAjB;AACA,QAAI,CAAC,GAAY,KAAjB;AACA,QAAI,CAAC,GAAY,KAAjB;AACA,QAAI,CAAC,GAAW,CAAhB;AACA,QAAI,CAAC,GAAW,CAAhB;AACA,QAAI,CAAC,GAAW,CAAhB;AACA,QAAI,CAAC,GAAW,CAAhB;AACA,QAAI,CAAC,GAAW,CAAhB;AACA,QAAI,CAAC,GAAW,CAAhB;;AACA,SAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,KAAK,CAAL,CAAO,KAA3B,EAAkC,CAAC,EAAnC,EAAuC;AACtC,UAAI,CAAC,GAAG,KAAK,CAAL,CAAO,MAAP,CAAc,CAAd,CAAR;;AACA,UAAI,CAAC,CAAC,CAAF,IAAO,iBAAiB,CAAC,MAA7B,EAAqC;AACpC,YAAI,CAAC,CAAC,CAAN,EAAS;AACR,UAAA,CAAC,GAAG,IAAJ;AACA,UAAA,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,GAAL,CAAS,IAAI,CAAC,CAAC,CAAf,EAAkB,CAAlB,CAAR;AACA,SAHD,MAGO;AACN,cAAI,CAAC,KAAK,CAAN,IAAW,CAAC,CAAC,CAAC,CAAlB,EAAqB;AACpB,YAAA,CAAC,GAAG,IAAJ;AACA,YAAA,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,GAAL,CAAS,IAAI,CAAC,CAAC,CAAf,EAAkB,CAAlB,CAAR;AACA,WAHD,MAGO;AACN,YAAA,CAAC,GAAG,IAAJ;AACA,YAAA,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,GAAL,CAAS,IAAI,CAAC,CAAC,CAAf,EAAkB,CAAlB,CAAR;AACA;AACD;AACD;;AACD,UAAI,CAAC,CAAC,CAAF,IAAO,iBAAiB,CAAC,OAA7B,EAAsC;AACrC,YAAI,CAAC,CAAC,CAAN,EAAS;AACR,UAAA,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,GAAL,CAAS,CAAC,CAAC,CAAX,EAAc,CAAd,CAAR;AACA,SAFD,MAEO;AACN,cAAI,CAAC,KAAK,CAAN,IAAW,CAAC,CAAC,CAAC,CAAlB,EAAqB;AACpB,YAAA,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,GAAL,CAAS,CAAC,CAAC,CAAX,EAAc,CAAd,CAAR;AACA,WAFD,MAEO;AACN,YAAA,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,GAAL,CAAS,CAAC,CAAC,CAAX,EAAc,CAAd,CAAR;AACA;AACD;AACD;AACD;;AACD,QAAI,CAAC,GAAW,CAAhB;AACA,QAAI,CAAC,GAAW,CAAhB;AACA,QAAI,CAAC,GAAW,CAAhB;;AACA,QAAI,CAAC,IAAI,CAAC,GAAG,CAAb,EAAgB;AACf,UAAI,CAAC,GAAG,CAAC,GAAG,CAAZ;AACA,MAAA,CAAC,GAAG,CAAC,GAAG,CAAR;AACA;;AACD,QAAI,CAAC,IAAI,CAAC,GAAG,CAAb,EAAgB;AACf,UAAI,CAAC,GAAG,CAAC,GAAG,CAAZ;AACA,MAAA,CAAC,GAAG,CAAC,GAAG,CAAR;AACA;;AACD,QAAI,CAAC,IAAI,CAAC,GAAG,CAAb,EAAgB;AACf,UAAI,CAAC,GAAG,CAAC,GAAG,CAAZ;AACA,MAAA,CAAC,GAAG,CAAC,GAAG,CAAR;AACA,KAHD,MAGO;AACN,MAAA,CAAC,GAAG,CAAJ;AACA;;AACD,QAAI,CAAJ;;AACA,SAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,KAAK,CAAL,CAAO,KAA3B,EAAkC,CAAC,EAAnC,EAAuC;AACtC,UAAI,CAAC,GAAG,KAAK,CAAL,CAAO,MAAP,CAAc,CAAd,CAAR;AACA,MAAA,CAAC,GAAG,CAAJ;;AACA,UAAI,CAAC,CAAC,CAAF,IAAO,iBAAiB,CAAC,OAA7B,EAAsC;AACrC,QAAA,CAAC,GAAG,IAAI,CAAC,GAAL,CAAS,CAAT,EAAY,CAAC,CAAC,CAAd,CAAJ;;AACA,YAAI,CAAC,CAAC,CAAN,EAAS;AACR,UAAA,CAAC,GAAG,CAAC,GAAG,CAAR;AACA,SAFD,MAEO;AACN,cAAI,CAAC,CAAC,CAAN,EAAS;AACR,YAAA,CAAC,GAAG,CAAC,GAAG,CAAR;AACA,WAFD,MAEO;AACN,YAAA,CAAC,GAAG,CAAC,GAAG,CAAR;AACA;AACD;;AACD,QAAA,CAAC,CAAC,CAAF,GAAM,CAAC,CAAC,CAAF,GAAM,CAAZ;AACA,OAZD,MAYO;AACN,QAAA,CAAC,CAAC,CAAF,GAAM,CAAC,CAAC,CAAF,GAAM,CAAZ;AACA;;AACD,UAAI,CAAC,CAAC,CAAF,IAAO,CAAX,EAAc;AACb,QAAA,CAAC,CAAC,CAAF,GAAM,CAAN;AACA;;AACD,UAAI,CAAC,CAAC,CAAF,GAAM,CAAV,EAAa;AACZ,QAAA,CAAC,CAAC,CAAF,GAAM,CAAN;AACA;;AACD,UAAI,CAAC,CAAC,CAAF,GAAM,CAAV,EAAa;AACZ,QAAA,CAAC,CAAC,CAAF,GAAM,CAAN;AACA;;AACD,UAAI,CAAC,CAAC,CAAN,EAAS;AACR,aAAK,6BAAL,GAAqC,IAAI,CAAC,GAAL,CAAS,CAAC,CAAC,CAAX,EAAc,KAAK,6BAAnB,CAArC;AACA,aAAK,6BAAL,GAAqC,KAAK,6BAAL,GAAqC,CAAC,CAAC,CAA5E;AACA,OAHD,MAGO;AACN,aAAK,uBAAL,GAA+B,IAAI,CAAC,GAAL,CAAS,CAAC,CAAC,CAAX,EAAc,KAAK,uBAAnB,CAA/B;AACA,aAAK,uBAAL,GAA+B,KAAK,uBAAL,GAA+B,CAAC,CAAC,CAAhE;AACA;;AACD,UAAI,CAAC,CAAC,CAAF,IAAO,iBAAiB,CAAC,OAAzB,IAAoC,CAAC,CAAC,CAAF,IAAO,CAA/C,EAAkD;AACjD,QAAA,CAAC,GAAG,IAAJ;AACA;;AACD,UAAI,CAAC,CAAC,CAAF,IAAO,iBAAiB,CAAC,OAAzB,IAAoC,CAAC,CAAC,CAAF,IAAO,CAA/C,EAAkD;AACjD,QAAA,CAAC,GAAG,IAAJ;AACA;;AACD,UAAI,CAAC,CAAC,CAAF,IAAO,CAAP,IAAY,CAAC,CAAC,CAAF,IAAO,iBAAiB,CAAC,MAAzC,EAAiD;AAChD,QAAA,CAAC,CAAC,CAAF,GAAM,CAAN;AACA;;AACD,UAAI,CAAC,CAAC,CAAF,IAAO,CAAP,IAAY,CAAC,CAAC,CAAF,IAAO,iBAAiB,CAAC,OAAzC,EAAkD;AACjD,QAAA,CAAC,CAAC,GAAF,CAAM,CAAN;AACA;;AACD,UAAI,KAAK,sBAAL,CAA4B,CAAC,CAAC,CAA9B,CAAJ,EAAsC;AACrC,aAAK,QAAL,GAAgB,IAAhB;AACA,OAFD,MAEO;AACN,YAAI,CAAC,KAAK,CAAL,CAAO,WAAP,CAAmB,CAAC,CAAC,CAArB,CAAL,EAA8B;AAC7B,eAAK,CAAL,CAAO,OAAP,CAAe,CAAC,CAAC,CAAjB,EAAoB,IAApB;AACA,eAAK,WAAL,CAAiB,GAAjB,CAAqB,CAAC,CAAC,CAAvB;AACA;AACD;AACD;;;AACD,WAAc,IAAA,EAAA,GAAA,QAAA,CAAA,QAAQ,CAAmB,CAAnB,CAAR,CAAA,EAA6B,EAAA,GAAA,EAAA,CAAA,IAAA,EAA3C,EAA2C,CAAA,EAAA,CAAA,IAA3C,EAA2C,EAAA,GAAA,EAAA,CAAA,IAAA,EAA3C,EAA6C;AAAxC,YAAI,CAAC,GAAA,EAAA,CAAA,KAAL;AACJ,aAAK,CAAL,CAAO,UAAP,CAAkB,CAAlB;AACA,aAAK,CAAL,CAAO,MAAP,CAAc,CAAd;AACA;;;;;;;;AACG,O,SACE;AACD,YAAC,GAAD,EACC,MAAA,GAAA,CAAA,KAAA;AACL;AACA;;QACA,KAAK,CAAL,CAAK,KAAL,IAAK,C,EAAA;AACL,WAAA,UAAA,GAAA,KAAA;AACG,WAAG,uBAAH,GAAW,CAAX;AACJ,WAAS,uBAAT,GAAmC,CAAnC;AACC,WAAI,6BAAJ,GAA0B,CAA1B;AACA,WAAI,6BAAJ,GAAgC,CAAhC;AACA,WAAI,yBAAJ,GAA8B,CAA9B;AACC;;SACA,C,CAAA,K;;aAAM,CAAA,GAAA,C,EAAA,CAAA,GAAA,KAAA,CAAA,CAAA,K,EAAA,CAAA,E,EAAA;UACN,EAAE,GAAG,KAAI,CAAJ,CAAI,MAAJ,CAAI,CAAJ,C;UACL,EAAE,GAAE,I;;UACJ,KAAI,CAAJ,CAAO,WAAP,CAAS,EAAA,CAAA,CAAT,C,EAAS;AACT,QAAA,EAAE,GAAE,KAAM,CAAN,CAAQ,IAAR,CAAQ,EAAA,CAAA,CAAR,CAAJ;AACA,O,MACA;AACA,QAAA,EAAA,GAAK,IAAE,gBAAF,EAAL;AACA,QAAA,EAAA,CAAA,CAAA,GAAO,CAAP;AACA,QAAA,EAAA,CAAA,CAAA,GAAA,CAAA;AACG,QAAA,EAAE,CAAC,CAAH,GAAM,EAAA,CAAA,CAAN;AACH,QAAA,EAAE,CAAC,CAAH,GAAI,CAAJ;AACA,QAAA,EAAA,CAAA,CAAA,GAAA,CAAA;AAAM,aAAA,CAAA,CAAA,OAAA,CAAA,EAAA,CAAA,CAAA,EAAA,EAAA;AACN,aAAI,CAAJ,CAAO,GAAP,CAAU,EAAA,CAAA,CAAV;AACC;;gBACC;WACA,C,IAAA,EAAA,CAAA,C;AAAM,O,MACN;YACA,EAAA,CAAA,C,EAAA;AACD,cAAA,EAAA,CAAA,CAAA,EAAA;AAAM,YAAA,EAAA,CAAA,CAAA,IAAA,EAAA,CAAA,CAAA;AACN,WADA,MAEA;AACD,YAAA,EAAA,CAAA,CAAA,IAAA,EAAA,CAAA,CAAA;AACD;AACQ,S,MACH;AACL,UAAA,EAAA,CAAA,CAAA,IAAA,EAAA,CAAA,CAAA;AAAM;AACN;AACA;;QACA,KAAI,C,EAAE;AACN,WAAI,yBAAJ,GAAmB,IAAA,CAAA,GAAA,CAAA,KAAA,uBAAA,EAAA,KAAA,6BAAA,CAAnB;AACA,K,MACA;AACA,UAAI,EAAE,GAAW,CAAjB;AACA,UAAA,EAAK,GAAI,CAAT;UACC,EAAA,GAAI,C;UACJ,EAAA,GAAI,C;YACH,GAAA,C;UACA,EAAA,GAAA,C;UACD,EAAA,GAAI,C;;WACH,IAAA,EAAE,GAAG,C,EAAA,EAAA,GAAA,KAAA,CAAA,CAAA,K,EAAA,EAAA,E,EAAA;AACL,YAAA,EAAA,GAAA,KAAA,CAAA,CAAA,IAAA,CAAA,KAAA,CAAA,CAAA,MAAA,CAAA,EAAA,CAAA,CAAA;;AACD,YAAI,EAAE,CAAC,CAAH,GAAO,CAAX,EAAc;AACb,UAAA,EAAE;AACF;;AACD,YAAE,EAAI,CAAA,CAAJ,GAAS,CAAX,EAAW;AACT,UAAA,EAAI;AACN;;AACA,YAAE,EAAI,CAAA,CAAJ,GAAS,CAAX,EAAW;AACX,UAAA,EAAA;AACG;;AACH,QAAA,EAAE,IAAG,EAAE,CAAA,CAAP;AACA,QAAA,EAAA,IAAA,EAAA,CAAA,CAAA;AACG,QAAA,EAAE,IAAI,EAAE,CAAA,CAAR;AACH,QAAA,EAAE,IAAG,EAAE,CAAA,CAAP;AACA;;AACD,UAAI,EAAA,GAAK,CAAT,EAAS;AACR,QAAA,EAAA,GAAI,EAAE,GAAI,EAAV;AACC;;UACA,EAAA,GAAA,C,EAAA;AACD,QAAA,EAAA,GAAA,EAAA,GAAA,EAAA;AACD;;AACA,UAAA,KAAA,oBAAA,IAAA,CAAA,EAAA;AACO,YAAA,EAAA,GAAA,CAAA,EAAA;AACD,UAAA,EAAI,GAAC,EAAA,GAAA,EAAL;AACN;AACD;;AACA,WAAA,yBAAA,GAAA,IAAA,CAAA,GAAA,CAAA,EAAA,EAAA,IAAA,CAAA,GAAA,CAAA,EAAA,EAAA,IAAA,CAAA,GAAA,CAAA,EAAA,EAAA,EAAA,CAAA,CAAA,CAAA;AACD;;AACC,QAAI,CAAC,CAAL,EAAQ;AACP,WAAA,CAAA,GAAO,CAAP;AACA;;AACD,WAAO,CAAP;AACA,GA5ND;;AA8NA,EAAA,mBAAA,CAAA,SAAA,CAAI,sBAAJ,GAAI,UAAU,CAAV,EAAU;SAAd,CAAA,E,IAAA,C,IAAA,CAAA,CAAA,EAAA,IAAA,C,EAAA;AACC,aAAO,IAAP;AACA;;AACD,WAAA,KAAA;AACC,GAJD;;AAKA,EAAA,MAAC,CAAA,cAAD,CAAC,mBAAA,CAAA,SAAD,EAAC,YAAD,EAAC;;;AAHA,KAGA;AAED,IAAA,GAAA,EAAA,UAAA,CAAA,EAAI;AAAJ,WAAA,WAAA,GAAA,CAAA;AACC,KAHA;AAID,IAAA,UAAC,EAAA,KAJA;AAKD,IAAA,YAAA,EAAA;AALC,GAAD;AAOA,EAAA,MAAC,CAAA,cAAD,CAAC,mBAAA,CAAA,SAAD,EAAC,yBAAD,EAAC;;;AAHA,KAGA;AAED,IAAA,GAAA,EAAA,UAAA,CAAA,EAAI;AAAJ,WAAA,wBAAA,GAAA,CAAA;AACC,KAHA;AAID,IAAA,UAAC,EAAA,KAJA;AAKD,IAAA,YAAA,EAAA;AALC,GAAD;AAOA,EAAA,MAAC,CAAA,cAAD,CAAC,mBAAA,CAAA,SAAD,EAAC,yBAAD,EAAC;;;AAHA,KAGA;AAED,IAAA,GAAA,EAAA,UAAA,CAAA,EAAI;AAAJ,WAAA,wBAAA,GAAA,CAAA;AACC,KAHA;AAID,IAAA,UAAC,EAAA,KAJA;AAKD,IAAA,YAAA,EAAA;AALC,GAAD;AAOA,EAAA,MAAC,CAAA,cAAD,CAAC,mBAAA,CAAA,SAAD,EAAC,+BAAD,EAAC;;;AAHA,KAGA;AAED,IAAA,GAAA,EAAA,UAAA,CAAA,EAAI;AAAJ,WAAA,8BAAA,GAAA,CAAA;AACC,KAHA;AAID,IAAA,UAAC,EAAA,KAJA;AAKD,IAAA,YAAA,EAAA;AALC,GAAD;AAOA,EAAA,MAAC,CAAA,cAAD,CAAC,mBAAA,CAAA,SAAD,EAAC,+BAAD,EAAC;;;AAHA,KAGA;AAED,IAAA,GAAA,EAAA,UAAA,CAAA,EAAI;AAAJ,WAAA,8BAAA,GAAA,CAAA;AACC,KAHA;AAID,IAAA,UAAC,EAAA,KAJA;AAKD,IAAA,YAAA,EAAA;AALC,GAAD;AAOA,EAAA,MAAC,CAAA,cAAD,CAAC,mBAAA,CAAA,SAAD,EAAC,2BAAD,EAAC;;;AAHA,KAGA;AAjeM,IAAA,GAAA,EAAA,UAAA,CAAA,EAAE;AAkeV,WAAA,0BAAA,GAAC,CAAD;AAAC,KADC;AAleW,IAAA,UAAA,EAAA,KAkeX;;AAAA,GAAD;;;CAleD,C,IAAA,CAAA","sourceRoot":"","sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends, __values } from \"tslib\";\nimport { Base, runOn, Boolean_$type, fromEnum, markType } from \"igniteui-react-core\";\nimport { IHighlightingManager_$type } from \"./IHighlightingManager\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { Series } from \"./Series\";\nimport { HighlightingInfoComparer } from \"./HighlightingInfoComparer\";\nimport { Dictionary$2 } from \"igniteui-react-core\";\nimport { HighlightingInfo } from \"./HighlightingInfo\";\nimport { HighlightingData } from \"./HighlightingData\";\nimport { HighlightingState } from \"./HighlightingState\";\n/**\n * @hidden\n */\nvar HighlightingManager = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(HighlightingManager, _super);\n    function HighlightingManager() {\n        var _this = _super.call(this) || this;\n        _this._highlightingBehavior = 0;\n        _this._executionContext = null;\n        _this._ensureAnimator = null;\n        _this.e = new Dictionary$2(HighlightingInfo.$, HighlightingInfo.$, 2, new HighlightingInfoComparer());\n        _this.i = new List$1(HighlightingInfo.$, 0);\n        _this.h = new Dictionary$2(HighlightingInfo.$, HighlightingInfo.$, 2, new HighlightingInfoComparer());\n        _this.j = new List$1(HighlightingInfo.$, 0);\n        _this.b = false;\n        _this.c = false;\n        _this.o = 0;\n        _this.n = 0;\n        _this.l = new List$1(HighlightingInfo.$, 0);\n        _this.m = 0;\n        _this._dirtySeries = null;\n        _this._allDirty = false;\n        _this.f = new Dictionary$2(Series.$, Boolean_$type, 0);\n        _this.g = new Dictionary$2(Series.$, HighlightingData.$, 0);\n        _this.k = new List$1(Series.$, 0);\n        _this._inProgress = false;\n        _this._maxHighlightingProgress = 0;\n        _this._sumHighlightingProgress = 0;\n        _this._maxMarkerHighlightingProgress = 0;\n        _this._sumMarkerHighlightingProgress = 0;\n        _this._totalHighlightingProgress = 0;\n        _this.highlightingBehavior = 1;\n        _this.dirtySeries = new List$1(Series.$, 0);\n        _this.n = 200;\n        return _this;\n    }\n    Object.defineProperty(HighlightingManager.prototype, \"highlightingBehavior\", {\n        get: function () {\n            return this._highlightingBehavior;\n        },\n        set: function (a) {\n            this._highlightingBehavior = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HighlightingManager.prototype, \"d\", {\n        get: function () {\n            return this.highlightingBehavior == 1;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HighlightingManager.prototype, \"executionContext\", {\n        get: function () {\n            return this._executionContext;\n        },\n        set: function (a) {\n            this._executionContext = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HighlightingManager.prototype, \"ensureAnimator\", {\n        get: function () {\n            return this._ensureAnimator;\n        },\n        set: function (a) {\n            this._ensureAnimator = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    HighlightingManager.prototype.startHighlight = function (a) {\n        if (a == null) {\n            return;\n        }\n        this.a(a);\n        this.inProgress = true;\n        if (!this.e.containsKey(a)) {\n            a.a = HighlightingState.inward;\n            this.e.item(a, a);\n            this.i.add(a);\n        }\n        else {\n            a = this.e.item(a);\n        }\n        if (a.a == HighlightingState.outward) {\n            a.a = HighlightingState.inward;\n        }\n    };\n    HighlightingManager.prototype.a = function (a) {\n        var b = null;\n        if (this.h.containsKey(a)) {\n            a = this.h.item(a);\n            this.h.removeItem(a);\n            this.j.remove(a);\n            b = a;\n        }\n        var c = this.l;\n        for (var d = 0; d < this.j.count; d++) {\n            var e = this.j._inner[d];\n            if (e.d && a.d && a.b == e.b) {\n                if (b == null) {\n                    this.h.removeItem(e);\n                    this.j.remove(e);\n                    var f = this.e.item(e);\n                    this.e.removeItem(f);\n                    this.i.remove(f);\n                    f.h = a.h;\n                    f.g = a.g;\n                    f.c = a.c;\n                    this.e.item(f, f);\n                    this.i.add(f);\n                    b = f;\n                }\n                else {\n                    c.add(e);\n                }\n            }\n            if (this.d && e.b != a.b) {\n                c.add(e);\n            }\n            if (e.b == a.b && e.e == a.e && !e.d && (e.h != a.h || e.g != a.g)) {\n                c.add(e);\n            }\n        }\n        for (var g = 0; g < c.count; g++) {\n            this.j.remove(c._inner[g]);\n            this.h.removeItem(c._inner[g]);\n            this.q(c._inner[g]);\n        }\n        c.clear();\n        if (b != null) {\n            return b;\n        }\n        return a;\n    };\n    HighlightingManager.prototype.endHighlight = function (a) {\n        if (a == null) {\n            return;\n        }\n        if (!this.e.containsKey(a)) {\n            return;\n        }\n        else {\n            a = this.e.item(a);\n        }\n        this.r(a);\n    };\n    HighlightingManager.prototype.r = function (a) {\n        if (this.h.containsKey(a)) {\n            var b = this.h.item(a);\n        }\n        else {\n            this.h.addItem(a, a);\n            this.j.add(a);\n            a.i = this.executionContext.getCurrentRelativeTime();\n        }\n        this.b = true;\n        if (!this.c) {\n            this.c = true;\n            this.executionContext.executeDelayed(runOn(this, this.p), this.n);\n        }\n    };\n    HighlightingManager.prototype.p = function () {\n        this.c = false;\n        if (!this.b) {\n            return;\n        }\n        var a = this.l;\n        var b = 0;\n        var c = this.executionContext.getCurrentRelativeTime();\n        for (var d = 0; d < this.j.count; d++) {\n            var e = this.j._inner[d];\n            if (c - e.i >= this.n) {\n                a.add(e);\n            }\n            else {\n                b = Math.max(b, this.n - (c - e.i));\n            }\n        }\n        for (var f = 0; f < a.count; f++) {\n            this.j.remove(a._inner[f]);\n            this.h.removeItem(a._inner[f]);\n            this.q(a._inner[f]);\n        }\n        if (a.count > 0) {\n            if (this.ensureAnimator != null) {\n                this.ensureAnimator();\n            }\n        }\n        a.clear();\n        if (b > 0) {\n            this.b = true;\n            this.c = true;\n            this.executionContext.executeDelayed(runOn(this, this.p), b);\n        }\n    };\n    HighlightingManager.prototype.q = function (a) {\n        if (a.a == HighlightingState.inward) {\n            a.a = HighlightingState.outward;\n        }\n        if (a.a == 2) {\n            a.a = HighlightingState.outward;\n            a.f = 1;\n        }\n    };\n    HighlightingManager.prototype.clear = function () {\n        this.j.clear();\n        this.h.clear();\n        this.b = false;\n        this.i.clear();\n        this.e.clear();\n        this.maxHighlightingProgress = 0;\n        this.sumHighlightingProgress = 0;\n        this.maxMarkerHighlightingProgress = 0;\n        this.sumMarkerHighlightingProgress = 0;\n        this.totalHighlightingProgress = 0;\n    };\n    HighlightingManager.prototype.getHighlightingInfo = function (a, b, c, d, e) {\n        for (var f = 0; f < this.i.count; f++) {\n            var g = this.i._inner[f];\n            var h = g.h;\n            var i = g.g;\n            if (((c >= h && d <= i) || g.d) && g.e == e && a == g.b && (g.a == HighlightingState.inward || g.a == 2)) {\n                return g;\n            }\n        }\n        for (var j = 0; j < this.i.count; j++) {\n            var k = this.i._inner[j];\n            var l = k.h;\n            var m = k.g;\n            if (((c >= l && d <= m) || k.d) && k.e == e && a == k.b && (k.a == HighlightingState.outward)) {\n                return k;\n            }\n        }\n        return null;\n    };\n    Object.defineProperty(HighlightingManager.prototype, \"dirtySeries\", {\n        get: function () {\n            return this._dirtySeries;\n        },\n        set: function (a) {\n            this._dirtySeries = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HighlightingManager.prototype, \"allDirty\", {\n        get: function () {\n            return this._allDirty;\n        },\n        set: function (a) {\n            this._allDirty = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    HighlightingManager.prototype.tick = function (a) {\n        var e_1, _a;\n        this.f.clear();\n        this.dirtySeries.clear();\n        this.g.clear();\n        this.allDirty = false;\n        var b = 0;\n        if (this.m > a) {\n            b = (1 - this.m) + a;\n        }\n        else {\n            b = a - this.m;\n        }\n        this.m = a;\n        var c = false;\n        var d = new List$1(HighlightingInfo.$, 0);\n        this.maxHighlightingProgress = 0;\n        this.sumHighlightingProgress = 0;\n        this.maxMarkerHighlightingProgress = 0;\n        this.sumMarkerHighlightingProgress = 0;\n        this.totalHighlightingProgress = 0;\n        var e = false;\n        var f = false;\n        var g = false;\n        var h = 0;\n        var i = 0;\n        var j = 0;\n        var k = 0;\n        var l = 0;\n        var m = 0;\n        for (var n = 0; n < this.i.count; n++) {\n            var o = this.i._inner[n];\n            if (o.a == HighlightingState.inward) {\n                if (o.e) {\n                    e = true;\n                    j = j + Math.min(1 - o.f, b);\n                }\n                else {\n                    if (!this.d && !o.d) {\n                        g = true;\n                        l = l + Math.min(1 - o.f, b);\n                    }\n                    else {\n                        f = true;\n                        h = h + Math.min(1 - o.f, b);\n                    }\n                }\n            }\n            if (o.a == HighlightingState.outward) {\n                if (o.e) {\n                    k = k + Math.min(o.f, b);\n                }\n                else {\n                    if (!this.d && !o.d) {\n                        m = m + Math.min(o.f, b);\n                    }\n                    else {\n                        i = i + Math.min(o.f, b);\n                    }\n                }\n            }\n        }\n        var p = 1;\n        var q = 1;\n        var r = 1;\n        if (f && i > h) {\n            var s = i - h;\n            p = h / i;\n        }\n        if (e && k > j) {\n            var t = k - j;\n            q = j / k;\n        }\n        if (g && m > l) {\n            var u = m - l;\n            r = l / m;\n        }\n        else {\n            r = p;\n        }\n        var v;\n        for (var w = 0; w < this.i.count; w++) {\n            var x = this.i._inner[w];\n            v = b;\n            if (x.a == HighlightingState.outward) {\n                v = Math.min(v, x.f);\n                if (x.e) {\n                    v = v * q;\n                }\n                else {\n                    if (x.d) {\n                        v = v * p;\n                    }\n                    else {\n                        v = v * r;\n                    }\n                }\n                x.f = x.f - v;\n            }\n            else {\n                x.f = x.f + v;\n            }\n            if (x.a == 2) {\n                x.f = 1;\n            }\n            if (x.f > 1) {\n                x.f = 1;\n            }\n            if (x.f < 0) {\n                x.f = 0;\n            }\n            if (x.e) {\n                this.maxMarkerHighlightingProgress = Math.max(x.f, this.maxMarkerHighlightingProgress);\n                this.sumMarkerHighlightingProgress = this.sumMarkerHighlightingProgress + x.f;\n            }\n            else {\n                this.maxHighlightingProgress = Math.max(x.f, this.maxHighlightingProgress);\n                this.sumHighlightingProgress = this.sumHighlightingProgress + x.f;\n            }\n            if (x.a != HighlightingState.outward && x.f != 1) {\n                c = true;\n            }\n            if (x.a == HighlightingState.outward && x.f != 0) {\n                c = true;\n            }\n            if (x.f == 1 && x.a == HighlightingState.inward) {\n                x.a = 2;\n            }\n            if (x.f == 0 && x.a == HighlightingState.outward) {\n                d.add(x);\n            }\n            if (this.isCrossSeriesHighlight(x.b)) {\n                this.allDirty = true;\n            }\n            else {\n                if (!this.f.containsKey(x.b)) {\n                    this.f.addItem(x.b, true);\n                    this.dirtySeries.add(x.b);\n                }\n            }\n        }\n        try {\n            for (var _b = __values(fromEnum(d)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var y = _c.value;\n                this.e.removeItem(y);\n                this.i.remove(y);\n            }\n        }\n        catch (e_1_1) {\n            e_1 = { error: e_1_1 };\n        }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return))\n                    _a.call(_b);\n            }\n            finally {\n                if (e_1)\n                    throw e_1.error;\n            }\n        }\n        if (this.e.count == 0) {\n            this.inProgress = false;\n            this.maxHighlightingProgress = 0;\n            this.sumHighlightingProgress = 0;\n            this.maxMarkerHighlightingProgress = 0;\n            this.sumMarkerHighlightingProgress = 0;\n            this.totalHighlightingProgress = 0;\n        }\n        this.k.clear();\n        for (var z = 0; z < this.i.count; z++) {\n            var aa = this.i._inner[z];\n            var ab = null;\n            if (this.g.containsKey(aa.b)) {\n                ab = this.g.item(aa.b);\n            }\n            else {\n                ab = new HighlightingData();\n                ab.b = 0;\n                ab.e = 0;\n                ab.a = aa.b;\n                ab.c = 0;\n                ab.d = 0;\n                this.g.addItem(aa.b, ab);\n                this.k.add(aa.b);\n            }\n            if (aa.e) {\n                ab.c += aa.f;\n            }\n            else {\n                if (aa.d) {\n                    if (aa.c) {\n                        ab.d += aa.f;\n                    }\n                    else {\n                        ab.e += aa.f;\n                    }\n                }\n                else {\n                    ab.b += aa.f;\n                }\n            }\n        }\n        if (this.d) {\n            this.totalHighlightingProgress = Math.max(this.sumHighlightingProgress, this.sumMarkerHighlightingProgress);\n        }\n        else {\n            var ac = 0;\n            var ad = 0;\n            var ae = 0;\n            var af = 0;\n            var ag = 0;\n            var ah = 0;\n            var ai = 0;\n            for (var aj = 0; aj < this.k.count; aj++) {\n                var ak = this.g.item(this.k._inner[aj]);\n                if (ak.b > 0) {\n                    ah++;\n                }\n                if (ak.c > 0) {\n                    ai++;\n                }\n                if (ak.e > 0) {\n                    ae++;\n                }\n                ac += ak.b;\n                ad += ak.e;\n                ag += ak.d;\n                af += ak.c;\n            }\n            if (ah > 0) {\n                ac = ac / ah;\n            }\n            if (ai > 0) {\n                af = af / ai;\n            }\n            if (this.highlightingBehavior == 3) {\n                if (ae > 0) {\n                    ad = ad / ae;\n                }\n            }\n            this.totalHighlightingProgress = Math.max(ag, Math.max(ac, Math.max(ad, af)));\n        }\n        if (!c) {\n            this.m = 0;\n        }\n        return c;\n    };\n    HighlightingManager.prototype.isCrossSeriesHighlight = function (a) {\n        if (a.bj == 5 || a.bj == 4) {\n            return true;\n        }\n        return false;\n    };\n    Object.defineProperty(HighlightingManager.prototype, \"inProgress\", {\n        get: function () {\n            return this._inProgress;\n        },\n        set: function (a) {\n            this._inProgress = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HighlightingManager.prototype, \"maxHighlightingProgress\", {\n        get: function () {\n            return this._maxHighlightingProgress;\n        },\n        set: function (a) {\n            this._maxHighlightingProgress = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HighlightingManager.prototype, \"sumHighlightingProgress\", {\n        get: function () {\n            return this._sumHighlightingProgress;\n        },\n        set: function (a) {\n            this._sumHighlightingProgress = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HighlightingManager.prototype, \"maxMarkerHighlightingProgress\", {\n        get: function () {\n            return this._maxMarkerHighlightingProgress;\n        },\n        set: function (a) {\n            this._maxMarkerHighlightingProgress = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HighlightingManager.prototype, \"sumMarkerHighlightingProgress\", {\n        get: function () {\n            return this._sumMarkerHighlightingProgress;\n        },\n        set: function (a) {\n            this._sumMarkerHighlightingProgress = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HighlightingManager.prototype, \"totalHighlightingProgress\", {\n        get: function () {\n            return this._totalHighlightingProgress;\n        },\n        set: function (a) {\n            this._totalHighlightingProgress = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    HighlightingManager.$t = markType(HighlightingManager, 'HighlightingManager', Base.$, [IHighlightingManager_$type]);\n    return HighlightingManager;\n}(Base));\nexport { HighlightingManager };\n//# sourceMappingURL=HighlightingManager.js.map\n"]},"metadata":{},"sourceType":"module"}