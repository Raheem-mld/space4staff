{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends, __values } from \"tslib\";\nimport { FinancialOverlay } from \"./FinancialOverlay\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { Number_$type, typeCast, runOn, markType, markDep, getEnumerator, Point_$type, fromEnum } from \"igniteui-react-core\";\nimport { CategoryFrame } from \"./CategoryFrame\";\nimport { Series } from \"./Series\";\nimport { SafeEnumerable } from \"./SafeEnumerable\";\nimport { TrendCalculators } from \"igniteui-react-core\";\nimport { AxisRange } from \"./AxisRange\";\nimport { FinancialSeriesView } from \"./FinancialSeriesView\";\nimport { ScalerParams } from \"./ScalerParams\";\nimport { ISortingAxis_$type } from \"./ISortingAxis\";\nimport { FinancialBucketCalculator } from \"./FinancialBucketCalculator\";\nimport { Polyline } from \"igniteui-react-core\";\nimport { Polygon } from \"igniteui-react-core\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\nimport { isNaN_ } from \"igniteui-react-core\";\nimport { Flattener } from \"igniteui-react-core\";\n/**\n * @hidden\n */\n\nvar BollingerBandsOverlay =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(BollingerBandsOverlay, _super);\n\n  function BollingerBandsOverlay() {\n    var _this = _super.call(this) || this;\n\n    _this.s8 = 0;\n    _this.s9 = 0;\n    _this.s6 = new List$1(Number_$type, 0);\n    _this.s7 = new List$1(Number_$type, 0);\n    _this.ab = BollingerBandsOverlay.$;\n    _this.pu = new CategoryFrame(4);\n    _this.pw = new CategoryFrame(4);\n    _this.ps = new CategoryFrame(4);\n    return _this;\n  }\n\n  BollingerBandsOverlay.prototype.lm = function (a, b, c, d) {\n    if (this.q9().contains(b)) {\n      this.s0 = false;\n    }\n\n    _super.prototype.lm.call(this, a, b, c, d);\n\n    switch (b) {\n      case BollingerBandsOverlay.$$p[1]:\n        this.s0 = false;\n        this.l0(false);\n        break;\n\n      case BollingerBandsOverlay.$$p[0]:\n        this.l0(false);\n        break;\n    }\n  };\n\n  BollingerBandsOverlay.prototype.s1 = function () {\n    this.s6.clear();\n    this.s7.clear();\n    var a = getEnumerator(TrendCalculators.e(new SafeEnumerable(this.q8), this.tb));\n    var b = getEnumerator(TrendCalculators.f(new SafeEnumerable(this.q8), this.tb));\n    this.s9 = 1.7976931348623157E+308;\n    this.s8 = -1.7976931348623157E+308;\n    var c = true;\n    var d = true;\n    var e = this.ta;\n\n    while (c || d) {\n      if (a.moveNext()) {\n        this.s6.add(a.current);\n      } else {\n        c = false;\n      }\n\n      if (b.moveNext()) {\n        this.s7.add(b.current);\n      } else {\n        d = false;\n      }\n\n      if (c && d) {\n        this.s9 = Math.min(this.s9, a.current - b.current * e);\n        this.s8 = Math.max(this.s8, a.current + b.current * e);\n      }\n    }\n\n    return true;\n  };\n\n  BollingerBandsOverlay.prototype.ap = function (a) {\n    if (this.s6 == null || this.s7 == null || a == null || this.ch == null || a != this.qc) {\n      return null;\n    }\n\n    var b = new AxisRange(this.s9, this.s8);\n    return b;\n  };\n\n  BollingerBandsOverlay.prototype.sh = function (a, b) {\n    _super.prototype.sh.call(this, a, b);\n\n    var c = b.bv;\n    var d = b.bu;\n    var e = this.getEffectiveViewport1(b);\n    var f = this.pq;\n    var g = this.qc;\n    var h = new ScalerParams(0, c, d, f.cc, e);\n    var i = new ScalerParams(0, c, d, g.cc, e);\n    a.f.clear();\n    a.m.clear();\n    a.p.clear();\n    var j = typeCast(ISortingAxis_$type, this.pq);\n\n    if (j != null && j.i$b.count != this.ch.count) {\n      return;\n    }\n\n    var k = 0;\n    k = this.rh(c, d, e);\n\n    if (!this.s0) {\n      this.s0 = this.s1();\n\n      if (this.qc != null) {\n        this.qc.cw(true);\n      }\n    }\n\n    i.b = this.f2();\n    var l = this.pq.eb(2, h) - this.pq.eb(1, h);\n\n    for (var m = b.bx.c; m <= b.bx.d; ++m) {\n      var n = void 0;\n\n      if (j == null) {\n        n = b.bx.getBucket(m);\n      } else {\n        var o = j.i$b._inner[m];\n        var p = j.i$d(o);\n        var q = this.s6._inner[m];\n        var r = this.s7._inner[m];\n        var s = q;\n        var t = r;\n        var u = p;\n        var v = 1;\n\n        while (m < b.bx.d) {\n          o = j.i$b._inner[m + 1];\n          u = j.i$d(o);\n\n          if (u - p > l) {\n            break;\n          }\n\n          m++;\n          s += this.s6._inner[m];\n          t += this.s7._inner[m];\n          v++;\n        }\n\n        s /= v;\n        t /= v;\n        var w = s - t * this.ta;\n        var x = s;\n        var y = s + t * this.ta;\n        var z = NaN;\n\n        if (!isNaN_(p)) {\n          z = this.pq.d8(p, h);\n        }\n\n        n = [z, w, x, y];\n      }\n\n      var aa = Math.max(1, l);\n\n      if (!isNaN_(n[0]) && m * aa >= this.s2) {\n        if (this.pq != null && typeCast(ISortingAxis_$type, this.pq) !== null) {\n          n[0] = n[0] + k;\n        } else {\n          n[0] = f.d8(n[0], h) + k;\n        }\n\n        n[1] = g.d8(n[1], i);\n        n[2] = g.d8(n[2], i);\n        n[3] = g.d8(n[3], i);\n        a.f.add(n);\n      }\n    }\n  };\n\n  BollingerBandsOverlay.prototype.kh = function (a, b) {\n    _super.prototype.kh.call(this, a, b);\n\n    var c = b;\n\n    if (c != null) {\n      c.b4();\n    }\n  };\n\n  BollingerBandsOverlay.prototype.f8 = function (a, b, c) {\n    if (this.s6 == null) {\n      return _super.prototype.f8.call(this, a, b, c);\n    }\n\n    var d = this.getEffectiveViewport1(this.bx);\n    var e = this.rh(this.bx.bv, this.bx.bu, d);\n    var f = new ScalerParams(0, this.bx.bv, this.bx.bu, this.pq.cc, d);\n    f.c = this.ca.pv;\n    return this.ga(this.s6, a, this.pq, f, e, runOn(this, this.rg), b, c);\n  };\n\n  BollingerBandsOverlay.prototype.g6 = function (a, b) {\n    if (this.s6 == null) {\n      return _super.prototype.g6.call(this, a, b);\n    }\n\n    return this.g7(a, b, this.pq, runOn(this, this.rg), this.s6);\n  };\n\n  BollingerBandsOverlay.prototype.g4 = function (a, b) {\n    if (this.s6 == null) {\n      return _super.prototype.g4.call(this, a, b);\n    }\n\n    return this.g5(a, b, this.pq, runOn(this, this.rg), this.s6);\n  };\n\n  BollingerBandsOverlay.prototype.e3 = function (a, b, c) {\n    var d = _super.prototype.e3.call(this, a, b, c);\n\n    if (!this.qz(this.q9())) {\n      d = false;\n    }\n\n    return d;\n  };\n\n  BollingerBandsOverlay.prototype.sj = function (a, b) {\n    _super.prototype.sj.call(this, a, b);\n\n    var c = typeCast(BollingerBandsOverlayView.$, b);\n    var d = this.getEffectiveViewport1(b);\n\n    if (b.b0(a)) {\n      c.b4();\n      var e_1 = a.f.count;\n\n      var f = function (g) {\n        return a.f._inner[g][0];\n      };\n\n      var g = function (h) {\n        return a.f._inner[e_1 - 1 - h][0];\n      };\n\n      var h = function (i) {\n        return a.f._inner[i][1];\n      };\n\n      var i = function (j) {\n        return a.f._inner[j][2];\n      };\n\n      var j = function (k) {\n        return a.f._inner[e_1 - 1 - k][3];\n      };\n\n      c.b5(e_1, f, g, h, i, j);\n      b.b2(a);\n    }\n\n    this.pz.a0(this, this.qy(), runOn(this, this.pi), this.rn(b), this.rp(b));\n    var k = false;\n    var l = this.pz.b;\n    var m = a.f;\n    var n = this.ch.count;\n\n    if (l != null) {\n      k = true;\n    }\n\n    if (k) {\n      var o = new ScalerParams(0, b.bv, b.bu, this.pq.cc, d);\n      this.sg(m, -1, n, this.pq, o, b.q);\n    }\n\n    var p = c.cc;\n    var q = c.cd;\n    var r = c.ce;\n    var s = c.b7;\n    this.pz.ad(q, true, false, true, true);\n    this.pz.an = null;\n    this.pz.am = null;\n    this.pz.ad(p, true, false, false, true);\n    this.pz.ad(r, true, false, false, true);\n    this.pz.ad(s, false, true, false, false);\n    s._opacity = this.pz.j * this.fi;\n  };\n\n  BollingerBandsOverlay.prototype.bu = function () {\n    return new BollingerBandsOverlayView(this);\n  };\n\n  BollingerBandsOverlay.prototype.lh = function (a) {\n    _super.prototype.lh.call(this, a);\n\n    this.s5 = typeCast(BollingerBandsOverlayView.$, a);\n  };\n\n  BollingerBandsOverlay.prototype.rq = function () {\n    return 3;\n  };\n\n  BollingerBandsOverlay.prototype.f2 = function () {\n    return Series.f3(this.s6, null);\n  };\n\n  BollingerBandsOverlay.$t = markType(BollingerBandsOverlay, 'BollingerBandsOverlay', FinancialOverlay.$);\n  BollingerBandsOverlay.$$p = markDep(DependencyProperty, PropertyMetadata, BollingerBandsOverlay, 'raisePropertyChanged', ['Multiplier:ta:te', [1, 2], 'Period:tb:tf', [1, 14]]);\n  return BollingerBandsOverlay;\n}(FinancialOverlay);\n\nexport { BollingerBandsOverlay };\n/**\n * @hidden\n */\n\nvar BollingerBandsBucketCalculator =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(BollingerBandsBucketCalculator, _super);\n\n  function BollingerBandsBucketCalculator(a) {\n    var _this = _super.call(this, a) || this;\n\n    _this.f = null;\n    _this.f = a;\n    return _this;\n  }\n\n  BollingerBandsBucketCalculator.prototype.getBucket = function (a) {\n    var b = a * this.b;\n    var c = Math.min(b + this.b - 1, this.a.bz.ch.count - 1);\n\n    if (b <= c) {\n      var d = this.f.b3.ta;\n      var e = 0;\n      var f = 0;\n      var g = 0;\n\n      for (var h = b; h <= c; ++h) {\n        if (!isNaN_(this.f.b3.s6._inner[h]) && !isNaN_(this.f.b3.s7._inner[h])) {\n          e += this.f.b3.s6._inner[h];\n          f += this.f.b3.s7._inner[h];\n          ++g;\n        }\n      }\n\n      if (g > 0) {\n        e = e / g;\n        f = f / g;\n        return [0.5 * (b + c), e - f * d, e, e + f * d];\n      }\n    }\n\n    return [NaN, NaN, NaN, NaN];\n  };\n\n  BollingerBandsBucketCalculator.$t = markType(BollingerBandsBucketCalculator, 'BollingerBandsBucketCalculator', FinancialBucketCalculator.$);\n  return BollingerBandsBucketCalculator;\n}(FinancialBucketCalculator);\n\nexport { BollingerBandsBucketCalculator };\n/**\n * @hidden\n */\n\nvar BollingerBandsOverlayView =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(BollingerBandsOverlayView, _super);\n\n  function BollingerBandsOverlayView(a) {\n    var _this = _super.call(this, a) || this;\n\n    _this.b3 = null;\n    _this.b8 = new Polygon();\n    _this.cf = new Polyline();\n    _this.cg = new Polyline();\n    _this.ch = new Polyline();\n    _this.b6 = new Polygon();\n    _this.b9 = new Polyline();\n    _this.ca = new Polyline();\n    _this.cb = new Polyline();\n    _this.b3 = a;\n    return _this;\n  }\n\n  BollingerBandsOverlayView.prototype.as = function () {\n    _super.prototype.as.call(this);\n\n    if (!this.q) {}\n  };\n\n  BollingerBandsOverlayView.prototype.by = function () {\n    return new BollingerBandsBucketCalculator(this);\n  };\n\n  BollingerBandsOverlayView.prototype.b5 = function (a, b, c, d, e, f) {\n    var e_2, _a, e_3, _b, e_4, _c;\n\n    try {\n      for (var _d = __values(fromEnum(Flattener.d(a, b, d, this.e.gh))), _e = _d.next(); !_e.done; _e = _d.next()) {\n        var g = _e.value;\n        this.b8.ak.add({\n          $type: Point_$type,\n          x: b(g),\n          y: d(g)\n        });\n        this.cf.ak.add({\n          $type: Point_$type,\n          x: b(g),\n          y: d(g)\n        });\n      }\n    } catch (e_2_1) {\n      e_2 = {\n        error: e_2_1\n      };\n    } finally {\n      try {\n        if (_e && !_e.done && (_a = _d.return)) _a.call(_d);\n      } finally {\n        if (e_2) throw e_2.error;\n      }\n    }\n\n    try {\n      for (var _f = __values(fromEnum(Flattener.d(a, b, e, this.e.gh))), _g = _f.next(); !_g.done; _g = _f.next()) {\n        var h = _g.value;\n        this.cg.ak.add({\n          $type: Point_$type,\n          x: b(h),\n          y: e(h)\n        });\n      }\n    } catch (e_3_1) {\n      e_3 = {\n        error: e_3_1\n      };\n    } finally {\n      try {\n        if (_g && !_g.done && (_b = _f.return)) _b.call(_f);\n      } finally {\n        if (e_3) throw e_3.error;\n      }\n    }\n\n    try {\n      for (var _h = __values(fromEnum(Flattener.d(a, c, f, this.e.gh))), _j = _h.next(); !_j.done; _j = _h.next()) {\n        var i = _j.value;\n        this.b8.ak.add({\n          $type: Point_$type,\n          x: c(i),\n          y: f(i)\n        });\n        this.ch.ak.add({\n          $type: Point_$type,\n          x: c(i),\n          y: f(i)\n        });\n      }\n    } catch (e_4_1) {\n      e_4 = {\n        error: e_4_1\n      };\n    } finally {\n      try {\n        if (_j && !_j.done && (_c = _h.return)) _c.call(_h);\n      } finally {\n        if (e_4) throw e_4.error;\n      }\n    }\n\n    this.aq();\n  };\n\n  BollingerBandsOverlayView.prototype.b4 = function () {\n    this.b8.ak.clear();\n    this.cf.ak.clear();\n    this.cg.ak.clear();\n    this.ch.ak.clear();\n    this.aq();\n  };\n\n  Object.defineProperty(BollingerBandsOverlayView.prototype, \"b7\", {\n    get: function () {\n      return this.b8;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(BollingerBandsOverlayView.prototype, \"cc\", {\n    get: function () {\n      return this.cf;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(BollingerBandsOverlayView.prototype, \"cd\", {\n    get: function () {\n      return this.cg;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(BollingerBandsOverlayView.prototype, \"ce\", {\n    get: function () {\n      return this.ch;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  BollingerBandsOverlayView.prototype.bc = function () {\n    _super.prototype.bc.call(this);\n\n    this.b6.ak = this.b8.ak;\n    this.b9.ak = this.cf.ak;\n    this.ca.ak = this.cg.ak;\n    this.cb.ak = this.ch.ak;\n    var a = this.bo();\n    this.b6._fill = a;\n    this.b6._opacity = 1;\n    this.b9._stroke = a;\n    this.b9.ac = this.e.fl + 3;\n    this.ca._stroke = a;\n    this.ca.ac = this.e.fl + 3;\n    this.cb._stroke = a;\n    this.cb.ac = this.e.fl + 3;\n  };\n\n  BollingerBandsOverlayView.prototype.a6 = function (a, b) {\n    _super.prototype.a6.call(this, a, b);\n\n    if (a.d) {\n      if (b) {\n        a.t(this.b6);\n        a.u(this.b9);\n        a.u(this.ca);\n        a.u(this.cb);\n      } else {\n        a.t(this.b8);\n        a.u(this.cf);\n        a.u(this.cg);\n        a.u(this.ch);\n      }\n    }\n  };\n\n  BollingerBandsOverlayView.prototype.al = function (a) {\n    _super.prototype.al.call(this, a);\n\n    this.e.a6.exportPolygonData(a, this.b8, \"FillShape\", [\"Fill\"]);\n    this.e.a6.exportPolylineData(a, this.cf, \"BottomLine\", [\"Lower\", \"Main\"]);\n    this.e.a6.exportPolylineData(a, this.cg, \"CentralLine\", [\"Central\"]);\n    this.e.a6.exportPolylineData(a, this.ch, \"TopLine\", [\"Upper\"]);\n  };\n\n  BollingerBandsOverlayView.$t = markType(BollingerBandsOverlayView, 'BollingerBandsOverlayView', FinancialSeriesView.$);\n  return BollingerBandsOverlayView;\n}(FinancialSeriesView);\n\nexport { BollingerBandsOverlayView };","map":{"version":3,"sources":["../../../../src/igniteui-charts/lib/BollingerBandsOverlay_combined.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends, __values } from \"tslib\";\nimport { FinancialOverlay } from \"./FinancialOverlay\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { Number_$type, typeCast, runOn, markType, markDep, getEnumerator, Point_$type, fromEnum } from \"igniteui-react-core\";\nimport { CategoryFrame } from \"./CategoryFrame\";\nimport { Series } from \"./Series\";\nimport { SafeEnumerable } from \"./SafeEnumerable\";\nimport { TrendCalculators } from \"igniteui-react-core\";\nimport { AxisRange } from \"./AxisRange\";\nimport { FinancialSeriesView } from \"./FinancialSeriesView\";\nimport { ScalerParams } from \"./ScalerParams\";\nimport { ISortingAxis_$type } from \"./ISortingAxis\";\nimport { FinancialBucketCalculator } from \"./FinancialBucketCalculator\";\nimport { Polyline } from \"igniteui-react-core\";\nimport { Polygon } from \"igniteui-react-core\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\nimport { isNaN_ } from \"igniteui-react-core\";\nimport { Flattener } from \"igniteui-react-core\";\n/**\n * @hidden\n */\nvar BollingerBandsOverlay = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(BollingerBandsOverlay, _super);\n    function BollingerBandsOverlay() {\n        var _this = _super.call(this) || this;\n        _this.s8 = 0;\n        _this.s9 = 0;\n        _this.s6 = new List$1(Number_$type, 0);\n        _this.s7 = new List$1(Number_$type, 0);\n        _this.ab = BollingerBandsOverlay.$;\n        _this.pu = new CategoryFrame(4);\n        _this.pw = new CategoryFrame(4);\n        _this.ps = new CategoryFrame(4);\n        return _this;\n    }\n    BollingerBandsOverlay.prototype.lm = function (a, b, c, d) {\n        if (this.q9().contains(b)) {\n            this.s0 = false;\n        }\n        _super.prototype.lm.call(this, a, b, c, d);\n        switch (b) {\n            case BollingerBandsOverlay.$$p[1]:\n                this.s0 = false;\n                this.l0(false);\n                break;\n            case BollingerBandsOverlay.$$p[0]:\n                this.l0(false);\n                break;\n        }\n    };\n    BollingerBandsOverlay.prototype.s1 = function () {\n        this.s6.clear();\n        this.s7.clear();\n        var a = getEnumerator(TrendCalculators.e(new SafeEnumerable(this.q8), this.tb));\n        var b = getEnumerator(TrendCalculators.f(new SafeEnumerable(this.q8), this.tb));\n        this.s9 = 1.7976931348623157E+308;\n        this.s8 = -1.7976931348623157E+308;\n        var c = true;\n        var d = true;\n        var e = this.ta;\n        while (c || d) {\n            if (a.moveNext()) {\n                this.s6.add(a.current);\n            }\n            else {\n                c = false;\n            }\n            if (b.moveNext()) {\n                this.s7.add(b.current);\n            }\n            else {\n                d = false;\n            }\n            if (c && d) {\n                this.s9 = Math.min(this.s9, a.current - b.current * e);\n                this.s8 = Math.max(this.s8, a.current + b.current * e);\n            }\n        }\n        return true;\n    };\n    BollingerBandsOverlay.prototype.ap = function (a) {\n        if (this.s6 == null || this.s7 == null || a == null || this.ch == null || a != this.qc) {\n            return null;\n        }\n        var b = new AxisRange(this.s9, this.s8);\n        return b;\n    };\n    BollingerBandsOverlay.prototype.sh = function (a, b) {\n        _super.prototype.sh.call(this, a, b);\n        var c = b.bv;\n        var d = b.bu;\n        var e = this.getEffectiveViewport1(b);\n        var f = this.pq;\n        var g = this.qc;\n        var h = new ScalerParams(0, c, d, f.cc, e);\n        var i = new ScalerParams(0, c, d, g.cc, e);\n        a.f.clear();\n        a.m.clear();\n        a.p.clear();\n        var j = typeCast(ISortingAxis_$type, this.pq);\n        if (j != null && j.i$b.count != this.ch.count) {\n            return;\n        }\n        var k = 0;\n        k = this.rh(c, d, e);\n        if (!this.s0) {\n            this.s0 = this.s1();\n            if (this.qc != null) {\n                this.qc.cw(true);\n            }\n        }\n        i.b = this.f2();\n        var l = this.pq.eb(2, h) - this.pq.eb(1, h);\n        for (var m = b.bx.c; m <= b.bx.d; ++m) {\n            var n = void 0;\n            if (j == null) {\n                n = b.bx.getBucket(m);\n            }\n            else {\n                var o = j.i$b._inner[m];\n                var p = j.i$d(o);\n                var q = this.s6._inner[m];\n                var r = this.s7._inner[m];\n                var s = q;\n                var t = r;\n                var u = p;\n                var v = 1;\n                while (m < b.bx.d) {\n                    o = j.i$b._inner[m + 1];\n                    u = j.i$d(o);\n                    if (u - p > l) {\n                        break;\n                    }\n                    m++;\n                    s += this.s6._inner[m];\n                    t += this.s7._inner[m];\n                    v++;\n                }\n                s /= v;\n                t /= v;\n                var w = s - t * this.ta;\n                var x = s;\n                var y = s + t * this.ta;\n                var z = NaN;\n                if (!isNaN_(p)) {\n                    z = this.pq.d8(p, h);\n                }\n                n = [z, w, x, y];\n            }\n            var aa = Math.max(1, l);\n            if (!isNaN_(n[0]) && m * aa >= this.s2) {\n                if (this.pq != null && typeCast(ISortingAxis_$type, this.pq) !== null) {\n                    n[0] = n[0] + k;\n                }\n                else {\n                    n[0] = f.d8(n[0], h) + k;\n                }\n                n[1] = g.d8(n[1], i);\n                n[2] = g.d8(n[2], i);\n                n[3] = g.d8(n[3], i);\n                a.f.add(n);\n            }\n        }\n    };\n    BollingerBandsOverlay.prototype.kh = function (a, b) {\n        _super.prototype.kh.call(this, a, b);\n        var c = b;\n        if (c != null) {\n            c.b4();\n        }\n    };\n    BollingerBandsOverlay.prototype.f8 = function (a, b, c) {\n        if (this.s6 == null) {\n            return _super.prototype.f8.call(this, a, b, c);\n        }\n        var d = this.getEffectiveViewport1(this.bx);\n        var e = this.rh(this.bx.bv, this.bx.bu, d);\n        var f = new ScalerParams(0, this.bx.bv, this.bx.bu, this.pq.cc, d);\n        f.c = this.ca.pv;\n        return this.ga(this.s6, a, this.pq, f, e, runOn(this, this.rg), b, c);\n    };\n    BollingerBandsOverlay.prototype.g6 = function (a, b) {\n        if (this.s6 == null) {\n            return _super.prototype.g6.call(this, a, b);\n        }\n        return this.g7(a, b, this.pq, runOn(this, this.rg), this.s6);\n    };\n    BollingerBandsOverlay.prototype.g4 = function (a, b) {\n        if (this.s6 == null) {\n            return _super.prototype.g4.call(this, a, b);\n        }\n        return this.g5(a, b, this.pq, runOn(this, this.rg), this.s6);\n    };\n    BollingerBandsOverlay.prototype.e3 = function (a, b, c) {\n        var d = _super.prototype.e3.call(this, a, b, c);\n        if (!this.qz(this.q9())) {\n            d = false;\n        }\n        return d;\n    };\n    BollingerBandsOverlay.prototype.sj = function (a, b) {\n        _super.prototype.sj.call(this, a, b);\n        var c = typeCast(BollingerBandsOverlayView.$, b);\n        var d = this.getEffectiveViewport1(b);\n        if (b.b0(a)) {\n            c.b4();\n            var e_1 = a.f.count;\n            var f = function (g) { return a.f._inner[g][0]; };\n            var g = function (h) { return a.f._inner[e_1 - 1 - h][0]; };\n            var h = function (i) { return a.f._inner[i][1]; };\n            var i = function (j) { return a.f._inner[j][2]; };\n            var j = function (k) { return a.f._inner[e_1 - 1 - k][3]; };\n            c.b5(e_1, f, g, h, i, j);\n            b.b2(a);\n        }\n        this.pz.a0(this, this.qy(), runOn(this, this.pi), this.rn(b), this.rp(b));\n        var k = false;\n        var l = this.pz.b;\n        var m = a.f;\n        var n = this.ch.count;\n        if (l != null) {\n            k = true;\n        }\n        if (k) {\n            var o = new ScalerParams(0, b.bv, b.bu, this.pq.cc, d);\n            this.sg(m, -1, n, this.pq, o, b.q);\n        }\n        var p = c.cc;\n        var q = c.cd;\n        var r = c.ce;\n        var s = c.b7;\n        this.pz.ad(q, true, false, true, true);\n        this.pz.an = null;\n        this.pz.am = null;\n        this.pz.ad(p, true, false, false, true);\n        this.pz.ad(r, true, false, false, true);\n        this.pz.ad(s, false, true, false, false);\n        s._opacity = this.pz.j * this.fi;\n    };\n    BollingerBandsOverlay.prototype.bu = function () {\n        return new BollingerBandsOverlayView(this);\n    };\n    BollingerBandsOverlay.prototype.lh = function (a) {\n        _super.prototype.lh.call(this, a);\n        this.s5 = typeCast(BollingerBandsOverlayView.$, a);\n    };\n    BollingerBandsOverlay.prototype.rq = function () {\n        return 3;\n    };\n    BollingerBandsOverlay.prototype.f2 = function () {\n        return Series.f3(this.s6, null);\n    };\n    BollingerBandsOverlay.$t = markType(BollingerBandsOverlay, 'BollingerBandsOverlay', FinancialOverlay.$);\n    BollingerBandsOverlay.$$p = markDep(DependencyProperty, PropertyMetadata, BollingerBandsOverlay, 'raisePropertyChanged', ['Multiplier:ta:te', [1, 2], 'Period:tb:tf', [1, 14]]);\n    return BollingerBandsOverlay;\n}(FinancialOverlay));\nexport { BollingerBandsOverlay };\n/**\n * @hidden\n */\nvar BollingerBandsBucketCalculator = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(BollingerBandsBucketCalculator, _super);\n    function BollingerBandsBucketCalculator(a) {\n        var _this = _super.call(this, a) || this;\n        _this.f = null;\n        _this.f = a;\n        return _this;\n    }\n    BollingerBandsBucketCalculator.prototype.getBucket = function (a) {\n        var b = a * this.b;\n        var c = Math.min(b + this.b - 1, this.a.bz.ch.count - 1);\n        if (b <= c) {\n            var d = this.f.b3.ta;\n            var e = 0;\n            var f = 0;\n            var g = 0;\n            for (var h = b; h <= c; ++h) {\n                if (!isNaN_(this.f.b3.s6._inner[h]) && !isNaN_(this.f.b3.s7._inner[h])) {\n                    e += this.f.b3.s6._inner[h];\n                    f += this.f.b3.s7._inner[h];\n                    ++g;\n                }\n            }\n            if (g > 0) {\n                e = e / g;\n                f = f / g;\n                return [0.5 * (b + c), e - f * d, e, e + f * d];\n            }\n        }\n        return [NaN, NaN, NaN, NaN];\n    };\n    BollingerBandsBucketCalculator.$t = markType(BollingerBandsBucketCalculator, 'BollingerBandsBucketCalculator', FinancialBucketCalculator.$);\n    return BollingerBandsBucketCalculator;\n}(FinancialBucketCalculator));\nexport { BollingerBandsBucketCalculator };\n/**\n * @hidden\n */\nvar BollingerBandsOverlayView = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(BollingerBandsOverlayView, _super);\n    function BollingerBandsOverlayView(a) {\n        var _this = _super.call(this, a) || this;\n        _this.b3 = null;\n        _this.b8 = new Polygon();\n        _this.cf = new Polyline();\n        _this.cg = new Polyline();\n        _this.ch = new Polyline();\n        _this.b6 = new Polygon();\n        _this.b9 = new Polyline();\n        _this.ca = new Polyline();\n        _this.cb = new Polyline();\n        _this.b3 = a;\n        return _this;\n    }\n    BollingerBandsOverlayView.prototype.as = function () {\n        _super.prototype.as.call(this);\n        if (!this.q) {\n        }\n    };\n    BollingerBandsOverlayView.prototype.by = function () {\n        return new BollingerBandsBucketCalculator(this);\n    };\n    BollingerBandsOverlayView.prototype.b5 = function (a, b, c, d, e, f) {\n        var e_2, _a, e_3, _b, e_4, _c;\n        try {\n            for (var _d = __values(fromEnum(Flattener.d(a, b, d, this.e.gh))), _e = _d.next(); !_e.done; _e = _d.next()) {\n                var g = _e.value;\n                this.b8.ak.add({ $type: Point_$type, x: b(g), y: d(g) });\n                this.cf.ak.add({ $type: Point_$type, x: b(g), y: d(g) });\n            }\n        }\n        catch (e_2_1) {\n            e_2 = { error: e_2_1 };\n        }\n        finally {\n            try {\n                if (_e && !_e.done && (_a = _d.return))\n                    _a.call(_d);\n            }\n            finally {\n                if (e_2)\n                    throw e_2.error;\n            }\n        }\n        try {\n            for (var _f = __values(fromEnum(Flattener.d(a, b, e, this.e.gh))), _g = _f.next(); !_g.done; _g = _f.next()) {\n                var h = _g.value;\n                this.cg.ak.add({ $type: Point_$type, x: b(h), y: e(h) });\n            }\n        }\n        catch (e_3_1) {\n            e_3 = { error: e_3_1 };\n        }\n        finally {\n            try {\n                if (_g && !_g.done && (_b = _f.return))\n                    _b.call(_f);\n            }\n            finally {\n                if (e_3)\n                    throw e_3.error;\n            }\n        }\n        try {\n            for (var _h = __values(fromEnum(Flattener.d(a, c, f, this.e.gh))), _j = _h.next(); !_j.done; _j = _h.next()) {\n                var i = _j.value;\n                this.b8.ak.add({ $type: Point_$type, x: c(i), y: f(i) });\n                this.ch.ak.add({ $type: Point_$type, x: c(i), y: f(i) });\n            }\n        }\n        catch (e_4_1) {\n            e_4 = { error: e_4_1 };\n        }\n        finally {\n            try {\n                if (_j && !_j.done && (_c = _h.return))\n                    _c.call(_h);\n            }\n            finally {\n                if (e_4)\n                    throw e_4.error;\n            }\n        }\n        this.aq();\n    };\n    BollingerBandsOverlayView.prototype.b4 = function () {\n        this.b8.ak.clear();\n        this.cf.ak.clear();\n        this.cg.ak.clear();\n        this.ch.ak.clear();\n        this.aq();\n    };\n    Object.defineProperty(BollingerBandsOverlayView.prototype, \"b7\", {\n        get: function () {\n            return this.b8;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BollingerBandsOverlayView.prototype, \"cc\", {\n        get: function () {\n            return this.cf;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BollingerBandsOverlayView.prototype, \"cd\", {\n        get: function () {\n            return this.cg;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BollingerBandsOverlayView.prototype, \"ce\", {\n        get: function () {\n            return this.ch;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    BollingerBandsOverlayView.prototype.bc = function () {\n        _super.prototype.bc.call(this);\n        this.b6.ak = this.b8.ak;\n        this.b9.ak = this.cf.ak;\n        this.ca.ak = this.cg.ak;\n        this.cb.ak = this.ch.ak;\n        var a = this.bo();\n        this.b6._fill = a;\n        this.b6._opacity = 1;\n        this.b9._stroke = a;\n        this.b9.ac = this.e.fl + 3;\n        this.ca._stroke = a;\n        this.ca.ac = this.e.fl + 3;\n        this.cb._stroke = a;\n        this.cb.ac = this.e.fl + 3;\n    };\n    BollingerBandsOverlayView.prototype.a6 = function (a, b) {\n        _super.prototype.a6.call(this, a, b);\n        if (a.d) {\n            if (b) {\n                a.t(this.b6);\n                a.u(this.b9);\n                a.u(this.ca);\n                a.u(this.cb);\n            }\n            else {\n                a.t(this.b8);\n                a.u(this.cf);\n                a.u(this.cg);\n                a.u(this.ch);\n            }\n        }\n    };\n    BollingerBandsOverlayView.prototype.al = function (a) {\n        _super.prototype.al.call(this, a);\n        this.e.a6.exportPolygonData(a, this.b8, \"FillShape\", [\"Fill\"]);\n        this.e.a6.exportPolylineData(a, this.cf, \"BottomLine\", [\"Lower\", \"Main\"]);\n        this.e.a6.exportPolylineData(a, this.cg, \"CentralLine\", [\"Central\"]);\n        this.e.a6.exportPolylineData(a, this.ch, \"TopLine\", [\"Upper\"]);\n    };\n    BollingerBandsOverlayView.$t = markType(BollingerBandsOverlayView, 'BollingerBandsOverlayView', FinancialSeriesView.$);\n    return BollingerBandsOverlayView;\n}(FinancialSeriesView));\nexport { BollingerBandsOverlayView };\n//# sourceMappingURL=BollingerBandsOverlay_combined.js.map\n"]},"metadata":{},"sourceType":"module"}